# 数据合理性的评判标准

## 数据合理性的评判标准
## 一、数据合理性的评判标准

## （一）监视标定过程是否正常

## 在标定过程中，应关注两方面的状况：

在现实世界中，机器人的实际运动是否与本文档各标定类型篇目中所描述的标定动作一致；
对于需要定位信息的标定，在 Roboshop 界面上激光点是否与地图有较好的匹配。

## （二）从结果数值判定是否异常

根据本章开头给出的标定结果的含义，判定经标定结果修正后的模型参数是否是可能的。如果发现显著不可能的情况，例如数量级异常、前后左右方位颠倒，则可直接判定标定结果不可靠。

## （三）根据标定绘图判定结果可靠性

## 1.非拟合类标定

非拟合类标定的绘图，通常直接记录了动作指令-待测数值的变化情况，例如舵角范围标定的标定绘图。只需根据数据的意义，判定其是否符合预设标定动作以及实际观察到的现象即可。

### 2.拟合类标定

拟合类标定的绘图中，参考数据（图例中名含“ref”或指明为实测值）和拟合数据（图例中名含“fit”）一般都是成对出现的。标定结果的可靠程度，由两者的匹配程度决定。

更具体地，对于使用了激光或其他传感器（如 PGV）定位结果的拟合类标定绘图，通常包含了持续累积的（绝对的）参考-拟合绘图（通常位于左侧），和差分的参考-拟合绘图（通常位于右侧），我们一般按如下的步骤进行判定：

在持续累积的参考-拟合绘图中，观察代表了定位信息的参考数据的图形，是否与期望的运动轨迹一致，如果不一致则标定结果不可靠。下图是一个双轮差动车的激光-里程计标定的绘图，易见该标定中定位轨迹与期望明显不符。

### 定位信息与期望运动轨迹不一致，一般有两种可能的原因：
机器人行走异常，即机器人实际运动轨迹即与预期不符，而定位信息反映了此情况；
定位异常，即定位信息没有反映真实情况。
在确定了定位轨迹与实际运动基本一致的情况下，进一步查看差分的参考-拟合绘图。该绘图中的每个分支的末端都代表标定过程中的一种运动模态，理想状况下，拟合数据分支的末端应围绕参考数据分支的末端随机散布。拟合误差通常由定位误差经差分过程放大而来，因此散布均匀且范围近似，参见“基于里程计的激光标定”篇目中的绘图示例。而如果某个或多个分支末端上，拟合数据散布的中心偏离了参考数据，或是散布范围明显大于其他分支，则倾向认为这个运动模态下存在异常。下图示例中，圆圈内的分支明显散布范围更大，意味着车辆在右转走弧线的运动中存在异常。

1656412329540-9cc25a8a-7db4-4497-8c0c-bb1992c89ed0.png 

### （四）根据标定完成后的输出指标判定结果可靠性（功能实现中）

## （待功能实现后补充说明）

### 二、出现异常标定结果后的处理方法

## 通常的处理方法为：

如果存在异常的标定结果已经被设置到文件，则需要清空该项对应的标定结果；
根据前述说明，排查可能存在的故障和不利因素；
重新执行标定，观察异常现象是否已经消除；
在无法找到导致异常的原因时，向技术人员寻求帮助。
