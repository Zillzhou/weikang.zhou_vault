# 自定义动作

## 自定义动作
## 自定义动作

在【可拖拽标签】的【机器人控制】里有一项【自定义动作】，包含以下高级动作。
1653466495060-b36fb6a8-e63c-4e5b-9852-e2219b775f3c.png

## 高级纯路径导航

## 注意：此功能可供所有机器人使用！
## {
    "angle": 1.57,
    "duration": 100,
    "id": "LM1",
    "max_acc": 0.1,
    "max_speed": 0.2,
    "max_wacc": 0.1,
    "max_wspeed": 0.2,
    "method": "backward",
    "orientation": 90,
## "spin": true
## }

## 可编辑内容及释义：

【angle】：目标站点（世界坐标系）的角度值, 单位 rad

### 【duration】：导航结束后，机器人等待时间，单位ms

## 【id】：目标站点

### 【max_acc】：最大加速度, 单位 m/s²

## 【max_speed】：最大速度

### 【max_wacc】：最大角加速度, 单位 rad/s²

### 【max_wspeed】：最大角速度, 单位 rad/s

【method】：运动方式，只能为【forward】（正走） 或 【backward】（倒走），如果缺省则使用路径上配置的方式

### 【orientation】：全向车保持的角度（暂不使用）

### 【spin】：【true】开启随动；【false】关闭随动

## 固定路径导航PGV二次定位调整

## 可编辑内容及释义：

## {
    "id": "AP1",
    "pgv_adjust_cx": -0.3,
    "pgv_adjust_cy": 0,
    "pgv_adjust_dist": 0.3,
## "use_pgv": true
## }

## 【id】：目标站点

【pgv_adjust_cx】：二次调整范围中心x在二维码坐标系(这个坐标系与当前机器人坐标系平行）下的位置

【pgv_adjust_cy】：二次调整范围中心y在二维码坐标系(这个坐标系与当前机器人坐标系平行）下的位置

【pgv_adjust_dist】：二次调整的范围的最大半径

【use_pgv】：【true】开启pgv；【false】关闭pgv

## 顶升设备

## 注意：此功能仅供顶升机器人使用！
## {
    "id": "AP1",
    "operation": "JackLoad",
    "recognize": true,
## "use_pgv": true
## }

## 可编辑内容及释义：

## 【id】：目标站点

【operation】：【JackLoad】顶升上升；【JackUnLoad】顶升下降

【recognize】：【true】开启料架识别；【false】关闭料架识别

【use_pgv】：【true】开启上视pgv调整；【false】关闭上视pgv调整。

## 货叉设备

## 注意：此功能仅供自动叉车使用！
## {
    "end_height": 1,
    "id": "AP1",
    "operation": "ForkLoad",
    "recognize": true,
## "start_height": 0.1
## }

## 可编辑内容及释义

## 【end_height】：目标高度

## 【id】：目标站点

【operation】：【ForkLoad】升货叉；【ForkUnLoad】降货叉

【recognize】：【true】开启栈板识别；【false】关闭栈板识别

## 【start_height】：起始高度

## 牵引设备

## 注意：此功能仅供牵引机器人使用！
## {
    "id": "AP1",
    "operation": "HookLoad",
## "recognize": true
## }

## 可编辑内容及释义

## 【id】：结束站点

【operation】：【HookLoad】牵引上料；【HookUnLoad】牵引下料

【recognize】：【true】开启牵引识别；【false】关闭牵引识别

## 【source_id】：起始站点

## 音频设备

## 注意：此功能可供所有机器人使用！
## {
    "id": "AP1",
    "operation": "sound",
## "sounds_args": {
        "loop": 1,
### "name": "navigation"
## }
## }

## 可编辑内容及释义

## 【id】：结束站点

## 【operation】：sound

### 【loop】：【1】循环；【0】只播放一次

### 【name】：【navigation】导航音乐

## 等待DI触发(批量)

## 注意：此功能可供所有机器人使用！
## {
## "args": {
## "DI": [
## {
                "id": 1,
## "status": true
            },
## {
                "id": 2,
## "status": false
## }
        ],
## "timeout": 10
    },
    "id": "AP1",
### "operation": "WaitDI"
## }

## 可编辑内容及释义

## 【id】：结束站点

【status】：【true】打开DI；【false】关闭DI（status前的id指代某一DI）

### 【timeout】：任务完成的超时时间 s

### 【operation】：“WaitDI”等待DI触发

## 控制DO触发(批量)

## 注意：此功能可供所有机器人使用！
## {
## "args": {
## "DO": [
## {
                "id": 1,
## "status": true
            },
## {
                "id": 2,
## "status": false
## }
## ]
    },
    "id": "AP1",
### "operation": "SetDO"
## }

## 可编辑内容及释义

## 【id】：结束站点

【status】：【true】打开DI；【false】关闭DI（status前的id指代某一DO）

### 【operation】：“SetDO”设置DO

## 触发脚本

## 注意：此功能可供所有机器人使用！
## {
    "id": "AP1",
    "operation": "Script",
## "script_args": {
    },
    "script_name": "syspy/triggleScript.py"
## }

## 可编辑内容及释义

## 【id】：结束站点

### 【operation】：“Script"

## 【script_args】: 脚本传参

### 【script_name】：调用脚本名称
