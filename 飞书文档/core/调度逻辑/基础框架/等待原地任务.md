# 等待原地任务

## 等待原地任务
### 0.2.0.250219 和 0.1.9.250219 版本之后，支持等待车辆当前位置的下一个任务。
## 解决的问题
料箱车在传送带前取放货时，完成一次任务后，立刻走开导致的效率低下。
## 解决方法：
车辆到达指定点位执行取/放货任务结束后，根据点位上配置的超时进行等待，
### 如果超时之前有新的原地任务，车辆结束等待，执行任务
如果超时之前没有新的原地任务，有其他地点的任务，即使这个场景中只有一辆车，也不会去执行
如果超时之前调用了提前结束等待的 API，会立刻结束等待，去执行其他任务
## 配置等待超时
## image.png

## 点击需要配置等待时间的点位
在右侧属性面板中点击waitForNextSamePointOrderTimeout
## 在弹出的菜单中指定每辆车的等待超时
## 上图中的配置，意为：
RIL-H 组的车辆在 AP3304 的任务完成后，停在原地等待下一个 keyRoute 或者第一个动作块的 location 字段为 AP3304 或其绑定的库位的下一个任务
## 等待超时为 30 秒

## 提前结束等待 API
## 结束RIL-H-9023车的等待
POST /stopWaitForSamePointOrder

## {
### "vehicles": ["RIL-H-9023"]
## }
## 响应：
## 成功
## {
    "code": 0,
    "create_on": "2025-04-01T12:26:43Z",
## "msg": "ok"
## }
## 输入中的vehicles不是字符串数组
## {
    "code": 50001,
    "create_on": "2025-04-01T12:27:15Z",
    "msg": "vehicles must be array of string"
## }
## 输入中的vehicles不是数组
## {
    "code": 50001,
    "create_on": "2025-04-01T12:27:53Z",
    "msg": "vehicles must be array"
## }
