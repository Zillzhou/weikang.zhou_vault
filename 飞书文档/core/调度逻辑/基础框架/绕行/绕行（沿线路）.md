# 绕行（沿线路）

## 绕行（沿线路）
## @丁禹伯
## 场景定义
机器人在运行时遇到障碍物或故障机器人时，调度会为机器人重新规划出一条新的路线来绕过障碍物或故障机器人
## 绕行逻辑
沿线路的绕行路线严格遵循线路的拓扑结构及路线方向，现有绕行可解决以下情形：
## 遇到障碍物时的绕行
被故障机器人阻挡时的绕行（故障机器人：急停、rbk报错、不明原因的原地不动等）
调度报错 x is blocked by y 一段时间后，x 会绕路 
## 绕障碍物的过程中遇到障碍物
## 绕障碍物的过程中遇到故障机器人
## 绕故障机器人的过程中遇到障碍物
## 绕故障机器人的过程中遇到故障机器人
## 详细逻辑见下方画板

## 相关参数

## 参数名称

## 参数位置

## 参数类型

## 默认值

## 支持版本

## pathAvoid

## 参数配置-导航

## bool

## false

### 0.1.8.230609

## 线路绕行功能总开关

## PathAvoidDelay

## 参数配置-导航

## double

### 10.0

### 0.1.9.240509

## 绕行延时触发时间

## PathAvoidIdler

## 参数配置-导航

## bool

## true

### 0.1.9.240509

## 允许载货状态机器人绕行

## 注意事项
机器人需要绕行时，线路绕行 和 自由导航绕行 是采用哪种策略？
答： 自由导航绕行只有在绕行组内才生效，当机器人位于绕行组内时，会采用自由导航绕行；机器人位于绕行组外时，会采用路线绕行
## 如何定义故障机器人
## 答： 以下几种情形均可视作故障机器人
机器人具有 rbk_error，并且这个报错不是 52200（机器人被阻挡）或 52702（路径规划失败）
## 机器人被拍急停
## 机器人不明原因而原地不动
调度报错 x is blocked by y 一段时间后，y 会被视作故障机器人
## 示例视频
## 位于线路中间时被阻挡，掉头重规划线路

## MidPathReplan.mp4
