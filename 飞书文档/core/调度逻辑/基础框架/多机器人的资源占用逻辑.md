# 多机器人的资源占用逻辑

## 多机器人的资源占用逻辑
## @黄强盛
调度为了防止机器人发生碰撞，增加机器人导航的安全性，调度系统会给每个机器人分配唯一占用的资源。
机器人在调度的场景中，会唯一占用空间资源，互斥组，绕行区域。
占用的空间资源由机器人将要导航的路径构成，如果没有将要导航的路径，则机器人只占用当前所占线路的特定百分比。
占用的互斥组资源，由与机器人将要导航的路径相交的互斥组构成，互斥组包含点、线、区块。
绕行区域，由机器人申请的绕行区域面积决定。
当两个机器人将要申请的资源相交时，则先申请的机器人先获得。后申请的机器人等待。
机器人提前申请的资源距离由 PlanDist 确定。等待的机器人要在后面要与前车保持一段距离，参考数值为 StopSafeDist 。
除此之外，机器人下发的线路是固定一段距离，由 PlanStep 确定。不过，当机器人能通过一段线路直接去终点，或者下发的线路最后一个点距离下一个路径节点的长度小于3倍车体半径时，则直接会发终点或者节点。

## 参数名称

## 参数位置

## 单位

## 默认值

## 最小值

## 最大值

## 支持版本

## PlanDist

## 参数配置-导航

## m

## 5

### 0.001

### 100.0

## ~latest

## 提前规划距离

## StopSafeDist

## 参数配置-导航

## m

### 0.2

### 0.01

### 10.0

## ~latest

## 机器人避障距离

## PlanStep

## 参数配置-导航

## m

## 1

### 0.001

### 10.0

## ~latest

规划路径步长。如果车速比较大，将这个值需要改大。比如大于1m/s， 建议将这个值改为 1。

1656658279520-6c7c2c24-3325-4938-9aa3-70aadd19267d.png

## 自动等待功能
在一些大场景中，人工绘制特别多的互斥区，会导致额外的实施时间。因此，我们在 0.1.8.221221 版本后，调度中增加了 SmartWait 功能，此功能让调度能够通过等待避免死锁，类似于自动绘制了互斥组。

## 参数名称

## 参数位置

## 单位

## 默认值

## 最小值

## 最大值

## 支持版本

## SmartWait

## 参数配置-导航

## false

### 0.1.8.221221

## 通过等待来自动规避死锁
