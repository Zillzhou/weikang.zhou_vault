# 多电梯绕路（G-MAPF-MultiLifts）

### 多电梯绕路（G-MAPF-MultiLifts）
### 当场景中存在多个电梯时，有可能出现以下需求：
有多个电梯处在同一个位置，希望机器人优先选择当前楼层的电梯；
有多个电梯处在不同的位置，希望个别电梯拥堵时，机器人绕远路选择更远处的电梯。
当出现上述需求时，可以尝试使用该功能。
## 相关的参数：

## 参数名称

## 参数位置

## 前置条件

## 默认值

## 支持版本

## G-MAPF-MultiLifts

## 导航参数

## 打开 G-MAPF

## false

## ~lastest

## 是否启用多电梯绕路功能

## G-MAPF-Relaxation

## 导航参数

## 跟随自动配置

## ~lastest

### 机器人进行绕路时，允许的额外的绕路代价（单位：米）

## 相关高级组：
1697506775614-b19823cb-22a2-4aca-b54d-73092a4b5120.png

需要使用 MAPF 组中的延迟属性（delaySecond），对电梯进行正确的配置。该属性的含义为：机器人经过该电梯时，一次所使用的平均时间（单位：秒）。比如电梯可以到达1、2、3层，那么通过一次的平均时间即为 1->2, 1->3, 2->3, 2->1, 3->1, 3->2，六种情况的平均值，大致估算即可不需要特别精确；例如 60 秒或 120 秒等。
开启该功能之后，机器人会判断某一电梯一共有多少机器人需要排队通过，并基于平均通过时间选择能更快到达目标点的电梯。优先选择当前楼层电梯的逻辑同上。
## 额外补充说明
场景推送后，或者 RDSCore 更新后，电梯的当前楼层信息不准，当人为进行呼叫电梯时，机器人存储的电梯当前位置也可能出现不准的情况。
G-MAPF-Relaxation，该参数需要根据场景的实际情况进行配置，如绕路时需要额外行走100米的距离，那么该参数尽量设置为 2 倍，即 200。
## 新版本快速配置
如果使用的是 20231019 及其之后的版本，那么可以使用快速配置，只需要配置绕路的代价上限即可，多电梯参数会在场景中存在多个电梯时自动打开。如下：
1697696672530-76e86890-5de6-48fd-9c59-7e41d0fe73c0.png
