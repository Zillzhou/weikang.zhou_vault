# G-MAPF-EF-5（曲线碰撞检测）

## G-MAPF-EF-5（曲线碰撞检测）
一般情况下，G-MAPF 基于离散的拓扑点位进行死锁检测，当出现曲线时，会对曲线进行拆分，定义为 S、E、M 三点，对应曲线起点的入口、曲线终点的入口、以及曲线的中间点。见下图：
1690771747257-94599fda-8dc2-415b-9431-b6f5e4a25b17.png

所以本质上，是 G-MAPF 自动将曲线补上了额外的点，以此来检测死锁，当曲线长度过长，或转弯超过120°时，预测会不准。
S：靠近曲线入口，距离为当前组内机器人一个车身长度。
E：靠近曲线出口，距离为当前组内机器人一个车身长度。
M：位于曲线的中点。
在上述自动补充的点位中，算法会判断机器人需要旋转的角度，自动追加需要避让的空间。
当曲线超过 6~8 米时，或当重叠地图，不同车型超过3时，上述估计方法性能开始下降。
