# 使用 Roboshop 一键设置 G-MAPF 通用参数

### 使用 Roboshop 一键设置 G-MAPF 通用参数
## @丁禹伯
### 调度最低版本要求: 0.1.8.230519
### Roboshop 最低版本要求： v2.4.1.121
首先需要使用新版的 Roboshop，版本在 v2.4.1.121 及其之后
1684403538506-df53c4cc-94c3-49a4-be36-1eabd9abce72.png

### 找到参数配置中的 G-MAPF 选项，并点击
1688370724355-456adabc-12ad-4bab-b891-fb1167c6bd8c.png

不同版本的 RDSCore，提问的问题会稍有不同，根据需求选择即可，参数每次均会以推荐值出现，如果不需要修改，则为通用参数。
### 对于参数配置中的问题，可以参考下方详细解释：
## 全局视野大小设置

## 问题编号

## KEY

## 默认值

## 范围

## 单位

## 1

## RobotVision

## 15

## 1~200

## 米
视野在满足要求的条件下，应该越小越好。机器人的绕路、避让动作，需要在自己的视野范围内找到可行解。如果存在长通道，并且只有一条主干道无法会车，需要机器人的视野大于整个通道的长度。
这是一个影响调度能力的关键问题，若视野设置过大，调度能力会下降。

## 通用的避让条件约束

## 问题编号

## KEY

## 默认值

## 范围

## 单位

## 2

## BinStrategy

## false

## -

## -
如果库位上有货物时，机器人去避让不会撞到货物，则可以打开这个开关，机器人会有更多可选择的避让策略。

## 主干道特征选项

## 问题编号

## KEY

## 默认值

## 范围

## 单位

## 3

## Undirected

## true

## -

## -
若主干道全为单向线，且可以会车不会有任何冲突和线路重叠，则可以关闭这个开关。 这是一个影响调度能力的关键问题，如果现场的条件允许，应将地图设计成符合上述前提，以此显著地提升调度能力（至少提升一倍）。

## 场景属性自动配置

## 问题编号

## KEY

## 默认值

## 范围

## 单位

## 4

## AutoStrategy

## false

## -

## -
这是23年7月份版本上线的功能，允许算法实时修改场景内的属性，如自动配置互斥区、自动修改点位的 G-MAPF 属性等。继一键配置参数，将现场从配置参数解放出来后，该功能有望帮助现场，从繁重的互斥区修改与高级区域配置的工作中脱离出来。

## 自动重规划与错误恢复

## 问题编号

## KEY

## 默认值

## 范围

## 单位

## 5

## AutoRecover

## true

## -

## -
当出现意外情况，仍然导致死锁时，允许算法尝试恢复当前的异常状态，如将机器人路线清空，重新下发不同的路线、让挡路的车后退等。（错误恢复的条件相对严格，通常不会因此导致其他新的问题）

## 对未修改的参数初始化为默认值

## 问题编号

## KEY

## 默认值

## 范围

## 单位

## 6

## DefaultParameters

## true

## -

## -
如果特殊修改过其他参数，需要将此参数修改为 false。
### 点击确定，耐心等待 3 秒左右，该窗口自动关闭并刷新参数
可以通过先关闭 G-MAPF 的方式检验是否更新成功，每次通过该方式修改参数，均会自动打开 G-MAPF 总开关。
点击一次确定即可，后台会等待参数更新，更新结束之后自动关闭该窗口，若在期间点击多次确定，属于未定义行为。
