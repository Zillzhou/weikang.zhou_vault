# G-MAPF 最高优先级运单

## G-MAPF 最高优先级运单
存在这样一种需求，希望机器人执行运单时，不做任何避让动作，只走规划出来的最短路线，那么可以使用该功能。以下是运单格式：

## Name

## Type

## Description

## Required

## id

## string

### 运单 ID，需保证宇宙唯一，可以是任意值，对长度没有限制

## 是

## externalId

## string

外部单号，可以不唯一；用户可以通过外部单号查询运单详情，见 通过外部单号查询运单

## 否

## vehicle

## string

指定机器人，要求系统就当前运单指定给特定机器人；若不填，则系统会根据当前运行情况自动选择合适的机器人派单

## 否

## group

## string

指定机器人组，要求系统就当前运单指定给特定机器人组；若不填，调度系统会从当前所有机器人中选择能够去终点的机器人。

## 否

## label

## string

指定机器人标签，要求系统就当前运单指定给特定标签的机器人。

## 否

## keyRoute

## string array

关键点，用于辅助确定派单机器人；若不填，则系统会根据当前运行情况自动选择合适的机器人派单。建议填写。关键点不能是 SELF_POSITION

## 否

## keyTask

## string

为 "load"或者"unload"，如果填写其他字段会被自动忽略，用于辅助确定派单机器人；若不填，则系统会根据当前运行情况自动选择合适的机器人派单

## 否

## priority

## int

### 运单优先级，数字越大代表订单优先级越高；可不填

## 否

## blocks

## object array

运单的动作块，一个运单是由多个动作块组成；动作块可以看出是单一的动作，详情可见 blocks 动作块说明

## 否

## complete

## bool

## 运单是否封口
true=运单封口（表示之后不可通过 addBlocks API 添加额外动作块）
false=运单不封口（表示之后可以通过 addBlocks API 添加额外动作块）
如果创建运单时，没有封口。再封口时，需要用 运单封口 。

## 否

## prePointRedo

## bool

### 触发动作块重做策略，机器人是否要先去前置点

## 否

## mapfPriority

## int

### mapf 框架下机器人执行订单避让优先级

## 否

## workArea

## string

### 针对清扫机器人下发清扫运单，目标清扫区域名称

## 否

### additionalProperties

## object

## 补充信息，调度不处理

## 否

### 观察到，存在这样一个指定的字段： priority
若将其设置为一个超过 100000000 的值（8个0），则在打开G-MAPF的前提下，这个运单被标记为不做任何避让动作，只走最短路的一个运单。
建议 priority 设置为 200000000 即可，注意int存在上限，不可以超过 20 亿
