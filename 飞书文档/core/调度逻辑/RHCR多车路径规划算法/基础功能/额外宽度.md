# 额外宽度

## 额外宽度
## 方向上的额外宽度主要用于解决以下问题：
机器人到点不准，形状变化影响碰撞检测，错车时的安全距离等问题
机器人在运行过程中到点不准的情况。因为机器人的定位和运动控制可能会受到多种因素的干扰，导致无法精确到达预定的位置，而额外的宽度能够提供一定的容错空间。
形状变化影响碰撞检测。 当机器人(载货后)形状发生改变时，其碰撞边界也会随之变化，如果没有足够的额外宽度，可能会导致碰撞检测的失误，可能造成死锁甚至碰撞事故。
在错车时保持一定安全距离。 某些安全标准认为由于车辆行驶的速度和方向难以完全精确控制，为了避免两车之间发生碰撞或刮擦，方向上的额外宽度能够为错车提供足够的安全缓冲区域，降低事故发生的风险。
单车报错52200。在底盘不碰的前提下，机器人触发激光阻挡。（如单车配置了ObsExpansion,LoadObsExpansion的情况）
不同的机器人组需要不同的安全距离。
通过配置Extention，Expansion，RHCRExpansionWidth，RHCRExpansionLength，obsExpansion，loadObsExpansion为机器人在地盘大小的基础上增加额外宽度，如下图所示

截至0.2.0.240919 ，一共提供了6种属性配置，含义如下表

## 参数名称

## 参数位置

## 默认值

## 开始支持版本

## RHCRExpansionWidth

## core参数配置

## 0

### 0.2.0.240830

说明：增加机器人宽度值，用于预测到点不准情况，240911之前版本参数名为RHCRExpansionX

## RHCRExpansionLength

## core参数配置

## 0

### 0.2.0.240830

说明：增加机器人长度值，用于预测到点不准情况，240911之前版本参数名为RHCRExpansionY

## Expansion

## core机器人组属性配置

## 0

### 0.2.0.240830

### 说明：增加机器人宽度值，用于机器人消除形状变化影响碰撞检测

## Extention

## core机器人组属性配置

## 0

### 0.2.0.240830

### 说明：增加机器人长度值，用于机器人消除形状变化影响碰撞检测

## obsExpansion

## core机器人组属性配置

## 0

### 0.2.0.240902

### 说明：增加机器人宽度值，用于机器人间的安全距离

## loadObsExpansion

## core机器人组属性配置

## 0

## ~latest

### 说明：增加机器人宽度值，用于机器人间载货运动时的安全距离

调度中为机器人组设置的两侧膨胀宽度，在0.2.0.240902版本之后，会在机器人两侧扩展obsExpansion宽度，常用于叉车场景。
## 使用及案例演示
RHCRExpansionWidth，RHCRExpansionLength
## 配置方法：
设置RHCRExpansionX、RHCRExpansionY 参数，具体值可以根据生产环境的到点精度进行配置
## 图片.png

## 效果视频：
### 未配置前，两车可以同时停在路口，到点不准可能会有碰撞

### 20240910143440_rec_.gif
## 配置后，机器人在路口前提前等待

### 20240910144108_rec_.gif
## Expansion,Extention
## 配置方法
## image.png

## obsExpansion
## 配置方法：
启动编辑----选择机器人组----修改obsExpansion
## image.png

## 效果视频：
如下图，2车沿 LM506->LM565->LM568->LM434 经过3车，正常情况下可以通过，但是基于某些安全标准，小车在经过时必须与其他车保持一定的安全间隙，当小于这个安全间隙时不予通过，因此2车需要停在LM506点等待，直到3车任务完成离开
## image.png

## 20240906-193043.gif

## 注意事项及额外补充说明
机器人两侧最终扩展的宽度为 max(机器人宽度，货物宽度)+obsExpansion+expansion+RHCRExpansionY
不同机器人组obsExpansion同时扩展时考虑最大的obsExpansion宽度
