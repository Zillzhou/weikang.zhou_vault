# 风淋门

## 风淋门
## @杨达
1691488100224-e542f76c-3e8d-420b-b314-594495f39fd9.jpeg

## 门对应路线的命名规则：
第一个enter/leave表示车子前进的方向，是从外部到车间还是车间到外部，enter表示进入车间；leave表示离开车间；
第二个enter表示进入风淋室，leave表示离开风淋室。
### 例如：A点在外部，B点在风淋室内，C在无尘车间内
### A->B为EnterDoorEnterPath
### B->A为EnterDoorLeavePath
### B->C为LeaveDoorLeavePath
### C->B为LeaveDoorEnterPath
## 风淋门的信号交互流程
为了方便描述，从外部到风淋室的门为1号门，从风淋室进入无尘车间的门为2号门
## 需要风淋的流程：
## Core 持续发送开启1号门的指令
车辆在门前等待，直到1号门开门到位，EnterDoorOpenDoneStatus 条件满足
开门到位后，Core 控制车辆进入1号门，停在 EnterDoorEnterPath 的终点
## Core 发送关闭1号门的指令
等待1号门关门到位，EnterDoorCloseDoneStatus 条件满足
## Core 发送开始风淋的指令
等待风淋结束信号，WindShowerDoneStatus 条件满足
## Core 发送开启2号门的指令
车辆在 EnterDoorEnterPath 的终点，也就是 LeaveDoorLeavePath 的起点等待，LeaveDoorOpenDoneStatus 条件满足
## Core 控制车辆通过2号门
车辆到达2号门所在路线的终点，也就是 LeaveDoorLeavePath 的终点后，开始发送关闭2号门的指令
等待2号门关闭，LeaveDoorCloseDoneStatus 条件满足
## 进入风淋的流程结束
## 不需要风淋的流程：
## Core 持续发送开启2号门的指令
车辆在门前等待，直到2号门开门到位，LeaveDoorOpenDoneStatus 条件满足
开门到位后，Core 控制车辆进入2号门，停在 LeaveDoorEnterPath 的终点
## Core 发送关闭2号门的指令
等待2号门关门到位，LeaveDoorCloseDoneStatus 条件满足
## Core 发送开启1号门的指令
车辆在 LeaveDoorEnterPath 的终点，也就是 EnterDoorLeavePath 的起点等待，EnterDoorOpenDoneStatus 条件满足
## Core 控制车辆通过1号门
车辆到达1号门所在路线的终点，也就是 EnterDoorLeavePath 的终点后，开始发送关闭1号门的指令
等待1号门关闭，EnterDoorCloseDoneStatus 条件满足
## 离开风淋的流程结束
## 配置
## 风淋门有两种配置方式：
## 旧版本中，使用模型文件配置
## 新版本中，使用设备组配置
## 使用模型文件（旧）
在场景中配置自动门，选择 WindShower 类型，输入风淋门的名称
1692093438230-4ff17353-42ee-4d55-a41d-d41d2e0365ef.png

在模型文件中，新增 WindShower 类型的设备，名称和场景中风淋门名称对应
1692093461933-fd311c51-4c8f-4a0a-b9aa-38daf5297f58.png

## 配置模型文件中的地址和路径

## 配置项

## 类型

## 描述

### EnterDoorOpenCommand

## modbus地址，写入

## 开EnterDoor的指令

### EnterDoorCloseCommand

## modbus地址，写入

## 关EnterDoor的指令

### EnterDoorOpenDoneStatus

## modbus地址，读取

## EnterDoor开门到位状态

### EnterDoorCloseDoneStatus

## modbus地址，读取

## EnterDoor关门到位状态

### LeaveDoorOpenCommand

## modbus地址，写入

## 开LeaveDoor的指令

### LeaveDoorCloseCommand

## modbus地址，写入

## 关LeaveDoor的指令

### LeaveDoorOpenDoneStatus

## modbus地址，读取

## LeaveDoor开门到位状态

### LeaveDoorCloseDoneStatus

## modbus地址，读取

## LeaveDoor关门到位状态

### WindShowerStartCommand

## modbus地址，写入

## 开始风淋的指令

### WindShowerDoneStatus

## modbus地址，读取

## 风淋完成的状态

### WindShowerErrorStatus

## modbus地址，读取

## 风淋报错状态

## EnterDoorEnterPath

## 路线

### EnterDoor一侧，进入风淋室的路线

## EnterDoorLeavePath

## 路线

### EnterDoor一侧，离开风淋室的路线

## LeaveDoorEnterPath

## 路线

### LeaveDoor一侧，进入风淋室的路线

## LeaveDoorLeavePath

## 路线

### LeaveDoor一侧，离开风淋室的路线

## WindShowerPoint

## 点

## 风淋点

## 使用设备组（未完成，不能使用）
1700813655148-3ce8e49a-b5e1-4c4d-9817-e3470f305266.png

## 1.Door-0

## 参数名称

## 参数位置

## 单位

## 默认值

## 最小值

## 最大值

## 支持版本

## closeList

### 风淋门Door-0-属性-ModbusTCPProxy2

## json string

[{"address":18,"addressType":5,"value":0}]

## ~latest

## 关Door-0指令地址、值列表

## openList

### 风淋门Door-0-属性-ModbusTCPProxy2

## json string

{"address":16,"addressType":5,"value":1}

## ~latest

## 开Door-0指令地址、值列表

## openStatus

### 风淋门Door-0-属性-ModbusTCPProxy2

## json string

{"address":0,"addressType":1,"value":1}

## 开Door-0状态地址、值

## closeStatus

### 风淋门Door-0-属性-ModbusTCPProxy2

## json string

{"address":1,"addressType":1,"value":1}

## 关Door-0状态地址、值

## proxyName

### 风淋门Door-1-属性-ModbusTCPProxy2

## string

## proxyone

## 代理名称

1700812600211-9eb805d3-4a7b-4abb-a88e-6d0dcc052622.png

### 2.Door-1

## 参数名称

## 参数位置

## 单位

## 默认值

## 最小值

## 最大值

## 支持版本

## closeList

### 风淋门Door-1-属性-ModbusTCPProxy2

## json string

[{"address":18,"addressType":5,"value":0}]

## ~latest

## 关Door-1指令地址、值列表

## openList

### 风淋门Door-1-属性-ModbusTCPProxy2

## json string

{"address":16,"addressType":5,"value":1}

## ~latest

## 开Door-1指令地址、值列表

## openStatus

### 风淋门Door-1-属性-ModbusTCPProxy2

## json string

{"address":0,"addressType":1,"value":1}

## 开Door-1状态地址、值

## closeStatus

### 风淋门Door-1-属性-ModbusTCPProxy2

## json string

{"address":1,"addressType":1,"value":1}

## 关Door-1状态地址、值

## proxyName

### 风淋门Door-1-属性-ModbusTCPProxy2

## string

## proxyone

## 代理名称

1700812727062-21a27e32-6555-4e83-a26d-002da6150d77.png

### 3.WindShower

## 参数名称

## 参数位置

## 单位

## 默认值

## 最小值

## 最大值

## 支持版本

## WindShowerOpen

风淋门WindShower-属性-ModbusTCPProxy2

## json string

[{"address":25,"addressType":1,"value":1}]

## ~latest

## 开始风淋状态地址、值

## WindShowerStatus

风淋门WindShower-属性-ModbusTCPProxy2

## json string

{"address":14,"addressType":1,"value":1}

## ~latest

## 风淋状态地址、值

## proxyName

风淋门WindShower-属性-ModbusTCPProxy2

## string

## proxyone

## 代理名称

1700813126461-7df6be3a-10cb-4d11-beb0-cb4b3ea3701d.png
