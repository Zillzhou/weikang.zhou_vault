# 回调FAQ

## 回调FAQ
## 各种回调什么时候执行？
回调指运单、动作块完成或者状态变化时，Core发送HTTP请求给服务器的功能。

## 目前有四种回调：
## PostAction，动作块完成时回调
Receiver-BlockStateChange在动作块状态变化时执行
### StatePoster，拼合单状态变化时执行
Trigger-OrderStateChange，在运单状态变化时执行
### 下图中标明了运单状态变化和回调执行时间：
1702972774026-5f54a58e-292e-4ceb-8352-eb6c2f124b18.jpeg

### 回调不通，如何判断是否是重定向导致的问题？
使用Postman，进行回调的请求，如果不通，不是重定向导致的问题
### 使用Postman，按下图方式关闭自动跟随重定向：
1708670727338-109f0984-0ba3-4a82-92bb-1415594d2263.png

修改设置后，使用Postman再次尝试请求回调，如果通，不是重定向导致的问题
### 如果修改设置导致请求不通，是重定向导致的问题
## 如何解决重定向导致回调不通的问题？
使用Postman请求结果如下图，HTTP状态码为3xx，Headers（响应头）中有Location字段，对应的值即为重定向后的地址，将配置中的地址改为Location的值即可 
1708670906339-68f06db1-106b-40c4-98f2-8cb62b714f71.png

## 错误码60007是什么？
## output.jpg

动作块回调中可以配置期望的响应。如果服务器返回的报文和期望的响应不一致，订单中就会有报错60007，提示回调失败的原因。
图片中的报错内容，意思是：配置的响应json为 {"code":200, "msg":"success"}，但是实际返回的json中，code字段和配置不一致，所以回调失败了
