# 叉车功能测试

## 叉车功能测试

## 版本

## 更新日期

## 更新说明

## 文档状态

## 维护责任人

## V1.0

### 2024.4.29

## 更新发布

## 使用中

注：文档只列出测试通过的标准，若实际测试中出现与所描述的表现不一致，则认为不通过。
## 1. 货叉升降测试标准
## 1.1. 测试办法
空载时升降货叉测量并记录低位的高度Ha和高位高度Hb，升降状态的左侧货叉高度HL 与右货叉高度HR， 对比是否符合预期 ；
负载时升降货叉测量并记录低位的高度Ha和高位高度Hb，升降状态的左侧货叉高度HL 与右货叉高度HR， 对比是否符合预期 。
1710066021986-058830b6-f422-43de-964a-b5efe61ae782.jpeg

## 1.2. 测试通过标准
### 1 .货叉在空载、满载、空载-满载上升下降均无卡顿异常；
### 2 .空载前后货叉高度差标准范围0cm≤（Ha-Hb）≤2cm；
### 3 .左右货叉高度差标准范围0cm≤ |HL-HR| ≤1cm之间；
### 4 .满载前后货叉高度差标准范围（Hb-Ha）≤5cm。

### 2. 左右叉尖避障测速
### 2.1. 测试办法
车体倒退时用障碍物分别在单个叉齿后方阻挡，观察是否符合预期。
1710066002098-02610782-9b77-4cd4-85a0-43bd9fd65a86.jpeg

### 2.2. 测试通过标准
障碍物可以在距离车体0.5m左右停止运行。

### 3. 叉尖碰撞机构测试
### 3.1. 测试办法&测试通过标准

## 测试办法

## 测试通过标准

## 1

Step 1：叉车处于导航状态下未触发碰撞开关情况下；
Step 2:查看roboshop IO 设置里面对应的DI是否有反应，同时观察叉车表现。

对应 DI 没有触发，叉车正常运行。

## 2

Step 1:叉车处于导航状态下，使用测试工装触发碰撞开关；
Step 2:查看roboshop IO 设置里面对应的 DI 是否有反应，同时观察移动机器人表现。

对应 DI 被触发，叉车停止运行。

## 3

Step 1:叉车处于停止状态下，使用测试工装顶住碰撞机构，同时控制叉车往后倒走；
Step 2: 查看roboshop IO 设置里面对应的DI是否有反应，同时观察叉车表现。

对应 DI 被触发，叉车不能开始运动。
1710065981304-5d5d3ebb-51e4-40eb-8b4f-3a6f86163030.png

### 4. 货物到位开关
### 4.1. 测试办法
将货叉左右货物到位开关分别压下，观察对应DI触发情况，观察是否符合预期。

### 4.2. 测试通过标准
货物到位开关压下后，roboshop界面对应的DI已触发。
### 5. 左右转向灯（CBD15无）
### 5.1. 测试办法
控制叉车直行左转、右转以及后退，观察转向灯的对应表现，观察是否符合预期。
### 5.2. 测试通过标准
### 以"观察者站在车尾面向车头"为观察坐标系：
左转时叉车左边黄色流水灯闪烁；
右转时叉车右边黄色流水灯闪烁；
倒退时两侧黄色流水灯同时闪烁。
### 6. 三色灯
### 6.1. 测试办法
在不同车体工作状态下，观察叉车运动时三色灯的闪烁情况是否符合预期。
1710065922919-4877177f-a228-4130-8cbd-bc94754fce1f.png

### 6.2. 测试通过标准
运动时绿灯常亮；
等待时黄灯常亮；
报错时或拍下急停时红色常亮并伴随蜂鸣器蜂鸣报警。
### 7. 急停按钮
### 7.1. 测试办法
叉车在运行过程中将急停按钮拍下再拔起，观察车体表现是否符合预期。
1710065872214-edbdae0f-d456-4c87-86c5-a0ffd750d383.png

### 7.2. 测试通过标准
拍下急停按钮后，叉车立即停止运行，三色灯转为红色且持续蜂鸣器警报响起；
拔起后，急停按钮有效弹起，警报解除（带复位按钮的车体需要按下复位按钮后警报才解除）；
### 如果模型文件配置resuseTask任务继续，如下图：
1710062185815-db0fd361-1ef6-496c-ba61-11c192295a57.png

### 如果模型文件配置cancelTask任务取消，如下图：
1710062227405-d3c3e633-9017-4496-86b0-3a3ca77f581a.png

### 8. 栈板识别
### 8.1. 测试办法
在叉车后方放置一块栈板，将栈板尺寸匹配到识别文件中，通过roboshop给叉车下发识别叉货任务，观察车体表现是否符合预期。
### 8.2. 测试通过标准
叉车能够正常执行任务将栈板叉起，无执行过程中叉车货叉撞到栈板现象。
### 9. 料笼识别
### 9.1. 测试办法
在叉车后方放置一料笼，将料笼尺寸及Tag匹配到识别文件中，通过roboshop给叉车下发识别叉货任务
### 9.2. 测试通过标准
叉车能够正常执行任务将料笼叉起，无执行过程中叉车货叉撞到料笼现象。
### 10. 舵轮位置
### 10.1. 测试办法
Step 1:使用roboshop，设置舵轮角度为0度；
Step 2:拆下车体前塑料罩壳；
Step 3:测试者位于车头正前方，面对车体内部设备，观察舵轮状态，是否符合下图位置。
1710065838265-9c369926-f638-4a5f-b6ae-f4fa616a7d1a.png

### 10.2. 测试通过标准
实际观察结果与图中显示情况一致 （此处需要与机械工程师确认状态描述方法） 。
### 11. 碰撞条
### 11.1. 测试办法& 测试通过标准

## 测试办法

## 测试通过标准

## 1

Step 1:配置碰撞条触发阻挡（砝码低于避障激光高度，或者关闭避障激光避障）；
Step 2:可先顶住碰撞条，控制AGV 往前正走，查看roboshop 显示状态，碰撞条功能是否实现。

碰撞条触发，叉车停住运行。

## 2

Step 1:配置碰撞条触发阻挡，取消任务功能（砝码低于避障激光高度，或者关闭避障激光避障）；
Step 2:控制AGV 导航，查看roboshop 显示状态，碰撞条功能是否实现。

碰撞条触发，叉车停止运行，任务取消。

## 3

Step 1:使用拉力计顶住碰撞条；
Step 2:观察是否成功使碰撞条产生响应，并记录响应时拉力计的显示力值。

符合产品设计中的碰撞条响应触发值。

## 4

Step 1:从多个角度使碰撞条受力；
Step 2:查看roboshop 上碰撞条对应DI的反；
Step 3:观察碰撞条是否存在无功能死区。

最好状态无死区，碰撞条受力即能触发。

## 5

Step 1:通过roboshop->机器人模型->DISensor配置碰撞条的function为stop；（砝码需低于避障激光高度，或者关闭避障激光避障）；
Step 2:建立任务链并循环执行，路径上放置砝码为障碍物；
Step 3:撞击砝码后查看机器人表现。

碰撞条触发，叉车停住运行。

## 6

Step 1:通过roboshop->机器人模型->DISensor配置碰撞条的function为slowdown；
Step 2:建立任务链并循环执行，路径上放置砝码为障碍物；
Step 3:撞击砝码后查看机器人表现。

叉车撞到障碍物碰撞条触发，叉车依然继续行走,但执行减速。
