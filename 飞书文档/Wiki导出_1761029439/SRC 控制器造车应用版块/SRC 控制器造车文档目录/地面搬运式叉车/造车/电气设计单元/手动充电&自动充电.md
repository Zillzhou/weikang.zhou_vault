# 手动充电&自动充电

## 手动充电&自动充电

## 版本

## 更新日期

## 更新说明

## 文档状态

## 维护责任人

## V1.0

### 2024.4.29

## 更新发布

## 使用中

## 充电
## 手动充电
## 选型
## CBD15实现手动充电需要准备：
## 手动充电器 x1
## 手动充电线 x1
## 验证
## 将上述三根线按下图连接
1711014359133-e5cb4985-3a4d-4375-8e45-f090041b726c.jpeg 

1711014378692-ab4e7e50-ff6c-47f1-9c72-eb24cef7872a.jpeg

## 电池输出
1711014620564-b9502f0c-41dd-44d7-a12c-abccc8bebf91.png

## 自动充电
## 仙工自研自动充电桩
      CBD15目前使用仙工自研充电桩。自动充电需要在模型文件中配置charger，点击charger进行配置。
1710333860223-2f535716-37be-488a-808d-3587a8801d20.png

## 充电桩模型文件功能参数介绍

## 参数名称

## 参数位置

## 单位

## 默认值

## 最小值

## 最大值

## 支持版本

## x

## 模型文件-charger-basic

## m

## 0

## -9

## 9

### 3.3.4.20~latest

## 充电口在车体坐标系下x轴方向的值

## y

## 模型文件-charger-basic

## m

## 0

## -9

## 9

### 3.3.4.20~latest

## 充电口在车体坐标系下y轴方向的值

## theta

## 模型文件-charger-basic

## °

## 0

## -360

## 360

### 3.3.4.20~latest

### 充电口在车体坐标系下 z 轴的角度偏移值

## switchDO

## 模型文件-charger-basic

## m

## -1

## -1

## 1000

## ~latest

预置条件 ：所要控制的充电 DO 必须装配有充电回路继电器。若无该继电器或不需要控制该充电 DO 时，将 switchDO 设置为 -1 即可。用于在充电时控制是否打开充电 DO 或打开对应 id 的充电 DO，不开启时该数值填写为 -1。例如：在充电时需要打开充电 DO3，则该数值应该填写为 3。
对于叉车，如果配置了switchDO，那么叉车离开充电桩前，需要同时保证switchDO 关闭，并且充电电流小于0。

## switchTimes

## 模型文件-charger-basic

## m

## 0

## 0

## 1000

## ~latest

在无法一次成功打开 switchDO 情况下，尝试开启 switchDO 的次数

## switchDODuration

## 模型文件-charger-basic

## s

## 3

## 1

## 1000

## ~latest

## 打开和关闭 switchDO 的周期

## openDODist

## 模型文件-charger-basic

## m

## 1

## -1

## 100

## ~latest

表示在自动模式下，当机器人和充电桩距离小于该参数时，会将充电 DO 打开。例如：设置该数值为 1 和 switchDO 为 7 时，在充电距离小于 1 m 的时候，会打开充电 DO7；当这个值配置为 0 时，将会启用新逻辑：通过看是否有 DI 被配置成 "openCharge"，如果有，那就导航直到有一个符合要求的 DI 被触发后停下，之后再将充电 DO 打开。特别注意：如果不存在硬件 DO，而是使用虚拟 DO 进行控制，需要在模型文件中 DO 列中添加一个 DO。对于叉车适配我司充电器存在一个特殊逻辑，当该值配置小于 -0.1 时，到达目标点后，会先等待充电桩伸出到位后，再打开 switchDO，从而避免充电开始大火花的现象

## disableByEMC

## 模型文件-charger-basic

## false

拍急停是否关闭充电 DO，勾选则为拍急停断开充电 DO，反之将充电 DO 置于打开状态

### chargeDisableMotorTime

## 模型文件-charger-basic

## s

## 1.

## 0

## 100

## ~latest

完成充电任务前，需要将walk电机或者抱闸电机去使能相应的时间后再恢复使能

## autoShieldLaser

## 模型文件-charger-basic

## true

## ~latest

控制在充电点自动屏蔽障碍物的区域是否生效，需要配合roboshop里的高级区域使用。

## powerOffDO

### 模型文件-charger-powerOffDO

## -1

## -1

## 1000

## ~latest

表示充电到点完成后进行关闭（用于关闭设备进行充电的场合）。当机器人从充电处离开前，会自动打开 poweroffDO。

## 非仙工自研自动充电桩
