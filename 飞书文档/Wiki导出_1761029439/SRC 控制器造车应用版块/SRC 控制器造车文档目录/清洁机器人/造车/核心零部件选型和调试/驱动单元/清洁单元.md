# 清洁单元

## 清洁单元

## 版本

## 更新日期

## 更新说明

## 文档整理人

## 维护责任人

## 研发审核人

## 应用审核人

## 市场审核人

## V1.0

### 2024.4.2

## 孟宪璋

## 下图为控制清洁模块
## image.png

## 一、清洁驱动器单元
## 机构控制形式3种
## 1、功率控制：刷盘电机、风机、喷水电机
### 2、阀门控制：清水阀（喷水阀）、污水阀（排污阀）
### 3、升降控制：刷盘升降电机、水扒升降电机
          清洁机器人由 SRC2000 进行统一控制，SRC2000 将清洁机构的指令下发至清洁驱动器，再由清洁驱动器控制相关的机构具体进行；同时清洁驱动器收集相关清洁机构的状态信息（例如，清水量、污水量）等，方便SRC2000 进行采集。 SRC2000 通过 can 通讯与清洁驱动器单元进行信息交互，SRC2000 通过 can 穿透 实现与清洁驱动器的 SDO 数据通讯 ；基于以上背景 ，在清洁机器人选型时需要关注以下重点：
## 1.1.  清洁驱动器 需要使用 canopen 通讯协议，能够支持 SRC2000 与其实现 SDO 数据通讯；
## 1.2   清洁驱动器 需要能够控制所有清洁相关的设备：刷盘电机、刷盘推杆、吸风电机、水扒推杆、喷水电机、喷水阀门、污水阀门；
## 1.3 清洁驱动器需要能够读取清水量及污水量；
## 1.4 清洁驱动器需要设置看门狗功能，当SRC2000与清洁驱动器 1s 内未通讯时，需要关闭所有的清洁设备及阀门；
SDO:SDO一般用来配置参数，必须应答，服务数据对象（Service Data Obiect），服务数据的发送接收，实时性要求不高，SDO一般用来配置和获得节点的配置参数（即主要用于从站的配置），其优先级只比心跳高。
PDO:PDO是传递对象字典的CANOpen报文协议，简单来区分就是PDO一般用于同步数据，无须应答，PDO一般放在同步模式中。PDO：过程数据对象（Process Data Object），过程数据的发送，实时、速度快，提供对设备应用对象的直接访问通道，它用来传输实时短帧数据，具有较高的优先权。PDO传输的数据必须少于或等于8个字节，在应用层上不包含传输控制信息，报文利用率极高。
### 二、脚本控制
## 1.在 roboshop 上位机软件中点击需要连接的机器人，找到“机构脚本”，如下图所示：
## image.png

① 点击“机构脚本”；
② 选择机构执行的机构脚本；
### 企业微信截图_17119432201227.png

③ 根据实际需要执行的动作选择对应的操作；
