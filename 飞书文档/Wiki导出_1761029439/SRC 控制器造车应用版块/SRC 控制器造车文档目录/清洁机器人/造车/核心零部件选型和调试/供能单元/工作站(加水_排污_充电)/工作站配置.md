# 工作站配置

## 工作站配置

## 版本

## 更新日期

## 更新说明

## 文档状态

## 维护责任人

## V1.0

### 2024.4.29

## 更新发布

## 使用中

## 前言
## 基本概念
要保证机器人的续航能力，机器人的长时间工作会导致机器人的电量不足，这时可以前往工作站进行电量补给，为机器人的续航提供强有力的保障；该款机器人为仙工智能自主研发的清洁机器人，除了对电量的要求外，还对清洁模块有着较高的要求，所以充电站还需给机器人提供自动注水/排水等功能，体现出清洁机器人强大的自我意识；
## 通讯方式
因机器人与工作站存在交互关系，故需要选择无线通讯的方式，可以使用无线射频（RF）技术，通过向工作站发送特定的指令来改变工作站的状态，例如清洁机器人为例，使用SRC核心控制器下发指令给工作站，工作站作出相应的回应，机器人进行充电任务或是进行排污任务；
## 已经适配工作站参数

## SCL-AWG50 配套工作站列表

## 序号

## 参数名称

## 参数

## 1

## 产品名称

## 清洁机器人专用工作站

## 2

## 型号

## SCS-SW2450H

## 3

## 外形尺寸(mm)

### 510(L)*522(W)*1020(H)

## 4

## 整体重量

## 49Kg

## 5

## 额定功率

## 1500W

## 6

## 污水箱容积

## 8L

## 7

## 最大充电电流

## 50A

## 8

## 工作输入电压

## 100~240V

## 9

## 工作输出电压

### 29.2V

## 10

## 工作温度

## - 10~50 ℃

## 11

## 工作湿度

## 20~70%

## 12

## 安装要求

### 10A 三孔国标插座 / 接入水压 ≤0.05Mpa
## 已适配的工作站型号
## 结构介绍
## image.png

## 序号

## 名称

## 作用说明

## 1

## 电源指示灯

表示该充电站是否正常供电，指示灯分为红色（正在工作中）、绿色（未再工作中）

## 2

## 注水口

### 机器人到达工作站后，工作站向机器人清水箱中注入清水

## 3

## 风扇

缓解工作站内部压力，将工作站内部风排出工作站，降低充电站内部电气件温度

## 4

## 自动充电刷板

机器人执行充电任务时，机器人充电刷板与工作站刷板接触，打开充电继电器，可向机器人输入电流

## 5

## 清水注入口

此端连接水龙头处，当机器人需要加清水的任务存在时，机器人发送addwater指令，可直接给机器人加入清水

## 6

## 污水排出口

此处连接下水管道处，机器人先将污水箱中的污水排至工作站内，再将工作站内的污水排出工作站

## 7

## 排污口

机器人到达工作站后，发送指令将机器人车体内的污水排至工作站排污口

## 8

## 工作站电源线

## 使用10A三芯电源线给工作站供电

## 9

## 反光条

机器人上的导航激光识别该反光条，使机器人能更精确的到达工作站
## 充电桩安装要求及配置
## 配备有足够水压的供水水源（水龙头）
## 需配备排（污）水管道
## 需配备稳定可靠的电源
需有适宜的充电、停靠环境，建议将充电桩依靠在硬质的墙面上，保证可桩牢靠

## 工作站安装

## 仙工智能—清洁机器人工作站安装.mp4

## 机器人识别工作站文件配置
### 充电桩识别模型，用于自动充电/排污水，具体属性参数如下：
## 1.在roboshop上位机软件中，点击【识别编辑】文件；
## image.png

## 1.点击【识别编辑】文件；
### 2.选择charger--amb；
### 3.在右边属性框中填写详细的参数；

## key

## description

## minwidth

## 充电桩上反光条的最小宽度

## maxwidth

## 充电桩上反光条的最大宽度

## dx

充电极片，相对于充电桩坐标系原点，在 x 轴上的偏移量，需要手动测量

## dy

充电极片，相对于充电桩坐标系原点，在 y 轴上的偏移量，默认量为0

## recognize

## 是否识别

## method_type

## 反光条方式
### 4.确认修改的参数无误后，点击推送；

## 验证
## 自动充电操作
## 站点配置
在roboshop上位机调试软件中，点击【启动编辑】；
## image.png

## 序号

## 作用说明

## 备注

## 1

## 表示当前处于是否可编辑状态

## NA

## 2

## 指针模式

## NA

## 3

## 此处为工作站存在的位置

## NA

## 4

## 特殊工作站（chargePiont）

## 充电站点，可在此站点进行充电

## 5

## 识别类型文件

将【识别编辑】修改的文件，在下拉框选择amb.charger
## 线路设置
## image.png

## 序号

## 作用说明

## 备注

## 7

## 表示当前处于是否可编辑状态

## NA

## 8

## 指针，可点击选择功能属性

## NA

## 9

## 线路功能

### 可连接机器人之间的站点，作为机器人的行走路线

## 10

## 线路属性

## 可设置线路的详细属性

## 11

## 行驶方向

### 机器人在该线路中可设置为单向行驶也可设置双向行驶

## 12

## 线路的详细属性

### 设置机器人在此线路的属性，例如行驶的最大速度

## 13

## 行走方式

### 机器人在此线路以正走或者倒走的方式进行行驶
站点及线路设置完毕后，退出编辑状态（退出编辑）并上传修改后的地图场景；
## 开始充电
## image.png

## 序号

## 描述

## 备注

## 1

## 获取机器人的控制权

## NA

## 2

## 路径导航

## 使用路径导航的方式前往充电站点进行充电

## 3

## 黑色的点云

### 表示机器人在工作站周围看到高反物质（反光条）

## 4

## 点击选择CP站点

## 机器人进行充电的站点

## 5

## 路径导航至CP1

表示机器人使用路径导航的方式前往工作站进行充电；
## image.png

### 当机器人到达CP站点后，可点击【运行状态】：
1：【运行状态】：当前机器人的所有状态；
2：到达CP站点后，可看到电池电流为正电流，表示机器人正在充电中；
至此自动充电操作完毕；
## 工作站自动注水/排污水
### 在roboshop中，点击【机构脚本】：
## image.png

机构脚本：控制外设动作所使用到的文件；
选择需要使用的脚本名称；
点击开始会弹出对应的操作框；
勾选并选择对应的operation；
点击AddWater这一操作；
选择操作后点击确定；
若清水箱内的清水量不足，工作站则会往清水箱内注入清水，同时检查污水箱内是否有污水，若达到设定的排污阈值，机器人作出排污动作；
若加水任务符合上述描述，则表示此次验证通过；
## 附录
## 充电任务与排污任务逻辑
充电与排污均属控制器中的PowerDO控制，DO1为充电继电器，当机器人需要进行充电时，打开此PDO可正常充电，DO4为加水DO；
抢占机器人“控制权”后，充电开关在机器人控制界面的“IO配置”中查看；
本文中清洁机器人，调用脚本进行加水时DO4会自动开启，清洁机器人到达脚本设定水位（加水完成）时将自动关闭，；也可手动开启“DO4”单独执行加水命令，但要注意手动开启“DO4”时 ，加水完成后可能无法自动关闭， 需手动关闭DO4按钮 ，否则会溢出水箱。
1708572699378-cd3c19a4-985c-4202-bb2d-fe064fa1d0b2.png

## 充电桩无法加水排水排污时请先排查
注意清洁机器人与工作站是一对一进行通讯，未使用指定充电桩是会导致无法完成加水排污
检查供水处，水阀是否开启，水压是否充足，充电桩内球阀有无异常
## 污水水箱排水处是否堵塞（淤泥、异物）
## DO配置是否正确，是否拥有控制权
## 对桩是否到位，电源电压是否正常
