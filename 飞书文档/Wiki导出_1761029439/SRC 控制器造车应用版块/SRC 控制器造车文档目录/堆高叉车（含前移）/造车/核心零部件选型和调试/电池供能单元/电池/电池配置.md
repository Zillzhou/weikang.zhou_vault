# 电池配置

## 电池配置
## 更新记录：

## 版本

## 更新日期

## 更新说明

## 文档状态

## 维护责任人

## V1.0

### 2024.4.29

## 更新发布

## 使用中

## 文档资源文件清单：

## 文件名

## 资源文件

## 文档内编号

## 常见类型叉车模型文件

## 模型文件.zip

## 模型文件-01
## 适配说明
最新电池适配情况请参见：SRC-2000(S) 控制器电池适配说明。
## 模型文件配置
1711025633672-d8ec5e41-944a-4fde-9269-35a46de4af45.png 

## 图 1.1 模型文件配置页面
进入battery；
启用设备；
配置电池应用参数：报警电量百分比、低电量关机百分比等；
### 选择品牌，电池的品牌/型号主要有以下两类：
已适配的常用品牌/型号，直接在下拉框中选择即可；
通信脚本类电池，此类电池与控制器的通信通过串口（一般是 RS485）或 CAN 实现，由于通信协议为电池厂家定制的，未进行适配，须通过电池穿透脚本实现与电池通信。选择此类电池后，须编写对应的脚本文件，并在模型文件中填写所使用的脚本名称。脚本编写教程及技术支持请联系仙工工程师。
1703642948486-778b9248-0aeb-44c3-b3e2-596722c3fbbe.png

## 图 1.2 配置 brand
选择电池电压；
1703642924082-dcc62caf-2bb1-4f74-8a3c-e01ea7214be6.png

## 图 1.3 配置电压
配置电池容量；
1703642930377-c60a524f-871c-42e7-8485-04eae09bbfc5.png

## 图 1.4 配置容量
选择电池容量数据来源：电池协议、电压；
1703642895354-68322ad8-e59f-437e-acc6-8b9989e93c22.png

## 图 1.5 配置电池容量数据来源
选择通信接口类型及端口号：一般为CAN PORT2;
1703642907786-2833f008-de15-4dc3-ad9c-dd374be020e9.png

## 图 1.6 配置通信接口
选择波特率。
1711029452496-a1735ee5-6b6a-4bc4-86eb-47201ee6a096.png

## 图 1.7 配置波特率
## 配置结果验证
配置完成后点击上传；
确定并推送至机器人控制器；
## image.png

## image.png

## 图 3.1 上传修改后的模型文件
如配置成功可在Roboshop页面左下角看到电池电量信息，也可在运行状态中查看详细的电池信息；
## image.png

## 图 3.2a 电池信息查看
## image.png

## 图 3.2b 电池信息查看
## 参数说明
### 2.1 通信方式
### 不同品牌电池的 BMS 通信方式不同，主要有以下三种：
## CAN 通讯
## RS485 通讯
## RS232 通讯（不推荐）
## 可通过模型文件选择通信方式：

## 参数名称

## 参数位置

## 单位

## 默认值

## 列表

## 支持版本

## type

## 模型文件-battery-type

## —

## RS485

## RS485
## RS232
## CAN

### 3.3.4.20~latest

## 电池通讯方式

## baudrate

### 模型文件-battery-baudrate

## —

## —

## 见Roboshop下拉列表

### 3.3.4.20~latest

## 通信波特率，根据实际选择

### 2.2 参数说明

## 参数名称

## 参数位置

## 单位

## 默认值

## 最小值

## 最大值

## 支持版本

## brand

## 模型文件-battery-brand

## —

## —

## —

## —

### 3.3.4.20~latest

## 品牌，根据实际电池选型选择对应品牌

## lowVoltage

## 模型文件-battery-basic

## V

## -1

## -1

## 100

### 3.3.4.20~latest

### 用于电池最低电压报警阈值，-1 默认不启用

### temperatureThreshold

## 模型文件-battery-basic

## 摄氏度

## -1

## -1

## 100

### 3.3.4.20~latest

### 温度报警限制，-1 默认不启用，单位摄氏度

## warningPercentage

## 模型文件-battery-basic

## V

## -1

## -1

## 100

### 3.3.4.20~latest

### 电池告警百分比 ， 用于指示电池低电量告警阈值

## errorPercentage

## 模型文件-battery-basic

## V

## -1

## -1

## 100

### 3.3.4.20~latest

### 电池错误百分比， 用于指示电池电量低于多少进行报错

## shutdownPercentage

## 模型文件-battery-basic

## %

## -1

## -1

## 100

### 3.3.4.20~latest

### 剩余电量低于多少百分比，执行关机命令，-1 表示不启用

## timeoutThrowError

## 模型文件-battery-basic

## s

## 0

## 0

## 9999

### 3.3.4.20~latest

## 超时报错时间，单位为 s

## shutdownStillTime

## 模型文件-battery-basic

## s

## 120

## 60

## 99999

### 3.3.4.20~latest

## shutdown 关机前维持的时间值

## quantityFilter

## 模型文件-battery-basic

## %

## 15

## 0

## 100

### 3.3.4.20~latest

## 电量滤波阈值

## chargeCounter

## 模型文件-battery-basic

## —

## 0

## 0

## 9999

### 3.3.4.20~latest

### 连续多少次判定为充电,默认为0不启用,检测计数1秒1次

## fullPercentage

## 模型文件-battery-basic

## %

## 100

## 1

## 100

### 3.3.4.20~latest

## 满电百分比

## voltage

### 模型文件-battery-voltage

## —

## 48V

## 24V
## 36V
## 48V

### 3.3.4.20~latest

## 电池电压

## capacity

### 模型文件-battery-capacity

## AH

## —

## 1

## 200

### 3.3.4.20~latest

## 电池容量
