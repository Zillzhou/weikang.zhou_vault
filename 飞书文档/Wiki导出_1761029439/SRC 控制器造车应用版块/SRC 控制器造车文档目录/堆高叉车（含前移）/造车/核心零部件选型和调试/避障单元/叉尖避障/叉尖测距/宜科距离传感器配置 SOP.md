# 宜科距离传感器配置 SOP

## 宜科距离传感器配置 SOP
## 更新记录：

## 版本

## 更新日期

## 更新说明

## 文档状态

## 维护责任人

## V1.0

### 2024.4.29

## 更新发布

## 使用中

## 文档资源文件清单：

## 文件名

## 资源文件

## 文档内编号

## 常见类型叉车模型文件

## 模型文件.zip

## 模型文件-01
## 上位机配置
配置过程详见宜科-距离传感器。
## 模型文件配置
1711024548087-07274797-3cf1-49af-abd1-f71caa5b5156.png

## 图 2.1 模型文件配置页面
进入distanceSensor；
复制并添加新的distanceSensor；
重命名设备；
启用设备；
配置id：距离传感器编号，不可重复；
配置安装位置（x、y、z、yaw）：传感器在机器人上的安装位置，即在车体里程中心坐标系的位置与角度，根据实际情况填写；
配置感应距离范围（minDist、maxDist）：一般与传感器盲区范围一致 0.15-0.8m；
配置角度范围（range）：一般为 3°；
配置信号强度范围（minRSSI、maxRSSI）：一般为 100-65535；
### 屏幕截图 2024-03-21 135320.png

## 图 2.2 basic 参数
配置品牌型号：根据实际选型选择对应的型号，此处选择Elco-OSM4x-485；
1703645766661-25d2f888-fbc7-4ac1-9541-181adf9a38a7.png

### 屏幕截图 2024-03-21 135320.png

## 图 2.3 brand 参数
选择端口类型，RS485，端口号以实际接线为准；
### 屏幕截图 2024-03-21 135320.png

## 图 2.4 port 参数
## 配置结果验证
配置完成后点击上传；
确定并推送至机器人控制器；
## image.png

## image.png

## 图 3.1 上传修改后的模型文件
返回地图与控制页面，手动控制叉车机器人倒车，并将障碍物防止在叉尖 0.15-0.3m 处，如配置正常将会显示机器人被阻挡，并显示被阻挡的距离传感器id，如下图所示。
### 屏幕截图 2024-03-27 134400.png

## 图 3.2 距离传感器到障碍物告警信息
## 参数说明
## 通信方式
### 不同品牌距离传感器通信方式不同，主要有以下两种：
## RS485
## CAN
## 可通过模型文件选择通信方式：

## 参数名称

## 参数位置

## 单位

## 默认值

## 列表

## 支持版本

## port

### 模型文件-distancesensor-port

## —

## canPort2

## canPort1
## canPort2
## M4-CAN
## IMX-RS485
## M4-RS485

### 3.3.4.20~latest

### port 下拉列表选择距离传感器通信方式
### 选择 RS485 端口，需配置设备名称 devname

## baudrate

### 模型文件-distancesensor-baudrate

## —

## 115200

## 见Roboshop下拉列表

### 3.3.4.20~latest

## 通信波特率，根据实际选择

## 参数说明

## 参数名称

## 参数位置

## 单位

## 默认值

## 最小值

## 最大值

## 支持版本

## brand

### 模型文件-distancesensor-brand

## —

## —

## 品牌列表
## BeneWake-TFmini-i
## Panasonic-HG-C1000
## EICo-OSM4x-485

### 3.3.4.20~latest

## 品牌，根据实际传感器选型选择对应品牌

## id

### 模型文件-distancesensor-basic

## —

## 0

## 0

## 1000

### 3.3.4.20~latest

## 距离传感器设备id，不可重复

## x

### 模型文件-distancesensor-basic

## m

## 0

## -1000

## 1000

### 3.3.4.20~latest

## 距离传感器在车体坐标系下x轴方向的值

## y

### 模型文件-distancesensor-basic

## m

## 0

## -1000

## 1000

### 3.3.4.20~latest

## 距离传感器在车体坐标系下y轴方向的值

## z

### 模型文件-distancesensor-basic

## m

## 0

## -1000

## 1000

### 3.3.4.20~latest

## 距离传感器在车体坐标系下z轴方向的值

## yaw

### 模型文件-distancesensor-basic

## °

## 0

## -180

## 180

### 3.3.4.20~latest

### 距离传感器在车体坐标系下 z 轴的角度偏移值

## minDist

### 模型文件-distanceSensor-basic

## m

### 0.2

### 0.0

### 0.5

### 3.3.4.20~latest

### 距离传感器最小检测距离（盲区），单位为 m

## maxDist

### 模型文件-distanceSensor-basic

## m

### 0.5

### 0.0

### 20.0

### 3.3.4.20~latest

### 距离传感器最大检测距离（盲区），单位为 m

## minRSSI

### 模型文件-distanceSensor-basic

## —

## -1

## -1

## 65535

### 3.3.4.20~latest

距离传感器最小信号强度，信号强度低于设定最小值距离传感器测距数值无效

## maxRSSI

### 模型文件-distanceSensor-basic

## —

## 65535

## -1

## 65535

### 3.3.4.20~latest

距离传感器最大信号强度，信号强度高于设定最大值距离传感器测距数值无效

## range

### 模型文件-distanceSensor-basic

## °

## 30

## 0

## 180

### 3.3.4.20~latest

距离传感器接收半角（距离传感器发射的散射角度），单位为角度 °

## offset

### 模型文件-distanceSensor-basic

## m

## 0

## -1000

## 1000

### 3.3.4.20~latest

## 距离传感器零位偏移，单位为m
