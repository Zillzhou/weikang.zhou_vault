# 方向灯

## 方向灯
## 更新记录：

## 版本

## 更新日期

## 更新说明

## 文档状态

## 维护责任人

## V1.0

### 2024.4.29

## 更新发布

## 使用中

## 文档资源文件清单：

## 文件名

## 资源文件

## 文档内编号

## 常见类型叉车模型文件

## 模型文件.zip

## 模型文件-01
## 模型文件配置
1711025546871-d396b813-7f4a-4668-a07d-6291c2c0991f.png

## 图 1.1 模型文件配置页面
## 方向灯一般为DO类灯带，配置过程如下：
进入indicator；
复制并添加indicator；
启用设备；
选择类型为directionlight；
配置灯带使用的DO序列；
配置不同运动状态下的DO序列状态；
配置等待闪烁间隔时间；
配置转向判断阈值及高低速阈值；
配置状态判断的次数。
## 配置结果验证
配置完成后点击上传；
确定并推送至机器人控制器；
## image.png

## image.png

## 图 2.1 上传修改后的模型文件
返回地图与控制页面；
手动遥控机器人左转、右转、前进、倒退、原地旋转；
如配置正确可看到方向灯将亮起且与所配置的DO序列及亮灯逻辑一致。

## 转向灯测试.mp4
## 视频 2.1 配置结果验证
## 参数说明

## 参数名称

## 参数位置

## 单位

## 默认值

## 最小值

## 最大值

## 支持版本

## DOArray

## 模型文件-indicator-type

## —

## -1

## -1

## 1

## ~latest

该配置为八个DO配置，以空格分开。默认-1不启用，范围0-71。

redLilowSpeedForwardArrayghtFreq

## 模型文件-indicator-type

## —

## -1

## -1

## 1

## ~latest

该配置为低速前进状态时，DO的输出状态，仅支持0和1，以空格分开，0代表关闭，1代表打开。如DOArray中配置为0 1 2 3 4 5 -1 -1 -1，lowSpeedForwardArray配置为0 0 0 1 0 0 0 0，则当低速前进状态时，打开DO3，关闭DO0、DO1、DO2、DO4。

### highSpeedforwardArray

## 模型文件-indicator-type

## —

## -1

## -1

## 1

## ~latest

该配置为高速前进状态时，DO的输出状态，参考lowSpeedForwardArray说明。

## stopArray

## 模型文件-indicator-type

## —

## -1

## -1

## 1

## ~latest

该配置为（机器人停止状态且当导航无任务）或急停按钮被拍下时，DO的输出状态，参考lowSpeedForwardArray说明。

## spinTurnArray

## 模型文件-indicator-type

## —

## -1

## -1

## 1

## ~latest

该配置为原地旋转时，DO的输出状态，参考lowSpeedForwardArray说明。

## leftForwardArray

## 模型文件-indicator-type

## —

## -1

## -1

## 1

## ~latest

该配置为左方向前进状态时（前进+左转，左横移+右转，前进+左横移），DO的输出状态，参考lowSpeedForwardArray说明。

## rightForwardArray

## 模型文件-indicator-type

## —

## -1

## -1

## 1

## ~latest

该配置为右方向前进状态时（前进+右转，右横移+左转，前进+右横移），DO的输出状态，参考lowSpeedForwardArray说明。

## leftBackwardArray

## 模型文件-indicator-type

## —

## -1

## -1

## 1

## ~latest

该配置为左方向后退状态时（后退+右转，左横移+左转，后退+左横移），DO的输出状态，参考lowSpeedForwardArray说明。

## rightBackwardArray

## 模型文件-indicator-type

## —

## -1

## -1

## 1

## ~latest

该配置为右方向后退状态时（后退+左转，右横移+右转，后退+右横移），DO的输出状态，参考lowSpeedForwardArray说明。

## leftSidesWayArray

## 模型文件-indicator-type

## —

## -1

## -1

## 1

## ~latest

该配置为左横移状态时，DO的输出状态，参考lowSpeedForwardArray说明。

## rightSidesWayArray

## 模型文件-indicator-type

## —

## -1

## -1

## 1

## ~latest

该配置为右横移状态时，DO的输出状态，参考lowSpeedForwardArray说明。

## leftLightFreq

## 模型文件-indicator-type

## s

## 0

## 0

## 60

## ~latest

该配置为具有左转属性的方向，如左前，左后，左横移的灯的闪烁频率，单位为s，默认0s不闪烁。

## rightLightFreq

## 模型文件-indicator-type

## s

## 0

## 0

## 60

## ~latest

该配置为具有右转属性的方向，如右前，右后，右横移的灯的闪烁频率，单位为s，默认0s不闪烁。

### leftRightAngleThreshold

## 模型文件-indicator-type

## s

### 0.5

### 0.5

## 20

## ~latest

该配置表示，当右转右转超过该角速度值，则认为左转右转。

## leftRightAngleCnt

## 模型文件-indicator-type

## —

## 3

## 1

## 10

## ~latest

该配置表示，当左转右转角速度超过leftRightAngleThreshold，cnt次后，认为左转右转有效，默认3次

## speedThreshold

## 模型文件-indicator-type

## m/s

### 0.3

### 0.001

## 1

## ~latest

改配置为高低速分界线，低速范围：(0,speedThreshold]；高速范围：(speedThreshold,+∞）。

## FAQ
原地旋转转向灯亮不亮？不亮，原地旋转取决于spinTurnArray
不支持输入英文，会报错，50305, "directionLight array elements must be set number"
不支持少于8个元素，以空格分开计算元素个数，会报错，50305, "directionLight array must be set 8 elements"
左方向前进状态、右方向前进状态、左方向后退状态、右方向后退状态、左横移状态、右横移状态、原地旋转、前进状态、后退状态在导航任务时，若发生机器人阻挡，则锁主当前状态输出。例如：当在左方向前进且发生机器人阻挡时，在阻挡未解除前一直保持左方向前进状态输出。
可与具有切区功能的避障激光一起使用，达到切区效果。
