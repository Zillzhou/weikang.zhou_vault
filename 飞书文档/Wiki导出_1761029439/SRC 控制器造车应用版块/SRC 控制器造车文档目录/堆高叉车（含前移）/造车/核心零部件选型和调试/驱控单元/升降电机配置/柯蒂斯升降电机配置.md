# 柯蒂斯升降电机配置

## 柯蒂斯升降电机配置
## 更新记录：

## 版本

## 更新日期

## 更新说明

## 文档状态

## 维护责任人

## V1.0

### 2024.4.29

## 更新发布

## 使用中

## 文档资源文件清单：

## 文件名

## 资源文件

## 文档内编号

## 常见类型叉车模型文件

## 模型文件.zip

## 模型文件-01
## 驱动器配置
升降电机驱动器配置详见：Curtis驱动器F2A参数调整指导文档。
## 模型文件配置
## 配置SOP
由于一般叉车的行走、升降电机为二合一驱动器，配置时必须完成所有电机模型文件配置才可以控制机器人移动。
## CAN 接口配置
此处配置的是机器人控制器的CAN接口使用的波特率及是否有终端电阻，如不正确配置将无法与电机驱动器、编码器、电池等设备通信。配置过程：
进入CAN；
## 修改CAN设备名称
启用设备；
选择端口；
波特率；
勾选是否有终端电阻。
CAN接口生效逻辑：控制器会使用上一次生效（上传模型文件）的CAN接口配置参数，使用过程中（包括关机后重启）禁用此设备不会影响正常使用。
1711015769237-e84c757e-1fab-4504-b58c-b7db1d1924cc.png

## 图 2.1 配置CAN
## 升降电机
进入电机motor配置；
复制并添加新电机；
修改点击设备名；
启用设备；
修改电机安装位置、CANID、速度、编码器线数、是否反装，其他修改为不启用（不勾选或-1）；
选择通信端口：一般为port1；
选择类型为linear；
选择品牌：如采用二合一的驱动器，此处一般与行走电机相同，如Curtis-F2A-ReBoTe。
1711015853212-08959141-5a27-4250-a50a-dd9890603231.png 

## 图 2.4a 配置升降电机
1711015858494-08a488b3-e84b-4a9f-ae41-bae5cd0921cf.png 

## 图 2.4b 配置升降电机
1711015863280-b896f6f5-652c-474d-b010-8bbbfe77ba4b.png

## 图 2.4c 配置升降电机
## 货叉机构
此部分配置仅限于非脚本叉控制时使用。
配置到位di的id及是否检查所有到位di；
## 配置上升、下降是否触发DO及DO的id
配置货叉屏蔽区域；
配置叉尖di；
配置后置激光；
配置货叉控制类型：byDO、bycontroller，及升降电机名称；
配置称重传感器参数。
### 详细货叉配置过程请参考：2.5 货叉机构配置说明
1711020506073-9a37a2ac-7f1f-43f6-b40c-76dfd449aabf.png 

## 图 2.5a 配置货叉机构
1711020506091-039bc1e0-9486-496d-b931-c325b09fd575.png

## 图 2.5b 配置货叉机构
1711020506062-efd46a24-962b-4b29-b560-b10599ec932a.png

## 图 2.5c 配置货叉机构
## 升降电机配置说明
## 基础配置（basic）
1703761965076-39fcd73d-c52b-49e5-9ada-0e598ccc9a73.png

### 图 2.15 升降电机 basic 参数

## 参数名称

## 参数位置

## 单位

## 默认值

## 最小值

## 最大值

## 支持版本

## x

## 模型文件-motor-basic

## m

## 0

## -1000

## 1000

## ~latest

### 驱动器安装的 X 坐标，根据实际安装位置填写

## y

## 模型文件-motor-basic

## m

## 0

## -1000

## 1000

## ~latest

### 驱动器安装的 Y 坐标，根据实际安装位置填写

## yaw

## 模型文件-motor-walk

## °

## 0

## -180

## 180

## ~latest

## 驱动器安装的朝向，根据实际安装位置填写

## canID

## 模型文件-motor-basic

## \

## 1

## 1

## 255

## ~latest

### 驱动器的的 canID，根据驱动器上位机配置决定

## maxRPM

## 模型文件-motor-basic

## rpm

## 1

## 1

## 1000000

## ~latest

### 驱动器最大转速，根据驱动器上位机配置决定

## inverse

## 模型文件-motor-basic

## \

## false

## \

## \

## ~latest

## 驱动器是否反向，根据实际安装位置填写

## encoderLine

## 模型文件-motor-basic

## \

## 1

## 1

## 10000000

## ~latest

## 编码器线数，根据实际情况填写

## currentFactor

## 模型文件-motor-basic

## \

## 1

### 0.000100

## 1000000

## ~latest

## 电机电流因数，根据实际情况填写

## upLimitDI

## 模型文件-motor-basic

## \

## -1

## -1

## 10

## ~latest

上限位 DI，-1 代表不启用，上限位 DI，H1.2.10 之前为 0-8，H1.2.10 之后为 0-10，请根据实际接线情况进行填写

## downLimitDI

## 模型文件-motor-basic

## \

## -1

## -1

## 10

## ~latest

下限位 DI，-1 代表不启用，上限位 DI，H1.2.10 之前为 0-8，H1.2.10 之后为 0-10，请根据实际接线情况进行填写

## zeroDI

## 模型文件-motor-basic

## \

## -1

## -1

## 10

## ~latest

零位 DI，-1 代表不启用，上限位 DI，H1.2.10 之前为 0-8，H1.2.10 之后为 0-10，请根据实际接线情况进行填写

## CAN通信配置（canPort）
1703762044932-047eb3f2-d214-4454-8f69-c5270caa6e28.png

### 图 2.16 升降电机 canPort 参数

## 参数名称

## 参数位置

## 单位

## 默认值

## 最小值

## 最大值

## 支持版本

## canPort

## 模型文件-motor-canPort

## \

## port1

## \

## \

## ~latest

## 驱动器使用的端口，根据实际情况填写

## 功能配置（func）
1703762062611-66b2657a-9965-45e8-953a-0c5822962892.png

## 图 2.17 升降电机 func 参数

## 参数名称

## 参数位置

## 单位

## 默认值

## 最小值

## 最大值

## 支持版本

## reductionRatio

## 模型文件-motor-linear

## 0

## 0

## 10000

### 3.3.4.20~latest

## 电机编码器减速比
说明: 使用电机编码器的时候，核算出来的减速比，请根据实际情况进行选择，作为货叉相关的功能，有外置编码器的情况：指外置编码器的减速比，根据 factor = （4 encoderLine/ reductionRatio ） 1000;【factor ：外置编码器的编码器线数】求出，请根据实际接线情况进行填写

## calibrationVel

## 模型文件-motor-linear

## m/s

### 0.001

## -1000.0

### 1000.0

### 3.3.4.20~latest

标零速度，上电标零时设定的标零速度，约定上下运动时以上为正方向（速度为正值），左右运动以右为正方向。如顶升机构的标零 DI 一般安装在底部，故 calibrationVel 一般为负值即朝下进行标零。

## maxLength

## 模型文件-motor-linear

## m

### 0.05

## -360.0

### 360.0

### 3.3.4.20~latest

线性机构最大行程位置，例如顶升机构中上到位所能达到的最大高度。

## minLength

## 模型文件-motor-linear

## m

### 0.0

## -360.0

### 360.0

### 3.3.4.20~latest

线性机构最小行程位置，例如顶升机构中下到位所能达到的最小高度。

## offset

## 模型文件-motor-linear

## m

### 0.0

## -360.0

### 360.0

### 3.3.4.20~latest

零位的触发位置与机构所需要的计算零位的位置差值。

## reachUpDist

## 模型文件-motor-linear

## m

### 0.001

### 0.0

### 180.0

### 3.3.4.20~latest

到位精度有差异，用于衡量距离目标位置还有 rechUpDist 的时候停止。

## reachDownDist

## 模型文件-motor-linear

## m

### 0.001

### 0.0

### 180.0

### 3.3.4.20~latest

到位精度有差异，用于衡量距离目标位置还有 rechDownDist 的时候停止

## upKP

## 模型文件-motor-linear

## \

## \

## 0

## 10

### 3.3.4.20~latest

指货叉上升 PID 调节的比例参数，指货叉上升 PID 调节的比例参数，根据调节货叉速度和精度方法进行调节，请根据实际情况进行填写

## upKI

## 模型文件-motor-linear

## \

## \

## 0

## 5

### 3.3.4.20~latest

指货叉上升 PID 调节的积分参数，指货叉上升 PID 调节的积分参数，根据调节货叉速度和精度方法进行调节，请根据实际情况进行填写

## upKD

## 模型文件-motor-linear

## \

## \

## 0

## 5

### 3.3.4.20~latest

指货叉上升 PID 调节的微分参数，指货叉上升 PID 调节的微分参数，根据调节货叉速度和精度方法进行调节，请根据实际情况进行填写

## downKP

## 模型文件-motor-linear

## \

## \

## 0

## 10

### 3.3.4.20~latest

指货叉下降 PID 调节的比例参数，指货叉下降 PID 调节的比例参数，根据调节货叉速度和精度方法进行调节，请根据实际情况进行填写

## downKI

## 模型文件-motor-linear

## \

## \

## 0

## 5

### 3.3.4.20~latest

指货叉下降 PID 调节的积分参数，指货叉下降 PID 调节的积分参数，根据调节货叉速度和精度方法进行调节，请根据实际情况进行填写

## downKD

## 模型文件-motor-linear

## \

## \

## 0

## 5

### 3.3.4.20~latest

指货叉下降 PID 调节的微分参数，指货叉下降 PID 调节的微分参数，根据调节货叉速度和精度方法进行调节，请根据实际情况进行填写

## maxSpeed

## 模型文件-motor-steer

## m/s

### 0.09

### 0.00000001

## 360

### 3.3.4.20~latest

 差速模组旋转最大速度，根据实际需求填写。

## maxAcc

## 模型文件-motor-steer

## m/s^2

### 0.001

### 0.001

## 360

### 3.3.4.20~latest

最大加速度，根据实际需求填写。

## maxDec:

## 模型文件-motor-steer

## m/s^2

### 0.001

### 0.001

## 360

### 3.3.4.20~latest

最大减速度，根据实际需求填写。

## maxJerk:

## 模型文件-motor-steer

## m/s^3

### 0.001

### 0.001

## 360

### 3.3.4.20~latest

最大加加速度 ，根据实际需求填写。

## deltaCnt

## 模型文件-motor-linear

## count

## -1

## -10

## 100000

### 3.3.4.20~latest

该值用于特殊情况下，若电机编码器抖动较大时，启用该参数可以解决电机数据判断为非静止的状态。

## 外置编码器配置（outEncoder）
1703762086177-17483106-1253-407c-9a1c-b63eb870e143.png

1703762097268-d349aded-37d7-4392-afde-ba2e5dc8697a.png

### 图 2.18 升降电机 outEncoder 参数

## 参数名称

## 参数位置

## 单位

## 默认值

## 最小值

## 最大值

## 支持版本

## brand

### 模型文件-motor-outEncoderBrand

## \

## \

## none
### PEPPERL-ENA36-CANOpen
### PEPPERL-CVS58-CANOpen
### BANNER-BEH36-CANOpen
### IDENCODER-A38L6-CANOpen
## SICK-AHM36-CANOpen

## ~latest

## 外置编码器品牌，根据实际情况填写

## outEncoderID

## 模型文件-motor

## \

## 1

## 1

## 100

### 3.3.4.20~latest

编码器内部配置的 can 节点 id 。

## outEncoderRatio

## 模型文件-motor

## \

## 1

## 0

## 100

### 3.3.4.20~latest

外置编码器的传动比参数，根据外置编码器的安装机械结构的传动关系进行填写，如绝对值编码器轴转一圈是机构的高度差为多少 mm 。

## outEncoderPort

## 模型文件-motor

## \

## port1

## \

## port1
## port2

### 3.3.4.20~latest

安装时选择的 can 总线序号。

## outEncoderLine

## 模型文件-motor

## \

## -1

## -1

## 999999

### 3.3.4.20~latest

外置编码器的编码器线数，根据实际安装的品牌和型号填写外置编码器的编码器线数，如绝对值编码器轴转一圈读取到的脉冲数差值 / 4 。

## 品牌配置（brand）
1703762105884-fa0276b3-f768-4807-a7e9-fbe26357cadb.png

### 图 2.19 升降电机 brand 参数

## 参数名称

## 参数位置

## 单位

## 默认值

## 最小值

## 最大值

## 支持版本

## brand

## 模型文件-motor-brand

## \

## \

## \

## \

## ~latest

## 驱动器品牌，根据实际情况填写

## 货叉机构配置说明
1703757360111-68f57024-326c-404b-9b5a-65381cafc8b1.png

## 图 2.20 货叉机构配置页面
## 配置基础参数
配置货叉 DI、DO 传感器：叉车取货到位开关、货物检测 DI、上下到位 DO，根据实际接线配置 DI/DO 编号；
配置货叉基础使用参数：到位开关是否校验（双 DI 同时触发）、升降时间。

1703758585056-c4b27052-67cf-4f02-a022-7fb5d8ddcf8e.png

### 图 2.21 货叉机构 basic 参数
## 扣除区域
需要配置扣除货叉及货物会出现在的区域，以扣除激光数据，防止碰撞误触发。
1703758896650-e3bcc2d8-bf24-478d-ac5d-12456c304d6f.png

图 2.22 货叉机构 forkBlockRegion 参数
## 配置货叉尖端传感器
## DI 型
如叉车货叉尖端使用的是 DI 型传感器，则需配置其对应的 DI 编号及使用逻辑，详见参数说明。
1703759038581-98d53447-02be-4f9e-87fa-b0a17690dbf5.png

### 图 2.23 货叉机构 forkTailDi 参数
## 距离型
如叉车货叉尖端使用的是距离型传感器，则需配置其对应的 id 停障距离，详见参数说明。
1703759045408-9c486474-f92e-41eb-8fe8-859ef42d8d1b.png

## 图 2.24 货叉机构距离传感器配置
## 配置后置激光
如配置了后置激光，则需要在货叉配置页面填写激光的 id，以及启用该激光时的货叉高度。
1703760419169-fe680f21-e778-4005-87f4-b243551d0fb6.png

## 图 2.25 货叉机构后置激光配置
## 配置超重参数
如叉车使用了称重传感器，可配置最大重量，maxWeight 小于 0 则该功能不启用。
1703760520729-bbb140eb-6ed4-4f4d-b5f6-111063510d05.png

## 图 2.26 货叉机构称重传感器配置
## 参数说明
## 基础参数（basic ）

## 参数名称

## 参数位置

## 单位

## 默认值

## 最小值

## 最大值

## 支持版本

## cargoContactDI

## 模型文件-fork-basic

## -1

## -1

## 10000

## ~latest

### 叉车取货到位开关，叉车取货时，如果到位DI触发，则叉车停止

### checkAllCargoContactDI

## 模型文件-fork-basic

## false

## ~latest

## 是否检查所有叉车取货到位开关
当没勾选时，会检测所有配置的cargoContactDI，只要有一个配置的cargoContactDI触发了，就认为到达终点，然后进行下面的动作；
当勾选时，会检测所有配置的cargoContactDI，只有所有配置的cargoContactDI触发了，才认为到达终点，然后进行下面的动作；
举例：假如cargoContactDI配置了两个，即DI1和DI2。
若没勾选，则DI1和DI2只要有一个被触发，就认为到达终点。若勾选，需要DI1和DI2都触发才会认为到达终点。

## ContactDIXPos

## 模型文件-fork-basic

### 0.6

## -10

## 10

## 到位 DI 到里程中心的距离

## contactDI

## 模型文件-fork-basic

## -1

## -1

## 90

## ~latest

叉齿上的货物检测DI，如果为-1表示不起作用。

## contactTime

## 模型文件-fork-basic

## s

### 0.3

## 0

## 1000

## ~latest

### 货物检测DI的滤波时间，防止DI信号抖动

## loadTime

## 模型文件-fork-basic

## s

## 0

## 0

## 1000

## ~latest

## 加载货物延时时间，即最长执行时间

## unloadTime

## 模型文件-fork-basic

## s

## 0

## 0

## 1000

## ~latest

## 卸载货物延时时间，即最长执行时间

## upDO

## 模型文件-fork

## -1

## -1

## 1000

## ~latest

## 货叉抬升前控制 DO 的 id

## upDOStatus

## 模型文件-fork

## m

## true

## ~latest

## 货叉抬升前控制 DO 的状态

## downDO

## 模型文件-fork

## -1

## -1

## 1000

## ~latest

## 货叉下降前控制 DO 的 id

## downDOStatus

## 模型文件-fork

## false

## ~latest

## 货叉下降前控制 DO 的状态

### 货物扣除区域（forkBlockRegion ）
当AGV叉车抬起货叉的时候，叉车的架子会遮挡一部分激光。需要用扣除区域将这部分激光去除，防止碰撞检测误触发。该扣除区域在模型文件 fork 设备下，只有当货叉抬升的高度大于 enableHeight ，扣除区域才起效。如果货叉高度低于 enableHeight ，扣除区域无效。

## 参数名称

## 参数位置

## 单位

## 默认值

## 最小值

## 最大值

## 支持版本

## enableHeight

### 模型文件-fork-forkBlockRegion

## m

### 0.5

## -1

## 100

## —

## 货架扣除区域起效高度

## width

### 模型文件-fork-forkBlockRegion

## m

## 1.0

### 0.01

## 10

## —

## 货架扣除区域宽度

## xmax

### 模型文件-fork-forkBlockRegion

## m

### 0.5

## -10

## 10

## —

## 货架扣除区域最大 x 值

## xmin

### 模型文件-fork-forkBlockRegion

## m

### 0.5

## -10

## 10

## —

## 货架扣除区域最小 x 值

扣除区域的定义如图所示。
### 3.2和3.3.17版本以下的扣除区域：
只有当货叉抬升的高度大于S_Fork_Block_Height（3.3版本上改为 ForkBlockHeight ），扣除区域才起效。
如果货叉高度低于S_Fork_Block_Height（ ForkBlockHeight ），扣除区域无效。
如果要太深的货物很高的话，S_Fork_Block_Height（ ForkBlockHeight ）就要减小值。
扣除区域的4个参数在Roboshop的参数配置的叉车标签下配置。

对于地牛如果将ForkBlockHeight配置1，则在加载货物时，启用扣除区域。如果配置小于1，则不启用扣除区域。
## image.png

## image.png

### 图 2.27 货叉机构扣除区域说明（3.3.17之前版本）
### 扣除区域的定义在Roboshop的参数配置，叉车标签下：

## 参数名称

### 3.3版本的名称

## 参数默认值

## 参数含义

## S_Fork_Block_Height

## ForkBlockHeight

## 1.5 m

## 扣除区域起效的货叉高度 (m)

## S_Fork_Block_Width

## ForkBlockWidth

## 1 m

## 扣除区域的宽度 (m)

## S_Fork_Block_Xmax

## ForkBlockXmax

### 0.6

## 扣除区域的Xmax (m)

## S_Fork_Block_Xmin

## ForkBlockXmin

### 0.5

## 扣除区域的Xmin (m)

## 举例说明：

如果叉车去叉货时，报虚拟或者真实激光被阻挡。

设置机器人模型的激光保护区域，使其只包含叉车车头部分，定义如图1所示。

### 如果叉车插上了货物，但是行走时报激光阻挡

在参数配置中，叉车标签下，将S_Fork_Block_Height（ForkBlockHeight）略小于当前货叉高度， S_Fork_Block_Width（ForkBlockWidth），S_Fork_Block_Xmax（ForkBlockXmax），S_Fork_Block_Xmin（ForkBlockXmin），可在Roboshp中，量取货物激光点所在区域，使扣除区域囊括所有激光点。S_Fork_Block_Width（ForkBlockWidth），S_Fork_Block_Xmax（ForkBlockXmax），S_Fork_Block_Xmin（ForkBlockXmin）的定义如图2，3所示。

### 3.3.17版本以上

当AGV叉车抬起货叉的时候，叉车的架子会遮挡一部分激光，如图4所示。需要用扣除区域将这部分激光去除，防止碰撞检测误触发。扣除区域的定义如图5所示。只有当货叉抬升的高度大于 enableHeight ，扣除区域才起效。如果货叉高度低于 enableHeight ，扣除区域无效。

如果叉车去叉取货物，而货物抬升可能会将激光挡住，这时需要加载货物文件pallet文件，如图6所示。 pallet_width 和 pallet_length ，定义货物的形状， block_laser 表示是否会遮挡部分激光。除此之外，货物在货叉上的位置，是通过模型文件中的 contactDIXpos 来确定的，其值一般和图6的 xmin 相同。
## image.png

## image.png

## image.png

图 2.28 货叉机构扣除区域说明（3.3.17~latest）
## 货叉尖端 DI（forkTailDi）
在叉车叉货时其货叉尖端传感器可能会被栈板触发，报阻挡，因此导致无法取货。可以在模型文件中配置货叉尖端 DI，可以指定载货，卸货时是否启用，是否自动清楚错误等功能。

## 参数名称

## 参数位置

## 单位

## 默认值

## 最小值

## 最大值

## 支持版本

## id

### 模型文件-fork-forkTailDi

## -1

## -1

## 80

## ~latest

此id一般是货叉尖端两个 DI 的 id 名称，可以配置成数组

## filterTime

### 模型文件-fork-forkTailDi

## s

## -1

## -1

### 1000.0

## ~latest

### 货叉尖端 DI 滤波时间，-1 表示不启用

## enableAtLoad

### 模型文件-fork-forkTailDi

## false

## ~latest

叉取货物时，是否启用 forkTailDi 的开关。关闭后，可以避免取货时货叉尾部 DI 被误触发的场景。

## enableAtUnload

### 模型文件-fork-forkTailDi

## true

## ~latest

放货物时，是否开启 forkTadilDi 的开关。开启后，增加了放货前检查库位是否有货物的功能。

## autoClearError

### 模型文件-fork-forkTailDi

## true

是否要自动清除 52161 错误的功能。如果开启，当库位上的货物没有了，自动清除 52161 报错

## failTask

### 模型文件-fork-forkTailDi

## true

是否当 52161 报错后，任务要变成失败。如果开起来，当库位上检测到货物，报 52161 错误后，机器人的任务就会自动失败。

如果在模型文件 DISensor 中配置货物检测功能（goodsDetect），也具有在卸载货物阶段先检测目标点是否存在货物的功能。

## 参数名称

## 参数位置

## 单位

## 默认值

## 最小值

## 最大值

## 支持版本

## type

## 模型文件-DISensor

## none

## collision
## infrared
## fallingDown
## goodsDetect
## ignoreTask

## ~latest

### DI Sensor的类型，用于表明是碰撞条，还是货物检测等

对于叉车取货到位 DI 失效时，可以检查识别文件的 enable_cargoContactDI 是否被误配置成 false 了。
## 货叉尖端测距型传感器
在执行 ForkLoad 任务时可能导致距离传感器会误触发阻挡。通过在模型文件的配置叉尖距离传感器 (distanceNodeId) 的 id后，在载货的过程中会屏蔽该传感器。
不过，大部分情况下为了依旧有检测障碍物的能力，但是不被栈板误触发，我们不屏蔽距离传感器，但是把载货时的碰撞检测距离缩短，这也可以通过配置模型文件实现。

## 参数名称

## 参数位置

## 单位

## 默认值

## 最小值

## 最大值

## 支持版本

## distanceNodeId

模型文件-fork-forkTailDistanceNode

## -1

## -1

## 1000

## ~latest

### 此id为叉尖端两距离传感器的id，可以配置成数组

## obsStopDist

模型文件-fork-forkTailDistanceNode

## m

### 0.2

## -1

### 1000.0

## ~latest

### 叉取货物时，特殊的碰撞距离。该值小于0表示用默认的碰撞距离

## 后置激光（BackLaser ）
叉车的后置激光在模型文件 fork 的 BackLaser 中配置，只有当 BackLaser 的 id 或者 laserId 配置为大于等于 0 的数，并且货叉高度高于 enabledHeight 时，在叉车路径导航时， BackLaser 的数据才用于碰撞检测。当叉车货叉的活动高度大于 BackLaser 的最小安全高度 minSafeHeight 时，货叉起落不做碰撞检测。

## 参数名称

## 参数位置

## 单位

## 默认值

## 最小值

## 最大值

## 支持版本

## id

## 模型文件-fork-BackLaser

## -1

## -1

## 10000

## ~latest

## 后视 DI 型激光的 id

## laserId

## 模型文件-fork-BackLaser

## -1

## -1

## 1000

## ~latest

## 后视距离型激光的 id

## enableHeight

## 模型文件-fork-BackLaser

## -1.0

## -1.0

## 10000

## 后视激光启用时的货叉高度

## pitch

## 模型文件-fork-BackLaser

## °

## 0

## -180.0

### 180.0

### 3.4.6.2

## 后视激光雷达的 pitch

## zToFork

## 模型文件-fork-BackLaser

## m

### 0.0

## -10.0

### 10.0

## ~latest

## 后视激光雷达相对于货叉的高度

## 货叉类型（type）
堆高车货叉、叉车类搬运货叉、前移类货叉，货叉类型配置为 byController

## 参数名称

## 参数位置

## 单位

## 默认值

## 最小值

## 最大值

## 支持版本

## safeHeight

### 模型文件-fork-type-byController

## m

## -1.0

## -1.0

### 100.

## ~latest

在安全速度机制起效时，当货叉高度大于此阈值，速度会限制在 safeSpeed之下。
叉车机器人的货叉在不同高度下，需要不同的导航速度。尤其是高位货叉，当货叉高度大于某个阈值时，导航速度不能超过一个最大值。在模型文件中，我们可以配置 safeHeight 和 safeSpeed 来实现这个功能。

## safeSpeed

### 模型文件-fork-type-byController

## m/s

## -1.0

## -1.0

### 100.

## ~latest

当安全速度大于0时，安全速度机制起效。当货叉高度大于 safeHeight时，最大速度小于 safeSpeed

## linearMotor

### 模型文件-fork-type-byController

## ~latest

### 如果非空，则表示用相应线性电机控制货叉抬升

## upMaxSpeedWithGoods

### 模型文件-fork-type-byController

## m/s

## -1.0

## -1.0

### 100.0

## ~latest

## 有货物时货叉抬升最大速度

### downMaxSpeedWithGoods

### 模型文件-fork-type-byController

## m/s

## -1.0

## -1.0

## -1.0

## ~latest

## 有货物时货叉下降最大速度

## maxHeightBias

### 模型文件-fork-type-byController

## m

## 0

## 0

## 100

## ~latest

最大货叉变化高度，货叉高度自然变化大于此阈值会报 52171 错误 。0表示禁用

## maxHeightBiasTime

### 模型文件-fork-type-byController

## min

## 0

## 0

## 10

## ~latest

## 发生叉高偏差错误的最大时间阈值

### ultraSonicDiDistance

### 模型文件-fork-type-byController

## m

## 0

## 0

### 0.005

## ~latest

## 用超声波Di进行叉下距离

## 货叉超重报错功能
当叉车在抬升的过程中如果叉车检测的重量持续一段时间超过最大重量，则报错 52170。

## 参数名称

## 参数位置

## 单位

## 默认值

## 最小值

## 最大值

## 支持版本

## maxWeight

## 模型文件-fork-weight

## m

## -1

## -1

## 10000000

## ~latest

最大重量报错阈值。如果小于 0，超重报错功能不启用。

## filterTime

## 模型文件-fork-weight

## m

## 2

## -1.0

## 1000

## ~latest

最大重量保持时间。

更多货叉相关使用说明，请参考 货叉机构 、 叉车机器人的取放。
## 配置结果验证
配置完成后点击上传；
确定并推送至机器人控制器；
## image.png

## image.png

## 图 3.1 上传修改后的模型文件
返回地图与控制页面；
升降电机验证：如配置正确可进入外设控制-货叉控制，手动控制叉臂升降。
### 屏幕截图 2024-04-01 145602.png

## 图 3.2 升降电机验证
