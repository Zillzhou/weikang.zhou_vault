# 速腾 Robosense Helios 3D 导航激光配置 SOP

速腾 Robosense Helios 3D 导航激光配置 SOP
## 更新记录：

## 版本

## 更新日期

## 更新说明

## 文档状态

## 维护责任人

## V1.0

### 2024.4.29

## 更新发布

## 使用中

## 文档资源文件清单：

## 文件名

## 资源文件

## 文档内编号

## 常见类型叉车模型文件

## 模型文件.zip

## 模型文件-01
## 上位机配置
配置过程详见3D多线激光。
## 模型文件配置
1703756752729-9ca8afe7-3a55-471f-b7e3-5d9d71d261e1.png

## 图 2.1 模型文件配置页面
## 选择品牌/型号
根据实际选型在品牌下拉框中选择对应的品牌和型号：如选用速腾 Robosense Helios 16 线雷达则选择 RoboSense-helios-16p-UDP。并配置其lineID。
1703756861766-37d6ef45-55b8-47f8-9a8a-3f5a0f655c78.png

1703756870056-11ee7aa8-c238-4514-953a-b67fcd7640ae.png

## 图 2.2 选择品牌
## 配置 IP、端口
根据相机实际 IP、端口配置，但要保证不与其他设备 IP 冲突
1703757200917-9bc68ebb-ed40-4c8f-99e0-6d42b6bc96d9.png

## 图 2.3 配置通信接口
## 配置使用参数
根据实际需要配置激光分辨率、视场角、用于定位、是否用于3D以及扣除区域。
1703757192929-c62311f1-d05d-41bf-8dc7-40364f782b5b.png

## 图 2.3 配置使用参数
其中3DObstacleDetection表示是否启用多线激光避障，如果不需要3D避障，可以不勾选
## 配置安装参数
根据实际安装位置填写安装位姿参数，并选择是否正装。
1703756614282-5e609dde-a736-473b-91a7-bdf775ed9819.png

1703756627706-f8ac74b4-d750-49b1-88d3-629b899108ec.png

## 图 2.4 配置安装参数
## 参数说明
## 通信功能
多线激光雷达由于其数据量大、需要实时传输等需求，一般会选用千兆以太网作为接口，可以实现大量数据实时、高速传输，而且网口不易松动。

## 参数名称

## 参数位置

## 单位

## 默认值

## 最小值

## 最大值

## 支持版本

## ip

## 模型文件-laser

## —

### 192.168.192.100

## —

## —

### 3.3.4.20~latest

### 激光雷达的ip（一般设置为192.168.192.网段）

## port

## 模型文件-laser

## —

## 2111

## 0

## 9999

### 3.3.4.20~latest

## 端口号

## 外参说明
仙工智能规定激光雷达和车体的正交坐标系遵循右手定理，前方为 x 轴，左方为 y 轴，上方为 z 轴，绕 x 轴旋转为 roll，绕 y 轴旋转为 pitch，绕 z 轴旋转为 yaw 。
1651817670006-a34a7785-6d88-47a0-b1d0-dba7fa429dd8.png 

## 图 3.1 右手坐标系
1651906446070-29a89d4f-e7ff-469b-93a2-0e511d78199b.png

## 图 3.2 机器人坐标系
激光雷达扫描到的障碍物的位置是以激光雷达为坐标系中心得到的，需要将这些障碍物的坐标转换到车体的坐标系下，在这种情况下需要知道激光雷达在车体下的安装位置以得到激光雷达坐标系与车体坐标系的相对位置，即激光雷达的外参。
仙工智能通过自动化标定可以得出激光雷达的外参，这部分的原理请参考标定章节。对于多线激光雷达来说，外参需要知道六个参数：

## 参数名称

## 参数位置

## 单位

## 默认值

## 最小值

## 最大值

## 支持版本

## x

## 模型文件-laser

## m

## 0

## -99

## 99

### 3.3.4.20~latest

## 激光雷达在车体坐标系下x轴方向的值

## y

## 模型文件-laser

## m

## 0

## -99

## 99

### 3.3.4.20~latest

## 激光雷达在车体坐标系下y轴方向的值

## z

## 模型文件-laser

## m

## 0

## -99

## 99

### 3.3.4.20~latest

### 激光雷达在车体坐标系下z轴方向的值，该值无关紧要

## roll

## 模型文件-laser

## °

## 0

## -180

## 180

### 3.3.4.20~latest

### 激光雷达在车体坐标系下 x 轴的角度偏移值

## pitch

## 模型文件-laser

## °

## 0

## -180

## 180

### 3.3.4.20~latest

### 激光雷达在车体坐标系下 y 轴的角度偏移值

## yaw

## 模型文件-laser

## °

## 0

## -180

## 180

### 3.3.4.20~latest

### 激光雷达在车体坐标系下 z 轴的角度偏移值

## 其他参数说明
为了更广泛的使用激光雷达，仙工智能还提供了其他的一些可以配置的参数，这些参数一般不需要修改。
对于 Velodyne 激光，可以通过修改修改下列两个参数来实现激光雷达传输数据的频率和角分辨率的修改：

## 参数名称

## 参数位置

## 单位

## 默认值

## 最小值

## 最大值

## 支持版本

## VelodyneFrequency

## 参数配置-Laser

## hz

## 20

## 1

## 200

### 3.3.4.20~latest

Velodyne激光雷达输出数据的频率。

## VelodyneResolution

## 参数配置-Laser

## °

### 0.4

### 0.01

## 5

### 3.3.4.20~latest

Velodyne激光雷达的水平角分辨率。

得益于多线激光雷达丰富的采样信息，多线激光雷达用作避障要比单线激光雷达拥有更大的优势，仙工智能提供丰富选项可以实现多线激光用于避障还是用于定位。

## 参数名称

## 参数位置

## 单位

## 默认值

## 最小值

## 最大值

## 支持版本

## 3DLocalization

## 模型文件-laser

## —

## false

## —

## —

### 3.4.0.7~latest

## 是否使用激光雷达用作定位

## 3DObstacleDetection

## 模型文件-laser

## —

## true

## —

## —

### 3.4.0.7~latest

## 是否使用激光雷达用作避障

## lineID

## 模型文件-laser

## —

## 15

## 0

## 15

### 3.3.5.20~latest

使用哪根激光扫描线用作定位（此功能只有在多线激光用作2D定位时才使用）
