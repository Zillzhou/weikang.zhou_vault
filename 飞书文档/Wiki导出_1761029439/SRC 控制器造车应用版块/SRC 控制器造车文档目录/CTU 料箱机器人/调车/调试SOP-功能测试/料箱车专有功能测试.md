# 料箱车专有功能测试

## 料箱车专有功能测试

## 版本

## 更新日期

## 更新说明

## 文档状态

## 维护责任人

## V1.0

### 2024.4.29

## 更新发布

## 使用中

## 测量层间距
智千料箱车背篓标准层高需保证在 43±0.5cm，超出此范围则为工艺问题，非标定制车以实际技术协议中的数据为准。
（1）使用卷尺或直尺测量每层背篓之间的层间距， 记录下来，如下：
## 0-1 层背篓层间距： 43.3cm
## 1-2 层背篓层间距： 43.2cm
## 2-3 层背篓层间距： 43.4cm
## 3-4 层背篓层间距： 42.8cm
## 4-5 层背篓层间距： 43.3cm
（2）将料箱放置在最下面一层背篓中，使用 lift 和 rotate 指令将货叉对准最下面一层背篓，当能够平缓的手动将背篓中的料箱推到货叉中时，此时记录下 lift 参数值，即为 第0层背篓取货高度值 。
（3）将料箱放置在车体货叉中，使用 lift 和 rotate 指令将货叉对准最下面一层背篓，当能够平缓的手动将货叉中的料箱推到背篓中时，此时记录下 lift 参数值，即为 第0层背篓放货高度值 。
lift、rotate 指令参考下文章节的 单机构动作任务指令。
## 修改背篓高度值
（1）打开 Roboshop 机构脚本 param 文件夹下的 containerRobot.json 文件，找到标注为“第0层背篓取料箱高度”的参数；
注：程序中数组下标一般从0计数，此处“第0层背篓取货高度”参数对应料箱车最下面的一层背篓。
（2）将“第0层背篓取料箱高度”的参数value值，设置为上文步骤中测量得到的第0层背篓取货高度值；
（3）根据第0层背篓取料箱高度值 + 测量得到的层间距，可计算出所有层背篓取料箱高度；
（4）将“第0层背篓放料箱高度”的参数value值，设置为上文步骤中测量得到的第0层背篓放货高度值；
（5）依次修改所有层的取料箱、放料箱高度参数的 value 值。
1710076919233-3a3e8bf2-63e4-4829-814c-9a5bb6d1744e.png

## 验证背篓层高
通过任务指令运行取放货任务，如果货叉能正常将料箱放入/取出各层背篓，则证明层高数值合理。
## 取货任务指令参考如下：
## {
    "id": "SELF_POSITION",
    "operation": "script",
## "script_args": {
        "lift": 0.91,
        "operation": "load",
        "rotate": 1.57,
        "stretch": 0.68,
        "visionBinType": "code",
        "visionType": "box",
## "recAdjust": 1
    },
    "script_name": "containerRobot.py"
## }
## 放货任务指令参考如下：
## {
    "id": "SELF_POSITION",
    "operation": "script",
## "script_args": {
        "lift": 0.8,
        "operation": "unload",
        "rotate": 1.57,
        "stretch": 0.68,
        "visionBinType": "code",
        "visionType": "shelf",
## "recAdjust": 1
    },
    "script_name": "containerRobot.py"
## }
## 测试旋转限位光电
## 测试步骤如下：
## 将货叉升到0.8米高度
### 拍急停，手动旋转货叉，直到刚好触发限位光电
此时查看外设控制中的电机位置数值，正反方向各操作一遍，记录下数值
若记录的数值的绝对值小于99，则说明限位光电安装有偏差。
## 单机构动作任务指令
测试料箱机器人货叉升降、伸缩、旋转及手指开合功能 ，确保货叉运行顺畅，无卡顿，运行到位，无偏离。
## 机构复位
### 货叉机构回到初始零位， 任务指令参考如下：

## {
    "id": "SELF_POSITION",
    "operation": "script",
## "script_args": {
## "operation": "zero"
    },
    "script_name": "containerRobot.py"
## }
## 货叉升降
## 测试货叉升降功能， 任务指令参考如下：
## {
    "id": "SELF_POSITION",
    "operation": "script",
## "script_args": {
## "lift": 0.4
    },
    "script_name": "containerRobot.py"
## }
## 验证升降功能：
下发指令后，观察货叉是否按下发指令高度值正常运行，对比升降电机编码器的实际数值(如下图)和下发指令高度，两者数值一致则证明升降功能正常；

1710937976624-68db85d9-2faf-4c62-bc62-2bc83ac659d4.png

## 验证最大高度和最小高度：
打开 containerRobot.json 文件，确认货叉升降最大高度值和最小高度值；
下发升降指令，当下发高度值超出最大高度时，机器人报错 53000 "Out of the max lift height: {xxx}" ;
下发升降指令，当下发高度值低于最小高度时，货叉正常运行到最小高度处。
## 货叉旋转
## 测试货叉旋转功能，任务指令参考如下：

## {
    "id": "SELF_POSITION",
    "operation": "script",
## "script_args": {
## "rotate": 1.5708
    },
    "script_name": "containerRobot.py"
## }
## 验证旋转功能：
下发指令后，观察货叉是否按下发指令参数值正常旋转，对比旋转电机编码器的实际数值和下发指令参数值，两者数值一致则证旋转功能正常。
## 验证最大旋转值和最小旋转值：
打开 containerRobot.json 文件，确认货叉最小旋转范围和最大旋转范围；
下发旋转指令，当下发旋转值超出最大旋转值时，机器人报错 53000 "Out of max rotate angle: {xxx}" ；
下发旋转指令，当下发旋转值小于最小旋转值时，机器人报错 53000 "Out of max rotate angle: {xxx}" 。
## 货叉伸缩
## 测试货叉伸缩功能，任务指令参考如下：
## {
    "id": "SELF_POSITION",
    "operation": "script",
## "script_args": {
## "stretch": 0.7
    },
    "script_name": "containerRobot.py"
## }
## 验证伸缩功能：
下发指令后，观察货叉是否按下发指令参数值正常伸缩，对比伸缩电机编码器的实际数值和下发指令参数值，两者数值一致则证明伸缩功能正常。
## 验证最大伸缩参数值：
打开 containerRobot.json 文件，确认货叉最大伸缩范围；
下发伸缩指令，当下发伸缩值超出最大伸缩值时，机器人报错 53000 "Out of max stretch length: {xxx}" 。
## 手指控制
## 测试手指开合功能，任务指令参考如下：
## {
    "id": "SELF_POSITION",
    "operation": "script",
## "script_args": {
### "finger": 1   # 0 为关闭，1 为打开
    },
    "script_name": "containerRobot.py"
## }
## 验证手指机构：
通过任务指令循环执行手指打开/闭合，验证手指功能正常运行；
当手指打开或者闭合时，查看手指的上到位DI和下到位DI，确认到位DI正常触发。
## 识别料箱二维码
测试料箱码识别，前提条件是相机已经对准了料箱二维码，任务指令参考如下：
## {
    "operation": "Script",
## "script_args": {
        "lift": 1.12,
        "operation": "rec_qrcode",
        "rotate": -1.57,
## "visionType": "box"
    },
    "script_name": "containerRobot.py"
## }

## 识别货架二维码
测试货架码识别，前提条件是相机已经对准了货架二维码，任务指令参考如下：
## {
    "operation": "Script",
## "script_args": {
        "lift": 1.12,
        "operation": "rec_qrcode",
        "rotate": -1.57,
### "visionType": "shelf"
    },
    "script_name": "containerRobot.py"
## }

## 指定货叉高度和角度识别一维码
该功能可用于库位点检，可以识别货架上的料箱一维码，并将识别结果上报RBK、调度系统，以及上层业务系统，用于库位数据统计。一维码支持 code128 编码。
## 参考示例如下：
## {
    "id": "SELF_POSITION",
    "operation": "script",
## "script_args": {
        "operation": "rec_box_barcode",
        "lift": 0.6,
## "rotate": 1.5708
    },
    "script_name": "containerRobot.py"
## }

## 指定货叉高度和角度拍照
该功能可用于库位采集照片，货叉升到指定的高度和角度进行拍照。
## 参考示例如下：
## {
    "id": "SELF_POSITION",
    "operation": "script",
## "script_args": {
        "operation": "take_photo",
        "lift": 0.8,
## "rotate": 1.5708
    },
    "script_name": "containerRobot.py"
## }

RBK3.4.6.x 版本照片保存在日志文件 roboview\source 目录下，
RBK3.4.5.x 版本照片保存在日志文件 segmentation 目录下。
## 取放货任务指令
以下所有任务指令，只做格式参考和参数字段参考，参数值需要结合现场实际情况进行修改。
## 不识别取货
不识别直接取货，将货架上的箱子先取到货叉里，然后放到车体自身的空托盘中。任务指令参考如下：

## {
    "id": "SELF_POSITION",
    "operation": "script",
## "script_args": {
        "goodsId": "111",  # 可缺省，仅任务链测试使用
        "lift": 0.91,
        "operation": "load",
### "rotate": 1.57,   # 弧度值， 约90°
### "stretch": 0.68,  # 不可缺省
    },
    "script_name": "containerRobot.py"  # 当脚本存于userpy文件夹时，需要加上userpy，否则不需要
## }
## 识别料箱码取货
通过识别料箱码将货架上的箱子先取到货叉里，然后放到车体自身的空托盘中。识别取货任务指令参考如下：
## {
    "id": "SELF_POSITION",
    "operation": "script",
## "script_args": {
        "goodsId": "111",  # 可缺省，仅任务链测试使用
### "container": 0,  # 可缺省
        "lift": 0.91,
        "operation": "load",
        "rotate": 1.57,
        "stretch": 0.68,  # 可缺省， 缺省时将根据识别结果自动计算伸出长度
### "visionType": "box",  # 可缺省
## "recAdjust": 1
    },
    "script_name": "containerRobot.py"  # 当脚本存于userpy文件夹时，需要加上userpy，否则不需要
## }
## 功能验证：
正常摆放料箱，当货叉升降、旋转运行到位后，使料箱识别码正对货叉相机，验证取货流程是否正常执行；
料箱角度摆正，距离拉远，当货叉升降、旋转运行到位后，使料箱正对货叉相机但距离较远，验证料箱超出货叉伸缩距离时，取货报错 53000 "Out of max stretch length: {xxx}" 。
料箱角度摆歪，距离正常，当货叉升降、旋转运行到位后，使料箱斜对货叉相机但距离正常，验证料箱在摆放角度有小幅度偏差的情况下，货叉是否正常能抓取料箱；
料箱角度摆歪，距离正常，当角度偏差大于货叉最大旋转角度时，验证货叉是否报错 53000 "Out of max rotate angle: {xxx}" 。
container 参数表示车体背篓号，该参数指定取货的背篓号，缺省时将按照从下往上依次取货；

## 取货前识别一维码核对物料信息
在识别取货的基础上增加barcodeHeight 参数，参数值为识别一维码时的货叉升降高度值，单位： 米。任务指令参考如下：
## {
    "id": "SELF_POSITION",
    "operation": "script",
## "script_args": {
        "barcodeHeight": 0.95,   
        "lift": 0.91,
        "operation": "load",
        "rotate": 1.57,
        "stretch": 0.68,   # 可缺省， 缺省时将根据识别结果自动计算伸出长度
### "visionType": "box",   # 可缺省
## "recAdjust": 1
    },
    "script_name": "containerRobot.py"
## }
## 功能验证：
下发任务时，goodsId 参数设置为一维码数据值，若识别成功，则会匹配数据一致性，匹配成功后正常取货；
下发任务时，goodsId 参数设置成跟一维码数据值不一致，此时识别成功后，由于数据不一致，取货任务会失败；
调度下，goodsId 参数由调度下发，库位参数不必写 goodsId 参数;
单机任务指令测试，goodsId 参数可以写在任务指令里。
## 识别货架码取货
此为非标准流程，用于料箱不贴码，通过识别货架码来取货。任务指令参考如下：
## {
    "id": "SELF_POSITION",
    "operation": "script",
## "script_args": {
        "lift": 0.91,
        "loadHeight":0.05,  # 识别货架码后，额外抬升的高度
        "code_file": "code/t0002.code"  # 填实际的货架码识别文件，
        "operation": "load",
        "rotate": 1.57,
### "stretch": 0.68,  # 可缺省
        "visionType": "shelf",
## "recAdjust": 1
    },
    "script_name": "containerRobot.py"  # 填实际路径及脚本名
## }
## 部分参数说明：
### "lift" : 识别货架码时的货叉高度，单位：米
"loadHeight"： 成功识别货架码后，抓取料箱时需要调整的高度（大约是货架平面跟货架码中心的高度差），该参数与货架码贴码位置有关，需要实测，正数表示货叉需要上升，负数表示货叉需要下降，单位：米
"code_file": 识别码文件名，此处需填货架码文件名
## 识别货架码放货
将车体自身空托盘中任务指定的箱子先取到货叉里，然后通过识别货架码放到货架上。识别放货任务指令参考如下：
## {
    "id": "SELF_POSITION",
    "operation": "script",
## "script_args": {
        "lift": 0.8,
        "operation": "unload",
        "rotate": 1.57,
        "stretch": 0.68,   # 可缺省， 缺省时将根据识别结果自动计算伸出长度
        "visionType": "shelf",
## "recAdjust": 1
    },
    "script_name": "containerRobot.py"
## }
## 功能验证：
正常摆放料箱，当货叉升降、旋转运行到位后，使货架识别码正对货叉相机，验证取货流程是否正常执行；
小范围调整高度参数值，当货叉升降、旋转运行到位后，使货架识别码正对货叉相机，但上下高度有小幅度偏差，验证取货流程是否正常执行；
增大调整高度参数值，当货叉升降、旋转运行到位后，使货架识别码正对货叉相机，但上下高度有较大偏差，验证取货流程是否正常执行；并记录下最大高度偏差值。
## 放货时先识别库位是否有货
在放货指令基础上增加 "recBoxLift" 参数，参数值为库位上应有料箱的摆放高度，单位：米。
## {
    "id": "SELF_POSITION",
    "operation": "script",
## "script_args": {
### "recBoxLift": 0.9,  # 增加该参数
        "lift": 0.8,
        "operation": "unload",
        "rotate": 1.57,
        "stretch": 0.68,    # 可缺省， 缺省时将根据识别结果自动计算伸出长度
        "visionType": "shelf",
## "recAdjust": 1
    },
    "script_name": "userpy/containerRobot.py"
## }
## 部分参数说明：
"recBoxLift" : 识别料箱码的高度。
执行任务时，货叉会先升到 recBoxLift 高度，通过识别料箱码成功与否来判断货架上是否已经存在料箱；如果识别成功，说明货架上有箱子了，此时任务将中断，无法执行放货任务；如果识别失败，说明未检测到货架上有箱子，此时将继续执行放货任务。
## 识别取货时，指定识别后的二次抬升高度
在识别取货任务指令中加入 loadHeight 参数，参考如下：
## {
    "id": "SELF_POSITION",
    "operation": "script",
## "script_args": {
        "lift": 0.91,
        "operation": "load",
        "rotate": 1.57,
        "loadHeight": -0.05,  # 指定该库位识别后二次抬升高度为 -0.05m
        "stretch": 0.68, 
        "visionType": "box",
## "recAdjust": 1
    },
    "script_name": "userpy/containerRobot.py"
## }
## 放货时，提前打开手指
在放货指令基础上增加 "pre_finger" 参数，放货过程中手指机构会在伸缩机构伸出之前打开，解决部分现场推箱子后由于箱体表面不规则结构卡手指的情况。指令参考如下：
## {
    "id": "SELF_POSITION",
    "operation": "script",
## "script_args": {
### "pre_finger": 1,  # 增加该参数
        "lift": 0.8,
        "operation": "unload",
        "rotate": 1.57,
        "stretch": 0.68,    # 可缺省， 缺省时将根据识别结果自动计算伸出长度
        "visionType": "shelf",
## "recAdjust": 1
    },
    "script_name": "containerRobot.py"
## }
## 内部取货
### 将料箱从车体背篓取到货叉中，参考指令如下：
## {
    "id": "SELF_POSITION",
    "operation": "script",
## "script_args": {
        "operation": "in_take",
### "container": 0,  # 可缺省
### "goodsId": "123456",   # 可缺省
        "rotate": 1.57,   # 可缺省, 动作结束时货叉停止的角度，单位：rad
        "lift": 0.8    # 可缺省, 动作结束时货叉停止的高度，单位：m
    },
    "script_stage": 1,  # 可缺省，加上此参数可实现边走边动
    "script_name": "containerRobot.py"
## }
## 参数说明：
container 参数表示车体背篓号，该参数指定内部取货的背篓号，缺省时将按照从下往上依次取货；
goodsId 表示货物编号，该参数指定要取货的货物编号，若车体背篓中无此goodsId，会报错；
rotate 表示动作结束时货叉停止的角度，可设置为下一个动作的目标角度，缺省时默认为0；
lift 表示动作结束时货叉停止的高度，可设置为下一个动作的目标高度，缺省时默认为0；
若 goodsId 与 container 参数同时存在时，将匹配该背篓号中的货物编号是否与goodsId一致, 不一致时将报错；
若 container 和 goodsId 都缺省，则按照从下往上的顺序取出一个货物。
script_stage 表示执行脚本的策略，其值含义如下：

## 0: 导航前执行脚本
## 1: 导航过程中执行脚本
### 2: 导航完成后执行的脚本，缺省时默认为此值
## 3: 脚本控制导航
## 注意事项：
模型文件中必须启用container 999， 因为内、外部动作是往料斗里抓取货物，任务完成后，货物ID是更新到container 999 里面的。
## 内部放货
### 将料箱从货叉放到车体背篓中，参考指令如下：
## {
    "id": "SELF_POSITION",
    "operation": "script",
## "script_args": {
        "operation": "in_put",
### "container": 0,  # 可缺省
### "goodsId": "123456"   # 可缺省
    },
    "script_stage": 1,  # 可缺省，加上此参数可实现边走边动
    "script_name": "containerRobot.py"
## }
## 参数说明：
goodsId 表示货物编号，缺省时货物编号为空字符串；
container 参数表示车体背篓号，该参数指定内部放货的背篓号，缺省时将按照从下往上依次放货；
script_stage 表示执行脚本的策略，同上。
## 注意事项：
模型文件中必须启用container 999， 因为内、外部动作是往料斗里抓取货物，任务完成后，货物ID是更新到container 999 里面的。
## 外部取货
将料箱从外部库位（如货架、辊筒线等）取到货叉中，参考指令如下：
## {
    "id": "SELF_POSITION",
    "operation": "script",
## "script_args": {
        "operation": "ex_take",
        "lift": 0.8,
        "rotate": 1.57,
        "stretch": 0.68,
        "visionType": "box",
## "recAdjust": 1
    },
    "script_name": "containerRobot.py"
## }
## 注意事项：
模型文件中必须启用container 999， 因为内、外部动作是往料斗里抓取货物，任务完成后，货物ID是更新到container 999 里面的。

## 外部放货
将料箱从货叉放到外部库位（如货架、辊筒线等）中，参考指令如下：
## {
    "id": "SELF_POSITION",
    "operation": "script",
## "script_args": {
        "operation": "ex_put",
        "lift": 0.8,
        "rotate": 1.57,
        "stretch": 0.68,
        "visionType": "shelf",
## "recAdjust": 1
    },
    "script_name": "containerRobot.py"
## }
## 注意事项：
模型文件中必须启用container 999， 因为内、外部动作是往料斗里抓取货物，任务完成后，货物ID是更新到container 999 里面的。

## 指定高度执行机构复位
通过输入参数使执行机构复位时，指定货叉的升降高度。参考指令如下：

## {
    "id": "SELF_POSITION",
    "operation": "script",
## "script_args": {
        "operation": "zero_with_lift",
## "lift": 0.4
    },
    "script_name": "containerRobot.py"
## }

## 脚本参数文件配置
## 导入脚本文件
Roboshop菜单栏： 机构脚本 -> 左侧空白处右击 -> 导入文件 -> 选择机构脚本文件【containerRobot.py】 ->右键新添加的文件 -> 推送。

### 2024-11-07_143624085.mp4
## 脚本参数文件配置
当脚本第一次运行时，会自动在脚本当前目录下生成param文件夹，并在param文件夹中生成脚本文件同名，后缀为json的参数配置文件，如 containerRobot.json 。
## image.png

该文件旨在解决因实施场景不同而导致的脚本运行参数不同的问题，通过修改配置参数就能解决不同应用场景下定制的机器人参数不同的问题，比如：
A场景货架的高度和宽度与B场景的货架的高度和宽度不一样，因而两个场景下的料箱车托盘的层高和货叉伸缩长度不一样，只需要修改配置文件的中相应参数就可以解决，而运行的程序却可以是同一份脚本文件。
脚本参数配置文件如下，修改时只需要修改对应参数的 value 数值即可。
## {
## "timeout": {
        "value": 120,
        "default": 120,
        "maxValue": 300,
        "minValue": 0,
        "comment": " 运行超时时间",
## "unit": "s"
    },
## "low0": {
        "value": 0.4,
        "default": 0.4,
        "maxValue": 10000.0,
        "minValue": 0.0,
        "comment": "第0层背篓取料箱高度",
## "unit": "m"
    },
## "high0": {
        "value": 0.41,
        "default": 0.41,
        "maxValue": 10000.0,
        "minValue": 0.0,
        "comment": "第0层背篓放料箱高度",
## "unit": "m"
    },
## "low1": {
        "value": 0.82,
        "default": 0.82,
        "maxValue": 10000.0,
        "minValue": 0.0,
        "comment": "第1层背篓取料箱高度",
## "unit": "m"
    },
## "high1": {
        "value": 0.83,
        "default": 0.83,
        "maxValue": 10000.0,
        "minValue": 0.0,
        "comment": "第1层背篓放料箱高度",
## "unit": "m"
    },
## "low2": {
        "value": 1.25,
        "default": 1.25,
        "maxValue": 10000.0,
        "minValue": 0.0,
        "comment": "第2层背篓取料箱高度",
## "unit": "m"
    },
## "high2": {
        "value": 1.26,
        "default": 1.26,
        "maxValue": 10000.0,
        "minValue": 0.0,
        "comment": "第2层背篓放料箱高度",
## "unit": "m"
    },
## "low3": {
        "value": 1.675,
        "default": 1.675,
        "maxValue": 10000.0,
        "minValue": 0.0,
        "comment": "第3层背篓取料箱高度",
## "unit": "m"
    },
## "high3": {
        "value": 1.68,
        "default": 1.68,
        "maxValue": 10000.0,
        "minValue": 0.0,
        "comment": "第3层背篓放料箱高度",
## "unit": "m"
    },
## "low4": {
        "value": 2.095,
        "default": 2.095,
        "maxValue": 10000.0,
        "minValue": 0.0,
        "comment": "第4层背篓取料箱高度",
## "unit": "m"
    },
## "high4": {
        "value": 2.1,
        "default": 2.1,
        "maxValue": 10000.0,
        "minValue": 0.0,
        "comment": "第4层背篓放料箱高度",
## "unit": "m"
    },
### "stretch_self_length": {
        "value": 0.73,
        "default": 0.73,
        "maxValue": 10000.0,
        "minValue": 0.0,
        "comment": "取放自身背篓货物时伸出长度",
## "unit": "m"
    },
## "rec_offz_box": {
        "value": -0.05,
        "default": -0.05,
        "maxValue": 1000.0,
        "minValue": -1000.0,
        "comment": "识别料箱码后抓取料箱时调整高度",
## "unit": "m"
    },
## "rec_offz_shelf": {
        "value": 0.02,
        "default": 0.02,
        "maxValue": 1000.0,
        "minValue": -1000.0,
        "comment": "识别货架码后放置料箱时调整高度",
## "unit": "m"
    },
## "fork_up_limit": {
        "value": 2,
        "default": 2,
        "maxValue": 100,
        "minValue": -1,
        "comment": "货叉上限位DI",
## "unit": ""
    },
### "fork_down_limit": {
        "value": 2,
        "default": 2,
        "maxValue": 100,
        "minValue": -1,
        "comment": "货叉下限位DI",
## "unit": ""
    },
## "fork_limit": {
        "value": 3,
        "default": 3,
        "maxValue": 100,
        "minValue": -1,
        "comment": "货叉机械限位限位DI",
## "unit": ""
    },
### "min_fork_height": {
        "value": 0.38,
        "default": 0.38,
        "maxValue": 10000.0,
        "minValue": 0.0,
        "comment": "货叉最低高度",
## "unit": "m"
    },
### "max_fork_height": {
        "value": 4.5,
        "default": 4.5,
        "maxValue": 10000.0,
        "minValue": 0.0,
        "comment": "货叉最大高度",
## "unit": "m"
    },
### "min_rotate_angle": {
        "value": 80.0,
        "default": 80,
        "maxValue": 90,
        "minValue": 60,
        "comment": "货叉最小旋转范围",
## "unit": "m"
    },
### "max_rotate_angle": {
        "value": 100.0,
        "default": 100,
        "maxValue": 110,
        "minValue": 90,
        "comment": "货叉最大旋转范围",
## "unit": "m"
    },
### "max_stretch_length": {
        "value": 0.9,
        "default": 0.9,
        "maxValue": 10000.0,
        "minValue": 0.0,
        "comment": "货叉最大伸出长度",
## "unit": "m"
    },
### "safe_stretch_length": {
        "value": 0.05,
        "default": 0.05,
        "maxValue": 10000.0,
        "minValue": 0.0,
        "comment": "货叉升降、旋转操作时伸缩臂安全长度",
## "unit": "m"
    },
### "safe_lift_height": {
        "value": 1.0,
        "default": 1.0,
        "maxValue": 10000.0,
        "minValue": 0.0,
        "comment": "货叉安全高度, 货叉导航过程中的最高高度",
## "unit": "m"
    },
## "level2_height": {
        "value": 3.2,
        "default": 3.2,
        "maxValue": 10000.0,
        "minValue": 0.0,
        "comment": "门架升降临界高度值",
## "unit": "m"
    },
### "door_lift_height": {
        "value": 1.7,
        "default": 1.7,
        "maxValue": 10000.0,
        "minValue": 0.0,
        "comment": "门架固定升降高度",
## "unit": "m"
    },
### "has_fork_sensor": {
        "value": 0,
        "default": 0,
        "comment": "货叉是否有货物检测传感器，1为有，0为无"
    },
### "has_tray_sensor": {
        "value": 0,
        "default": 0,
        "comment": "背篓是否有货物检测传感器，1为有，0为无"
    },
## "fork_sensor_di": {
        "value": 9,
        "default": 9,
        "maxValue": 100,
        "minValue": -1,
        "comment": "货叉检测DI",
## "unit": ""
    },
## "box_code_file": {
        "value": "tag/t0001.tag",
        "default": "tag/t0001.tag",
### "comment": "料箱二维码识别文件"
    },
### "shelf_code_file": {
        "value": "tag/t0002.tag",
        "default": "tag/t0002.tag",
### "comment": "货架二维码识别文件"
    },
## "barcode_file": {
        "value": "tag/t0003.tag",
        "default": "tag/t0003.tag",
### "comment": "条形码识别文件"
    },
### "lift_motor_speed": {
        "value": 1.5,
        "default": 1.5,
### "comment": "升降电机运转速度"
    },
### "stretch_motor_speed": {
        "value": 1.5,
        "default": 1.5,
### "comment": "伸缩电机运转速度"
    },
### "rotate_motor_speed": {
        "value": 1.5,
        "default": 1.5,
### "comment": "旋转电机运转速度"
    },
### "lift_motor_name": {
        "value": "lift",
        "default": "lift",
### "comment": "lift_motor_name"
    },
### "stretch_motor_name": {
        "value": "stretch",
        "default": "stretch",
        "comment": "stretch_motor_name"
    },
### "rotate_motor_name": {
        "value": "rotate",
        "default": "rotate",
        "comment": "rotate_motor_name"
    },
### "auto_stretch_box_len": {
        "value": 0.6,
        "default": 0.6,
        "maxValue": 100,
        "minValue": -1,
        "comment": "箱子长度",
## "unit": ""
    },
### "auto_stretch_dist": {
        "value": 0.01,
        "default": 0.01,
        "maxValue": 10,
        "minValue": 0,
        "comment": "多伸出的距离",
## "unit": ""
    },
### "auto_stretch_odo_len": {
        "value": 0.38,
        "default": 0.38,
        "maxValue": 100,
        "minValue": 20,
        "comment": "手臂到里程中心的距离",
## "unit": ""
## }
## }
### 9.3 修改脚本参数
## 参考下图操作：
## image.png

## 导入电池脚本文件
Roboshop菜单栏：通用脚本 -> 左侧空白处右击 -> 导入文件 -> 选择电池脚本【btCanPass_Greenway2.py】 -> 右击新添加的文件 -> 推送。
1710074740462-acfc03c4-e6c8-4655-8e28-580568ec0bf2.png

## 导入识别文件
（1）Roboshop菜单栏：识别编辑 -> 选中tag目录 -> 加载 -> 依次导入识别文件 t0003.tag、t0002.tag。
（2）导入 t0003.tag 和 t0002.tag 之后，把默认的 t0001.tag 删掉，再导入t0001.tag。
1710074821651-ff327ea6-d696-4a12-9f34-9f0ac53f89ec.png

## 附件
附件中包含以上所述的电池脚本和识别文件， 最新版本的程序需要联系研发获取。

## 料箱车文件.zip
