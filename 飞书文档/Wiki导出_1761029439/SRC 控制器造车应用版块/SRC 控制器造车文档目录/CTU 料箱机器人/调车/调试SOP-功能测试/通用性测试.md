# 通用性测试

## 通用性测试

## 版本

## 更新日期

## 更新说明

## 文档状态

## 维护责任人

## V1.0

### 2024.4.29

## 更新发布

## 使用中

## 开关机测试
（1）通过长按【一键启停】按钮，测试机器人是否正常开机、关机；正常开机后，蓝色按钮会透光亮起来，大约1分钟后，机器人顶部三色灯会亮起；
## image.png

（2）通过Roboshop高级配置【重启计算机】按键，重启控制器内Robokit程序，正常重启后，大约10秒在首页刷新会显示机器人已在线。
1710077358677-eb206366-0bf0-4e69-8662-d93e7508d64e.png

## 平动
## 测试办法：
a）将车体位置摆正，将车体当前位置在roboshop上标记为站点
## b）在当前位置正前方3m处标记好位置
c）在roboshop上以当前站点作为起始点建立另一个3m距离的站点
d）通过平动功能下发3m的移动距离，速度为额定速度，测量实际到点后的位置距离标记点的距离，数据一般为2~5cm
## image.png

## 转动
## 测试办法：
### a）在驱动轮垂线与车体外沿交点分别做两个标记点
b）通过roboshop转动功能下发转动720°，角速度为额定角速度，旋转完成后再在驱动轮垂线与车体外沿处交点做两个标记点
分别将转动前两个标记点后转动后两个标记点连成线，得到两条直线，算出两条直线的中点连线距离x，数据一般为2~3cm
## image.png

## 导航控制
## 手动控制
（1）使用Roboshop连接机器人后，确认定位，抢占控制权，通过电脑键盘"WASD"按键控制车体前进、后退、左转、右转，确认机器人可以正常手动控制导航。
1710122059657-f3d5d2de-31b8-438e-a216-2fdbcd445755.gif

（2）点击左下角小齿轮，可以设置手动控制时行走的最大速度和最大转速。
1710122245099-aec8c364-4fcd-40e5-b53f-3e19138bbb71.png

## 路径导航
（1）导入已有地图或者创建地图路径，通过路径导航测试机器人的导航功能，创建地图站点及路径可参考 Roboshop使用手册 。
（2）在Roboshop【地图与控制】界面，点击【路径导航】，选中某一个站点，测试机器人路径导航功能。
1710122526398-fa7cf1fa-bfa4-4f17-a918-2c1753d35746.gif

## RBK功能激活检查
## 查看功能激活
在 Roboshop首页找到想要查看的机器人，打开高级配置界面，点击【版本信息】，查看RBK是否已激活功能【rbk_diff、rbk_roaming、rbk_laser_loc、rbk_script、rbk_reflector、rbk_tagrecognize】，如果缺少请找相关人员开通。
1710123737571-14593d29-d90a-4cd1-82e2-fc3bf8ead843.png

## 功能解释

## 功能

## 软件授权名

## 说明

## 配套硬件

## 备注

## 标准版 SRC
## 基础功能

## rbk_diff

包括地图编辑、模型编辑、定位模块、导航模块、差动运动模型、外设扩展功能（辊筒、顶升、潜伏牵引）、API 接口、可视化操作、调度系统接入等

## ——

### 3.0.0.0~latest
## 我司可提供硬件选型及设计咨询

## Wifi 漫游功能

## rbk_roaming

当用户现场有多个 AP 时，通过自研的 Wifi 漫游算法实现移动机器人在多个 AP 间快速稳定的漫游切换，保证调度系统连接的稳定性

### SRC-2000(S) 的硬件版本需 ≥ 1.2.11

### 3.2.8.0~latest，需配合 robod 2.7.4+
### 现场的 AP 部署需要满足一定的要求方能达到最优的漫游效果

## 激光反光板导航功能

## rbk_reflector

在激光导航的基础上融合激光反光板导航，在划定区域内进行激光反光板导航，其余区域恢复激光导航，实现导航方式的自由切换

钻石级反光薄膜，激光雷达需使用 SICK nanoScan3 或 倍加福 R2000

## 可由我司提供定制的标准反光柱

## 脚本功能

## rbk_script

控制器支持脚本编程功能，可编写 Python 脚本用于控制复杂的上层机构（如机械臂、伸缩取料机构、货叉机构、辊筒机构、顶升机构、上下料机构、电推杆等）

## ——

### 3.2.9.0~3.2.9.72
### 3.3.5.0~latest

## AprilTag二次精确对位功能

## rbk_tagrecognize

当移动机器人需要在某些站点进行精准定位时，可以通过在该站点处添加AprilTag的方式进行到点时的精确调整，同时需要在机器人身上安装RGB相机

### 海康 MV 工业相机以及我司提供的部分USB 相机

### 3.3.4.12~latest
## 安全装置测试
## 急停按钮
当机器人发生异常，需要紧急停止时，可以手动拍下急停按钮，机器人便会立即停止运行。
## 验证过程：
下发路径导航任务，手动拍下急停按钮，机器人正常停止则证明急停按钮正常。
下发取放货任务，手动拍下急停按钮，货叉正常停止则证明急停按钮正常。
## 碰撞条
当障碍物和机器人发生碰撞并触发碰撞条，机器人将停车并报警。
## 验证过程：
机器人静止状态下，手动使用工具触碰底盘碰状态，如果碰撞条DI被触发且机器人有声光报警，证明碰状态正常。
## 避障传感器
避障传感器将扫描运行环境，当检测到障碍物时，将控制机器人减速或停止，以避免机器人与障碍物发生碰撞。
## 验证过程：
下发路径导航任务，在机器人途径路径放置障碍物，如果机器人触发避障激光，且有声光报警，证明避障激光工作正常。
## 安全导航配置测试
该配置项使料箱车在移动前自动执行机构复位，保证料箱车在移动前不存在高位货叉、手臂伸出等安全隐患。
## safeMoveCheck 配置
需要在机器人模型文件中启用 safeMoveCheck 配置，该配置表示机器人底盘在移动前会触发执行属性窗口中配置的脚本，以下配置表示该机器人在移动前会执行 containerRobot.py 脚本，脚本参数为 {"operation": "zero"} 。参考如下：
1709718890793-8db2d6bd-33e4-41d5-8feb-bce6ec9cd12e.png

## safeMoveCheck 功能验证
（1）使用升降指令将货叉升到非零位的任意高度；
（2）让料箱车路径导航到任意位置，观察料箱车在移动前，是否执行了脚本 zero动作，将货叉复位了，如果车体移动前货叉会自动复位，则证明该配置功能正常。
