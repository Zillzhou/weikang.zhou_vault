# 驱控单元

## 驱控单元

## 版本

## 更新日期

## 更新说明

## 文档整理人

## 维护责任人

## 应用审核人

## 市场审核人

## V1.0

### 2024.3.20

## 初版

## @吴钺梁

## 1. 驱动器性能参数对比
Motec、Kinco、Kinco三款驱动器性能参数对照表，客户可根据实际需求选择合适的型号。

## 驱动器品牌

## Motec

## Kinco

## HLS

## 系列

## ARES 系列

## FD1XX 系列

## LS-BK 系列

## 当前可用软件版本

## MotionStudio3.3..2

## 私有协议

## 急停 DI 接线方式

https://assets.seer-group.com/robokit/ethan/1.png

https://assets.seer-group.com/robokit/ethan/2.png

https://assets.seer-group.com/robokit/ethan/3.png

## 急停响应方式

## 失能，电磁解锁

## 失能，电磁解锁

## 失能，电磁解锁

## 驱动器协议 EMC

## 不支持

## 不支持

## 支持

## 急停状态字

## 0x6090

## 0x6041

### 按下急停上电会读不到急停信号， 松开急停再按下恢复

## 使能/失能状态字

## 0x6090

## 0x6041

### Dn2C（无 IO 版本，此功能 无效）

## 驱动器状态字

## 0x6041

## 0x6041

## Dn5B

## 报错代码

## 0x200B

## 0x2601

## Dn36

## 是否有看门狗

## 是

## 有

## 有

## 看门狗触发时间

## 300ms

## 300ms

## 400ms

## 喂狗间隔

## 50ms

## 50ms

## 50ms

## 看门狗触发行为

## 失能，电磁解锁

### 失能，然后需要发送错误重置指令才能重新使能

## 失能

## 上电使能方式

## 上电自动使能

### 上电不自动使能，由控制器下发报文电机使能

## 上电自动使能

## 是否支持查询电机电流

## 支持

## 支持

## 支持

## 是否支持查询驱动器温度

## 支持

## 支持

## 支持（BK 型号不支持）

## 急停是否上传

## 是

## 是

## 是

## 是否有初始化指令

## 是

## 是

## 否

## 是否有驱动器调试软件

## 是

## 是

## 是

## 驱动器是否有终端电阻

### 否，需要终端电阻需要让厂家发带终端电阻的驱动器

## 可以用拨码开关选择是否启用终端电阻

## 见具体型号

## 报错后是否需要重新发一条指令

## 不发，驱动器自己决定是否要自动重使能

## 不发，驱动器自己决定是否要自动重使能

## 不发，驱动器自己决定是否要自动重使能

## 急停后是否需要再发指令使能

## 不需

## 不需

## 是否为标准 CANOpen

## 是

## 是

## 否

## 是否有特殊的预配置项

## 是

## 是

## 是，需在驱动器键盘上配置

## 驱动器是否有心跳包

## 有

## 有，需要用上位机配置

## 无

## 急停能否区分 ID 号

## 能

## 能

## 能

## 报错区分 ID 号

## 能

## 能

## 能

## 单驱动出错是否会停止所有驱动

## 能

## 能

## 能

### 上传的 EMC 状态用的是 DI 输入还是失能状态

## 失能状态

## 失能状态

## 失能状态

## 驱动器上电后响应指令时间

## 200ms

## 1s(主要有自检过程)

## 5s

## 是否可以用做舵轮

## 不支持

## 支持

## 不支持

## 是否可以通过协议去使能

## 不支持

## 不支持

## 支持

## 是否可以通过协议清除错误

## 支持

## 支持

## 支持

## 驱动器是否支持抱闸

## 支持

## 抱闸的输出逻辑怎么控制

## 1.使能时松闸
### 2.失能时抱闸

## -

## 1.使能时松闸
### 2.失能时抱闸
### 3.驱动器无电时抱闸

## 是否支持失电抱闸

## 支持

## 抱闸的接线图

https://assets.seer-group.com/robokit/wangwenzhong/list-1.png

https://assets.seer-group.com/robokit/ethan/4.png

https://assets.seer-group.com/robokit/ethan/5.png https://assets.seer-group.com/robokit/ethan/6.png LS-BA 和 LS-BK 系列支持上方抱闸接法，
其他型号可参考下方抱闸接法。

### 3. 行走机构
### 3.1. 运动模型
智千料箱车运动模型为双轮差速，拥有2个驱动轮的差动车。该车型所拥有的2个驱动轮必须共轴，且车体坐标系的原点落在两轮中心连线的中点上，车体坐标系的x轴与轮轴垂直，如下图所示：
1652597627254-fb6a67ce-1648-48ae-9bbb-a02525e9f3fd.png

### 3.2. 驱动器配置
### 3.2.1. 快捷配置
通过导入仙工提供的cdi配置文件完成配置，需注意每个驱动器所对应的cdi文件是固定的，不可调换。
左行走电机配置文件： 📎motor1_left_130908.zip
右行走电机配置文件 ： 📎motor2_right_130908.zip
## 步骤如下：
准备232调试线，usb端连接电脑，RJ45端连接步科驱动器232调试口；
附件为上位机安装包 📎KincoServoPlus SetupV1.1.6(build211117).zip ；
## 打开步科上位机，如下图所示连接驱动器

1711074245346-3dd2aeb3-2fee-452d-b43d-ce37b0c4df3b.png

依次选择：【工具】 -> 【读写驱动器配置】 -> 【写驱动器配置】 -> 【打开文件】 -> 【选择正确的配置文件】 -> 【等待加载】

1711074920998-7e3003be-f6be-4dfa-9b1d-3936796efe07.png

### 3.2.2. 全新配置
使用步科上位机软件从0到1全新配置。可参考制造资源库文档-步科直流伺服驱动器-行走驱动器配置方法。
## 参考链接： 步科直流伺服驱动器
### 3.3. 模型文件配置
打开 Roboshop 软件，打开【模型文件】-> 找到【motor】参数，右侧为对应motor参数配置项。
1711075410860-bef3d88d-0408-4e92-88ba-18edf92b362e.png

## 具体参数配置如下：

1711075548765-cf9f2131-079b-409c-9e11-6a5c466eee3e.png 

1711075539238-d597028d-b1a3-4713-8a4b-2678cc8bc106.png

### 3.4. 行走驱动器验证
在整车组装完成未安装外壳前，请再检查一遍接线确保接线正确；
让车体着地，使用 Roboshop 软件操作机器人做运动动作: 向前，向后，向左，向右；
未拍急停按钮前，推动机器人，无法推动（电机使能），检查 Roboshop 中机器人状态处于“未急停”“驱动器未急停”，所示拍下急停按钮后，再次机器人，可以推动（电机去使能），检查 Roboshop 中机器人状态处于“已急停”，“驱动器已急停”，如下图所示：

1711076037067-ff3df63f-6a11-4dad-a231-3a6526855190.png
