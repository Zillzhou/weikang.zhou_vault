# 实施过程 FAQ

## 实施过程 FAQ

## 版本

## 更新日期

## 更新说明

## 文档状态

## 维护责任人

## V1.0

### 2024.4.29

## 更新发布

## 使用中

## 1 如何判断新建地图的质量
新建地图的质量直接影响机器人的定位精度，一般地图缺陷包括地图模糊、地图扭曲、地图未闭合、地图重影。
## 1.1 正确的地图
以下为一些正确地图的例子，包含大小不同、复杂程度不同的各种场景：
## image.png

## image.png

## image.png

## 1.2 地图模糊
## 下图是典型的地图模糊案例
## image.png

当构建的地图出现很模糊的情况时，说明机器人的模型配置不正确，请按以下步骤检查：
步骤1：检查激光配置（x, y, z, upside）。
步骤2：检查轴距 A,B,轮半径，减速比，编码器线数，电机反转的配置。
步骤3：平动，以 0.1m/s 向前运动 1m,测量实际运动距离是否约等于 1m，误差应小于 5 cm。
步骤4：转动，以 20°/s 转动 360°,观察实际转动角度是否约等于 360°，误差应小于 10°。
步骤5：当 3、4 均正常时，重新进行地图构建。
步骤6：若得到的地图依然模糊，请联系我司。
## 1.3 地图扭曲
本该为直线的地方没有呈直线，如下图。
## image.png

## 具体原因和解决办法参考如下：

## 可能造成这种现象的原因

## 解决方法

## 长直道（直道长度远大于激光的有效距离）

## 更换有效距离更长的激光雷达
每扫描 10-20 米时，使机器人旋转 360°，让机器人获得更多已经过路线的信息

## 发生打滑

### 降低扫描环境时的运行速度，避免前进和转向
确认地面是否适合机器人运行   3. 选用防滑性能更好的轮子
## 1.4 地图未闭合
## 下图是典型的地图未闭合案例
## image.png

## image.png

## 具体原因和解决办法参考如下：

## 可能造成这种现象的原因

## 解决方法

## 长直道（直道长度远大于激光的有效距离）

## 更换有效距离更长的激光雷达
每扫描 10-20 米时，使机器人旋转 360°，让机器人获得更多已经过路线的信息

## 发生打滑

### 降低扫描环境时的运行速度，避免前进和转向
## 确认地面是否适合机器人运行
## 选用防滑性能更好的轮子

## 扫图时环境动态变化

### 避免在扫图时出现动态变化的物体，或将动态变化的物体暂时移除
在扫图时用围栏将动态变化的物体遮挡住，构建完地图后再将围栏从地图中擦除  
总之，应该只有环境中静态的且长期保持不变的物体才应该被构建入地图中
## 1.5 地图重影
## 下图是典型的地图重影案例
## image.png

## 具体原因和解决办法参考如下：

## 可能造成这种现象的原因

## 解决方法

## 发生打滑

### 降低扫描环境时的运行速度，避免前进和转向
## 确认地面是否适合机器人运行
## 选用防滑性能更好的轮子

### 控制机器人扫描环境时，没有走完所有的路线

## 尽量控制机器人走完所有的路线
对于某一条路线，走一个来回（相比于只扫描单向）可以提升建图的效果

## 激光安装角度有问题，激光打到地面造成

## 检查激光安装是否有问题，并校正
