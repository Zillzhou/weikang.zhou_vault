# 贝卡尔特—光电传感器触发后停止车体

## 贝卡尔特—光电传感器触发后停止车体
## 使用要求
## RBK 3.4.6.18以上
## 光电传感器硬件必须安装好，且工作正常
## 脚本名称与位置
Roboshop uuid：5ec4ece9-ffa8-4d4f-98a7-cd3ca5e68362
## 图片.png

## 脚本使用方式
登录脚本项目平台，公用账号  账号：user 密码：user
## image.png

## 下载项目对应脚本
## 图片.png

## 下载到本地并修改参数
### 按照实际di、前移距离和移动速度修改参数：
### 运行前必须按照实际车体的接线和配置设置下述参数
## 图片.png

## 修改参数后推送
## 图片.png

## 测试与信息显示

直接在机构脚本界面运行脚本，车体以设置的速度前移固定距离。其他任务链、库位、api等使用方式通用。
## 图片.png

## 触发di停止
车体正常停止，并可在机构脚本右下界面查看检测状态和di当前状态
## 图片.png

## 移动到位车体停止（未检测到di）
### 弹出未检测到光电警告，并可在右侧查看运行状态
## 图片.png

## 任务di状态判断：
### di2为任务完成di；di3为任务失败di
## 00：Task overtime!
## 图片.png

### 01： Loading action failed!
## 图片.png

11：Error message from up system!
## 图片.png

## 10:正常结束
## 图片.png

## 如何获取脚本上报信息
## 通过 标准的TCP API 获取
## API是使用点击 -> TCP API
通信协议对应的API -> 1100 , 1100 介绍点我
### 在字段 move_status_info 就可以找到
## {
## move_status_info:{
      "cheak_state":"detected di stop",   //检测到光电di停止
## ······
## }
## }
## 包含的所有上报信息如下：
## 图片.png

## 通过 core 的标准API 获取
## core 的API 使用 点这里
在 获取所有机器人信息 中可以查询机器人的信息，其中包括的机构脚本的输出信息，在对象 rbk_report 字段 info 即可查到机构脚本的输出信息。
