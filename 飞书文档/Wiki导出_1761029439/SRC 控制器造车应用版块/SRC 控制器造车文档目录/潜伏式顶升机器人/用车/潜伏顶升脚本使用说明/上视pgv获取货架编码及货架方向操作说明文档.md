# 上视pgv获取货架编码及货架方向操作说明文档

### 上视pgv获取货架编码及货架方向操作说明文档

## 版本

## 更新日期

## 更新说明

## 文档状态

## 维护责任人

## V1.0

### 2024.7.02

## 初版

## 使用中

### （ 表格功能说明：需要明确文档全生命周期迭代进程 ）
特殊应用场景正向操作 SOP 的目的是为了迅速让客户通过该文档，掌握该类型车体现场的一些特殊场景部署、实施的方法，包括单机功能调试和测试、系统 RDS 的联动和测试。
## SOP 场景及实施说明
针对sop场景和实施相关的说明、机器人开关机、建图、定位导航、任务链、bintask、RDS相关内容参照正向操作 SOP 。针对特殊应用场景“上视pgv获取货架编码及货架方向”，具体脚本使用和说明如下。
## 特殊应用场景描述
不修改通讯协议，仅支持数字编码。识别码code和码方向，用于匹配货架和放置方向验证。
## 机构脚本：

### project_readgoodsid_dahua.py
## 使用读码器X70读取码值
## 机构脚本：

### project_readgoodsid_x70.py
## 使用过程
脚本中不包含顶升动作。脚本读取信息后，将“code”和方向信息发布到系统参数中，调度系统中可通过读取参数获取进行判断后执行相关动作。
使用时，可在某一库位中增加“bintask”，“QHSB”：
img_v3_02bu_39ce6493-e6d4-4dca-b14d-20dceb266b1g.png

## 单机测试：
## 在任务链中，新增动作：
## 图片.png

## 调度使用：
img_v3_02bu_10114a04-3a98-4cf7-8627-67be11c79ddg.jpg

img_v3_02bu_3d2f0acc-5514-48e1-9c5b-407d503ea28g.png

## 调度使用：

## 运行脚本时，机构脚本调试界面如下：
1701767197093-7c048612-c9d9-4735-9bd1-be30174a9db5.png

在右边就可以看到机构脚本的输出信息。
## 通过 标准的TCP API 获取
## API使用点击 -> TCP API
通信协议对应的API -> 1100 , 1100 介绍点我
### 在字段 move_status_info 就可以找到
## {
## move_status_info:{
      "number":123456,
## "这个是key":"这是你要的内容"
## }
## }
### 2.2 通过 core 的标准API 获取
### core 的API 使用获取所有机器人信息
可以查询机器人的信息，其中包括的机构脚本的输出信息，在对象 rbk_report 字段 info 即可查到机构脚本的输出信息。
