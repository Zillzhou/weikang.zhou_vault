# 如何选择合适的电池

## 如何选择合适的电池

## 版本

## 更新日期

## 更新说明

## 文档状态

## 维护责任人

## V1.0

### 2024.2.15

## 初版

## 使用中

电池的充放电曲线、工作温度、充放电速度、电气特性（工作电压、最大承载电流等）、需要开通的 RBK 功能（电池协议穿透）等。电池相关内容均可参照链接
## 如何选择一款合适的锂电池
## 锂电池基本概念
锂电池是一类由锂金属或锂合金为正/负极材料、使用非水电解质溶液的电池。
充电：当对电池进行充电时，电池的正极上有锂离子Li生成，生成的锂离子经过电解液运动到负极。
放电：Li通过隔膜从负极移动到正极，电子无法通过隔膜，只能通过外面电路的负极移动到正极。电子负电，电流方向就是正极到负极。
## 锂电电芯材料体系：
1710120241366-76a19d27-50df-4fa4-970c-6e14613a1592.png

### 移动机器人行业目前大多使用的是磷酸铁锂电池和三元锂电池
1710120241607-5558bf1a-8679-49ac-8367-40d77c325162.png

## PACK
1710120241364-6d431562-3d92-4c67-9226-714eef73df98.png

常见 PACK 电芯的串并联组合方式，15S5P表示15串5并，串联是增加电压，并联是增加容量；
### 以第一代模块电池为例，16S5并，单节电芯是4.6ah
电压通过单电芯串联：3.2×16=51.2V。
容量通过电芯并联：4.6Ah×5=23AH。
## 电池额定容量计算
### 额定容量 = 系统额定电压 × 系统额定放电容量
## 1C 充放电概念
C 即电芯额定容量。以 23Ah 电池系统为例，1C 的充电电流即 23A，也就是说充电一小时（往往会一小时多些）即可充满。
## 电池 BMS 相关概念
## BMS 概念
BMS 全称为电池管理系统。其主要功能为监测并管理所有与系统相连电芯的实时工作状态。主要功能包括：
## 实时监测电芯充放电状态，温度状态
## 过充电保护关断
## 过放电保护关断
## 过温保护关断
## 过流警告及短路保护
## 高精度 SOC
## 通讯功能
## BMS 主要功能
其主要起监测、状态估计以及电池之间的平衡。
监测功能主要包括电量的监测、温度监测、负载变化监测。
状态估计通常概括为 SOC（荷电状态）、SOH（健康状态）、SOE（能量状态）和SOP（功率状态）。
平衡功能通常指电芯间均衡技术，分被动和主动均衡两种。

## 主动均衡

## 被动均衡

## 优点

## 系统运行时间长，充电效率高

## 简单，成本低

## 缺点

## 器件多，增加成本

## 效率低，系统运行时间没有改进
## 电池的选型

验证电池组最大放电电流能否满足使用要求时，首先明确 1C 充电，2C放电概念，C 即电芯额定容量。以 48V 30Ah 电池系统为例，1C 的充电电流即 30A，也就是说充电一小时（往往会一小时多些）即可充满；2C 的放电电流即 60A，也就是额定工况下电池的供电电流为60A。

放电倍率：电池的放电率（也称为C-rate）指出了电池放电的能力。根据机器人的功率需求，最好能给出机器人使用场景的CAE功率图然后再选择一个能够提供足够电流的电池，电池必须能够在机器人的最大负载下稳定工作。
1710403861193-1b6dc5bc-1aab-456a-b0a7-ff7b7849bd3d.png

## 图1 功率图

循环寿命：锂电池的循环寿命表示电池可以经历多少充放电周期而不显著降低容量。选择拥有高循环寿命的电池能够减少更换频率，降低长期成本。
工作温度范围：根据机器人的工作环境，确保电池应该能在特定的温度范围内工作，确保电池在寒冷或炎热环境中都能保持最大性能，合力设计加热或者通风散热结构。
电压和容量：电池的电压（V）和容量（Ah）决定了其能提供的功率和能量存储。确保这些参数与机器人的能源需求相匹配，满足车体的续航要求。
充电时间：根据机器人的使用情况，选择充电时间合适的电池可能很重要，支持快速充电的电池可以提高机器人的运行时间和效率。
SJV-SW600 车型中运动执行部件的伺服电机工作电压均为48V，所以电池组也选用 48V 的工作电压。
## 电池的使用和保养
电池是一个比较金贵，有点危险的设备，怕冷，怕热，怕潮，怕机械挤压，怕不匹配的充电器
请勿将电池靠近火源或热源。 不要将电池沾湿，或将其浸泡或投进水中。
在使用、充电或储存过程中，若发现电池发热异常、变色、变形或其他反常情况，请停止使用电池。
电池在以下温度范围内使用。不要超出这个范围。
## 充电温度范围：0~45°C
## 放电温度范围：-20~60°C
## 储存电池温度不得高于 60°C
必须使用专用充电器（考虑电压和电流）。
电池必须以恒流恒压 (CC/CV) 模式充电。
充电电流必须控制在电池规格书规定值内。
放电电流必须控制在电池规格书指定范围内。放电截止电压不得低于 2.75V / 只。
若电池需要长期保存，电池应退出使用，存储在温度、湿度都较低的地方。
电池在充电、使用和储存时，请将其远离带有静电的物体材料。
## 电池日常补电养护要求
每次使用电池后，电压低于 46V 的都请在一周内给电池充电。充电需要充到 52V 以上。
闲置不使用的电池（不论是电池包单体还是放入AGV车但闲置未使用的），需要每三十天检查一次电压。电压低于 46V 的都要补电到 52V 以上。电池组电压低于 32V 的都是没有及时补电养护的，我司不予保修。
电池被水浸泡或喷淋后，请立即停止使用。需要我司检测后才可以使用。
电池受到外力撞击，铁箱外壳发生变形后，请立即停止使用。需要我司检查确认后才可以使用。
## 叉车电池的注意事项

## 电池状态

## 说明

## 目前参数

## 过充保护

使用强制充电模式满电后继续充电，会触发 BMS 过充保护，断开充电继电器；

### 3.8*8=30.4V

## 满电

充电时，电池会通过 SRC 和充电桩持续通讯，设置相关的充电电压和充电电流；电池会下达的最高充电电压是 28.8V，电池检测到满电是任何一节电池到 3.65V。检测到满电后电池电压达到安全的最高值，电量显示 100%；从满电到过充保护预计只要几十秒；

### 3.6*8=28.8V

## 正常

电量处于 0% 到 100% 范围内；

### 28.8V~22.4V

## 过放保护

电池持续放电低于过放电压，触发 BMS 过放保护；

### 2.8*8=22.4V

## 亏电

过放保护后因内部电路的负载还在持续放电，电量继续下跌；此时充电继电器还可受控闭合；

### 22.4V~20V

## 严重亏电

亏电后因内部电路的负载还在持续放电，电量继续下跌；此时充电继电器不可受控闭合；

## <20V
## 电池状态显示
1710120241398-374c9f9b-9e36-4303-b58b-5e0a50e38fa9.jpeg

## 电池常见故障及诊断

## 故障现象

## 原因分析

## 故障场景

## 解决方法

## 无法放电

## 电池运输开关未打开

## 电池或者小车刚运输到现场

## 打开运输开关

## 电池损坏，BMS 板故障

## 返修

## 过放亏电

## 长假前低电量后未及时补电

补电激活，
## 无法充电的需返修，均衡

## 无法充电

## 电池损坏，BMS 板故障

## 返修

## 无法通讯

## 电池损坏，BMS 板故障

## 返修

## 无法关机

## 电池损坏，BMS 板故障

## 返修

## 电量不变

## 电池损坏，BMS 板故障

## 可充电，可放电

## 返修

## 过流保护

## 整机启动电流过大

## 机械臂一上电就掉电

## 加预充电路来减小启动电流
## 让供应商将过流值合理调高

## 通讯问题：丢包，无法通讯，数据异常

## 线缆质量差导致通讯信号差

## 布线不符合 CAN 或者 485 规范
## 未使用双绞线
## 未打开终端电阻
## 线缆布线受到强干扰

## 按规范接线

## 电池总线信号不规范

### 电池 BMS 设计不规范，比如接口芯片用 3.3V 供电

断开终端电阻，
## 换电池

## 控制器或电池接口芯片受损

## 热插拔后，浪涌冲击

## 返修

### 电池电量一直显示 99%，并且没有电池报错信息

## 见前面是思维导图

检查机器人模型中是否选配电池，在未选配电池的情况下，电池电量常为 99%

### 电池电量显示 0%，并且没有电池报错信息

## 见前面是思维导图

检查机器人模型电池配置中通讯接口配置是否正确，通讯接口配错的情况下，电池电量常为 0%

## 电池电量显示不准

## 算法问题
## 电流传感器精度不够
## BMS 或电池内部其他部件耗电
## 电芯物理特性

电量计算的原理是 Q=I*t，I 是电流，t 是时间，而电流测量是有精度的，通常在几十 mA，因此电流较小时，电流误差是很大的，尤其是长时间静止不用时。

定期（一个月）对电池进行满充满放电校正，缩小累计误差值。满充满放的意义在于让电池达到满充电压或过放电压，从而做一次容量标定，此时 BMS 通过电压对电池容量直接映射。

## 电池屏幕显示电量与读取电量不一致

### 这两种电量的计算方式不同，不能用于直接比较

电池屏幕上的电量值是通过电压粗略计算得到的，用来离线快速查看电压，读取电量是通过 BMS 读取到的电量，后者电量更精确

## 电池屏幕电压仅做参考

## 未充电时出现充电标识

充电状态由电流决定，当电池输出电流大于 -0.1A 时，系统判断该时刻电池为充电状态

## 电机急刹

## 使用场景减少急刹

### 电池温度显示不正确，并且没有电池报错信息

## 见前面的思维导图

## 检查电池模型 brand 配置是否正确

## 电池模型配置后机器人反复重启

## 见前面的思维导图

## 检查电池模型 brand 配置是否正确
## 电池穿透
对于尚未适配的电池，支持通过通用脚本电池穿透的方式实现适配使用。可参考控制器电池脚本适配说明。
需要提供电池通讯协议，编写通用穿透脚本。若有编程基础可学习穿透教程自行处理，若无相关经验可咨询交付工程师。
