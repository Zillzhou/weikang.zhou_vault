# 雷赛驱动器与配置 SOP

## 雷赛驱动器与配置 SOP

## 版本

## 更新日期

## 更新说明

## 文档状态

## 维护责任人

## V1.0

### 2024.3.15

## 初版

## 使用中

## V1.1

### 2024.4.9

## 修改编号

## 使用中

## 当前车型配置示例
此示例选择选用雷赛低压伺服canopen通讯驱动器作为顶升电机，其详细使用文档参照 雷赛LD5驱动器 张亚男
## 驱动器本身参数配置
参照文档 雷赛LD5驱动器参数配置 第四章节进行配置软件下载及安装使用。
1710837568139-59bff9a1-d2f2-409e-b931-9a3a19b50e8a.png 

## 调试操作步骤为：
1710837608965-3530c12f-8563-4f47-b29f-4071f09dbf76.png

## 模型文件配置
模型文件总览：通过模型文件——MOTOR——新增motor(为了便于区分，修改电机名称为lift)，即可在右侧属性窗口配置电机及驱动器相关参数。
1710838391680-d42c6ae1-338e-4818-b188-deacdc2549ed.png

## 编码器型号及电机参数

## 图片.png

配置encoderLine增量式编码器填：2500绝对值编码器填：16384
1710838475453-d958cf85-cf31-4fdd-bf24-dc0ad713d16c.png

## 电机电流系数配置
currentFactor电机电流系数配置方法，按照实际计算配置，此处 currentFactor配 1
1710838542881-45b0043e-bf3c-4aaf-95a3-21eb36de8d36.png

## 型号和端口配置
## 1：功能：顶升linear
## 图片.png

减速比、编码器线数、电机最大转速、驱动器品牌需要根据选用的实际填写。
reductionRatio:减速比 顶升车需要测算和参数试探。
减速比一般是由载荷的特性和运动速度决定的。一般计算公式为：减速比=输出轴转速/输入轴转速，其中输出轴转速根据具体要求设定，输入轴转速则根据电机的额定转速来选择。通常会根据需求和具体情况调整减速比。
顶升电机减速比确认比较特殊，需要在大约测算后，手动微调不断尝试最合适的参数。
1710902393529-bb8f343e-5f31-47da-9bf0-e07727c7590f.png

## 2：外置编码器配置（若有）
## 图片.png

## 参数名称

## 单位

## 默认值

## 最小值

## 最大值

## 支持版本

## outEncoderID

## /

## /

## /

## /

## 释义: 外置拉线编码器的can ID
## 说明: 请根据实际情况进行选择

## utEncoderRatio

## 释义: 外置拉线编码器减速比
说明: 使用外置拉线编码器的时候，核算出来的减速比，请根据实际情况进行选择 

## outEncoderLine

## 释义: 外置拉线编码器线数
说明: 使用外置拉线编码器的时候，核算出来的编码器线数，请根据实际情况进行选择 

## outEncoderPort

## port1释义: CAN的通信端口1
## port2释义: CAN的通信端口2
## 说明: 请根据实际情况进行选择

### 3：电机型号LeiSai-LD5-CANOpen

## 上、下限位、零位的 DI 配置
顶升模组中如果有上、下限位、零位传感器，需要启用对应传感器的 DI，如下图所示。
### 企业微信截图_17127139923768.png

## 功能验证
注意：电机控制验证前之前必须先完成激光配置、电机配置动作。
1）在整车验证之前再检查一遍接线确保接线正确。
2）让车体着地，在任务链中，新建顶升动作，设置顶升到0.1，发送此顶升命令，车体正常应顶升到位，因顶升最高高度设置为0.04m（可修改，但不可超过最高机械限位），因此会顶升到最高度0.04m的高度。如果不正常，请检查驱动器配置；
1711005658596-2ec7ac07-d353-4d39-9558-388a35fb2983.png

## 3）验证过程

## 顶升、随动.mp4
