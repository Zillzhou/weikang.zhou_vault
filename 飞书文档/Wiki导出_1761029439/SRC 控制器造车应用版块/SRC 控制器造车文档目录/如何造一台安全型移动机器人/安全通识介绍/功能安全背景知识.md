# 功能安全背景知识

## 功能安全背景知识

## 版本

## 更新日期

## 更新说明

## 文档状态

## 维护责任人

## V1.0

### 2024.11.29

## 文档从语雀迁移至飞书

## 使用中

## 什么是功能安全
## 名词解释
### 危险(hazard)：潜在伤害身体或损害健康的源
### 风险(Risk)：出现伤害的概率及该伤害严重性的组合
### 安全(Safety)：不存在不可接受的风险
### 企业微信截图_17310605713697.png

功能安全都是围绕人员安全考虑的，功能安全设计前需要对风险进行评估，风险评估的流程如下：
## 风险识别：识别相应的危险
## 风险评估：确定不同的危险的等级
### 消除或减小风险：将风险降低到可接受的范围内
## 安全功能和功能安全
" 安全功能 "和" 功能安全 "这两个术语通常出现在工业控制系统、汽车、航空航天和其他需要高度可靠的安全关键系统的环境中。它们听起来很相似，但是指的是相关但不同的概念。

### 安全功能（Safety Feature）:
这一术语用来指代那些设计用来提供防护和避免危险事故发生的特定特性或组件。在汽车行业中，安全功能可能包括空气囊、ABS刹车系统、稳定性控制系统等。在工业环境中，安全功能可能包括紧急停止按钮、防爆阀门、机械屏障等。这些功能是系统的一部分，用于直接进行安全相关的干预，以保护人员、设备和环境。

### 功能安全（Functional Safety）:
功能安全是指一套有关电子系统正确执行必要功能的安全方面的属性，特别是当出现故障时维持这些功能的能力。它涉及整个系统的生命周期，包括设计、实施、运行和维护等。功能安全确保系统或设备在正常或异常操作条件下均不能导致不可接受的风险。功能安全通常是通过一系列的工程措施与管理流程实现的，是可量化的方法论，著名的相关国际标准包括IEC 61508和ISO 26262（针对汽车行业的功能安全）。

简言之， 安全功能 是一个系统为了达到安全目标而实现的具体特性或组件，而 功能安全 则是指一整套保障安全功能按照旨在减少风险到可接受水平的方式正确执行的过程和属性。这两者共同作用，提升系统的整体安全性能。 
## 安全标准类别
## A类：基本的安全标准
## 设计和建造安全机器需要遵从的基本原理
## B类：通用的安全标准
## 定义安全相关参数的标准值
## B1：安全特征
## B2：安全装置
## C类：专用的安全标准
### 考虑经验和技术发展水平怎么设计和建造专用的机器
1707183838981-ea5ea2bf-ac5c-4e30-b3a8-285f909ec63d.png

我们机器人进入欧洲市场通常要做的认证有CE-MD、CE-EMC、CE-RED，其中CE-MD是机械指令，涉及各种机械安全要求，其中 EN ISO 3691-4、EN 1175:2020都是C类标准，EN ISO 3691-4偏重无人驾驶车辆，EN 1175:2020偏重有人驾驶工业车辆

## 欧洲市场

## CE-MD

EN ISO 3691-4:2020;EN ISO 12100:2020;EN 1175:2020;EN 60204-1:2018

## 安全要求

## CE-EMC

EN 61000-6-2:2025;EN 61000-6-4:2007+2011;EN 13849:2015+2019

## 电磁干扰要求

## CE-RED

EN 62368-1:2014；ENI EC62311:2020；EN301 489-1/17；EN300328；EN301 893；EN300 440

## 无线设备要求

## Tips：
为什么功能安全在机械指令里？是因为第一次工业革命是机器革命，大量的蒸汽机被使用到工业生产中，欧洲最大的认证机构TUV就是从蒸汽锅炉协会发展而来，所以功能安全一开始就是蒸汽机械安全被涵盖在了机械指令中。
## 功能安全的等级有哪些
在可预期条件下，用于规定控制系统有关安全部件执行安全功能的等级。
ISO 3691-4 主要参考 ISO 13849 的。
EN ISO13849-1 是一个为机器安全提供指导的标准，其前身是 EN954-1.
EN954-1 “机械安全--控制系统相关安全的部件”是由欧洲标准委员会（CEN)制定的欧洲标准，最早于1992年11月公布。EN954-1将危险等级分为CAT.B、CAT.1、CAT.2、CAT.3、CAT.4五个目录等级。目录B是最低，目录4为最高的危险等级。
ISO 13849 用性能等级PL来定义安全等级，有PLa/b/c/d/e五个等级。ISO 13849发展之初主要针对机械设备，后面逐渐增加了电子及软件的内容。但总体对软件的评估还是偏弱。机器人的很多行为功能都表现为机械动作，所以都要符合ISO 13849。
## image.png

### ISO 13849 中定义的安全等级分类
## image.png

IEC 61508用安全完整性等级SIL来定义安全等级，有SIL1/2/3/4四个等级（等级4要求太高，目前为止还没有电子设备能通过这个标准要求）。IEC 61508发展之初就针对包含大量软件的电子设备。所以控制器是按IEC 61508标准来执行开发的。一般通过了IEC 61508标准的电子设备要做ISO 13849认证就比较简单了。
ISO 13849 性能等级分类和 IEC 61508 的安全完整性等级对应关系如下表
## image.png

性能水平PL由安全结构，元器件可靠性，诊断覆盖度，共因失效因素，安全管理过程五个要素决定
1707190261860-2cf22e1a-99a4-4296-8d45-5a85c4af5ea3.png

ISO13849-1安全性能等级PL判定对定量分析参数的要求

### 功能安全的标准化示例（sick/pilz 的功能安全实现）

1707185439364-a37eac99-05b0-457c-8159-420707514c01.png

## AMR常见安全功能
### AMR的常见安全功能大都来自于电机控制器的安全功能，如下：
SS1（Safe Stop 1）：安全停止1（先减速，后激活STO）
SS1 可以分 SS1-t （带时间控制的安全停止1）和 SS1-r （带减速斜坡监控的安全停止1）
安全子功能 SS1-t 激活时，电机电气停止。在规定的安全相关时间后，将触发安全子功能 STO。
安全子功能 SS1-r 激活时，电机电气停止。减速过程将得到监控。如果超过了受监控的减速范围或达到停机状态，将触发安全子功能 STO。
### 企业微信截图_17285236857735.png

SS2（Safe Stop 2）：安全停止2（保持电源，激活SOS）
安全子功能 SS2 激活时，电机电气停止。减速过程将得到监控。停止后必须对该位置进行安全监控（SOS 功能符合 EN 61800‑5‑2）。停止时超过减速范围或在停机状态下移动会触发安全子功能 STO。必须在触发安全子功能 STO 后通过机械制动等方式确保停机。
### 企业微信截图_17285238463468.png

SOS（Safe Operating Stop）：安全运行停止（电机位置保持功能）
安全子功能 SOS 可防止电机与停止位置的偏差超过规定值。驱动装置馈电，以将电机保持在适当位置。超过规定值会触发安全子功能 SOS，同时引发故障反应 (STO)。

### 企业微信截图_1728523519389.png

### STO（Safe Torque Off）：扭矩安全关断
STO 来自于伺服系统，是一种控制电机停止运行的机制。它能安全地关闭驱动器的输出，电机按惯性停止。广泛应用在输送系统、机器人等行业应用。是整个安全系统的一部分。
### 企业微信截图_17285235882331.png

SLS（Safe Limited Speed）：安全速度限制
安全子功能 SLS 可防止驱动装置超过规定的速度。超过允许的速度会触发安全子功能 SLS，同时引发故障反应（通常是 SS1）。
### 企业微信截图_17285380748399.png

SSM（Safe Speed Monitor）：安全速度监控
安全子功能 SSM 监控驱动装置是否超过规定的速度。如果超过了允许的速度，将发出信号。
### 企业微信截图_17285396855392.png

### SDI（Safe Direction）：安全方向监控
## SDI 安全功能可以监控定义的运动方向

## image.png

SBC（Safe Brake Control）：安全刹车控制
安全抱闸控制（SBC）可以发送一个安全输出信号来控制一个抱闸。
### 企业微信截图_17285399569954.png

安全避障：是在 AMR 的使用场景中还有一个非常重要的安全功能，这个功能依赖安全激光、安全编码器和安全接近开关等多种传感器，是 AMR 特有的一个安全功能。安全避障发生会触发 SS1 或者 SS2.
参考文档：安全功能概述 | B& R Industrial Automation

## 功能安全型移动机器人的需求是怎样的？
### 什么样的客户或市场需要功能安全型的移动机器人？
### 欧洲市场：功能安全的原生需求就是来自于欧洲
北美市场：北美市场对功能安全的需求没有那么明确，但可以接受欧洲的要求
国内欧美大公司：比如博世，亿滋，因为企业内部的统一要求，虽然车在国内用，但安全标准沿用总部要求。

### 安全型移动机器人的功能安全典型需求是怎样的？
### AGV safety table-cus
功能安全的需求一般会按照ISO 3691-4标准一条条的提出，如上述文件，也可以参考认证及认证测试。
ISO 3691-4是自主移动机器人安全的最低要求，有些公司根据自身实际场景的需求会进一步拔高某些子项的安全要求。

### 为什么SRC-3000FS可以造功能安全型机器人
SRC-3000FS获得的认证（SRC-3000FS相当于内置了功能安全PLC）
1708422230230-59f52b9c-d88a-4ebc-9e68-cb6e32682501.png

## SRC-3000FS满足的标准：
按照 IEC61508 标准开发，满足 SIL2 安全等级要求
### 满足 IEC62061 SIL2 安全等级要求
### 满足 ISO13849-1 Cat3 PLd 安全等级要求
## SRC-3000FS具有的安全功能
1708422468234-54ddd47a-936b-4996-bec1-cc1ca4336a71.png

## SRC-3000FS的安全技术手段
1708422515997-99bb9311-2cb2-4d7b-b3bd-8b8c09ce6479.png

## SRC-3000FS典型应用
1708422590361-5178879d-e93c-4089-a017-fd111dcb8cb5.png

1708422599404-6e50ad2b-ef0f-4a9e-8263-0dc9d0f689ca.png

SRC-3000FS外设选型和SRC-2000外设选型的区别
1708423274187-1b3accd8-1f9b-40f0-b581-5609865f905c.png
