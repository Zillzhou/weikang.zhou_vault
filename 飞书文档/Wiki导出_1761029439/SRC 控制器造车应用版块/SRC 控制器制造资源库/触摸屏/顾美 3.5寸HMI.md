# 顾美 3.5寸HMI

## 顾美 3.5寸HMI

## 版本

## 更新日期

## 更新说明

## 文档状态

## 维护责任人

## V1.0

### 2024.4.30
### 2024.12.18

http://www.coolmay.com/ProductDetail.aspx?ColumnId=98&ArticleId=653&Language=34&Terminal=41这个链接已失效，删除

## 使用中

## 一、适用范围

## 型号

## 资料

## MT6037H-W

### 二、调试资源

## CoolMayHMI.rar

AMB-HMI固件及烧写工具-20210830001.zip
### 三、烧写步骤
## （注：此处烧写是指界面程序烧写。）
## 1.USB方式烧写界面程序（不推荐）
注：触摸屏自带的GUIRun的版本必须不低于编辑此界面程序的界面编辑软件的版本号。如果不符合条件，跳转到【2. 升级GUIRun版本】。建议使用网口方式烧写，如果GUIRun版本不匹配，在烧写之前会先升级GUIRun的版本。
## 1.1 将目标界面程序文件（AMB_GUI_xxxxxxxxxxx.hw6）拷贝到事先准备好的U盘根目录下。
## 1.2 将此U盘插到触摸屏后面的USB接口上，然后给屏幕上电启动，然后触摸屏就会跳转到【USB设定画面】，如下图所示。

1662708876076-88e15001-d121-4e3d-8bc4-6f79127ff69b.png

## 说明：
①GUIRun当前版本，其版本号必须不低于编译界面程序的界面编辑软件版本。
②屏幕底层固件的版本号。5.78及以上的版本不会出现长时间断线，必须重新上电开机才能重新尝试连接的问题。且在刚切换到此界面一段时间后（2~3秒），此处会显示“剩余空间”，如图
1662708924952-587db397-6b46-48fd-8eeb-1b6c4162aa26.png

③启动更新界面程序功能。
④选择目标界面程序文件。
## 1.3 如上图中①所示，GUIRun的版本过低，需要先升级GUIRun，跳转到【2、升级GUIRun版本】。
## 1.4 点击【更新 *.hw6】，就会跳转到【超级密码登录界面】，输入“12345678”，点击【Yes(√)】，然后又会返回到【USB设定画面】。
## 1.5 此时上图中的③就会变为可操作区域，在文件列表中选择需要的界面程序文件，然后双击该文件，点击【是(Y)】即可。
## 1.6 烧写完成后，触摸屏会重启，并显示新的界面。
### 2.升级GUIRun版本
## 注：
a、GUIRun的版本只能通过连接网线，用PC上的程序升级。
b、需要升级GUIRun的触摸屏的IP必须为192.168.10.231。
### 2.1 修改PC端以太网的网段，使其与192.168.10.231在同一网段。
2.2 运行GIUpdate.exe，然后输入触摸屏IP为192.168.10.231，右键单击【下载】，选择【选择目标文件(H)】，左键单击【文件名】右侧的按钮，选择一个可用的目标界面程序文件“GUIBuild.hw6”，然后再左键单击【下载】，就开始升级GUIRun了。
1662708949299-cc792638-1564-40be-a174-e71ab39b02f2.png

### 2.3 升级成功后会有如下提示。
1662708971679-7ef39a8c-ff08-44b8-9076-04b2a0fdcb6a.png

### 3.修改触摸屏IP
### 3.1 确认触摸屏的IP地址。
### 3.2 修改以太网的网段，使其与上一步中输入的IP在同一网段。
3.3 运行GIUpdate.exe，输入上一步确认的IP地址，此处以192.168.10.231为例。 选用ConfigIP中的GUIBuild.hw6 ，然后点击【下载】
1662708995894-8cc181fb-5bdc-46a0-ae80-54854efbef32.png

1662709049907-74177089-bbfc-4aed-ba0e-0f6cd6eaeb51.png

3.4 烧写成功后，触摸屏会重启，并显示如下图所示的界面；点击【网络配置】，我们需要修改IP为 192.168.192.21 ，修改网关为 192.168.192. 1 ；点击【返回】。

1662709072521-eb0fbbbf-82fc-458b-bc64-cf6f4cb8a683.png

### 3.5 修改完成之后，点击【功能】，点击【以太网/CAN配置】界面的返回，点击【是(Y)】，触摸屏就会保存当前配置并重启。
### 3.6 重启之后可点击【网络配置】查看触摸屏当前的IP。
### 4.网口方式烧写界面程序（推荐使用）
4.1 确认触摸屏的IP地址为192.168.192.21。ping 192.168.192.21是否成功，如果失败，再尝试ping 192.168.10.231，如果这次成功，则跳转到【3、修改触摸屏IP】。
### 4.2 修改以太网的网段，使其与上一步中确认的IP在同一网段。
4.3 运行GIUpdate.exe，然后输入触摸屏IP为192.168.192.21，右键单击【下载】，选择【选择目标文件(H)】，左键单击【文件名】右侧的按钮，选择目标路径下的界面程序文件"GUIBuild.hw6" （文件名不可修改） ，然后再左键单击【下载】，就开始烧写界面程序了。
1662709104916-5ab4b701-45d2-4ece-b5ef-7da3bee2e5eb.png

### 4.4 烧写完成之后，触摸屏重启就会显示新的界面。
### 5.网口方式和USB方式烧写界面程序的对比
烧写界面程序的两种方式的示意图如下图所示。
1662709132188-f1960f98-5295-4d8d-b56a-5cbe281dbd8d.png

编写界面程序时，需要用到界面编辑软件（CoolMayHMI），而烧写工具（GIUpdate.exe）是界面编辑软件的组件，两者的版本号一致通过。
在烧写界面程序时，必须保证编辑界面程序的界面编辑软件（CoolMayHMI）的版本，跟屏幕的GUIRun的版本号一致（可在U盘设定画面上获取）。如果两者的版本号不一致，确实也能烧写成功，但是重启之后屏幕会故障，并一直卡在【致命错误】的界面。
相比于USB方式，用网口方式烧写界面程序之前，烧写工具（GIUpdate.exe）会先检测屏幕的烧写界面的驱动（GUIRun）的版本是否跟自己的版本一致，如果GUIRun的版本低于GIUpdate的版本，GIUpdate会先升级GUIRun的版，然后才能烧写界面程序。而USB方式烧写界面程序时，只是烧写程序，没有版本检测这一步。
