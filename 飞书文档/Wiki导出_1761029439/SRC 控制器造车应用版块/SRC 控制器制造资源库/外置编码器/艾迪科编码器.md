# 艾迪科编码器

## 艾迪科编码器

## 版本

## 更新日期

## 更新说明

## 文档状态

## 维护责任人

## V1.0

### 2024.4.30

## 语雀迁移至飞书

## 使用中

## 一、多圈说明书

## can标准.pdf

### 二、适用范围

### 本文档针对艾迪克外置编码器的配置方法进行说明
### 三、调试资源

## 调试工具：

### USB_CAN+TOOLSetup(V9.12).zip

### 四、接线方法

（1）   按照拉线编码器的接线定义，将拉线编码器的 canH 、 canL 别接到 can 盒子的 canH 、 canL 上面

1677579584450-168e101e-2de6-4edf-8fb6-cb64c4923a88.png

（2）   根据接线定义，给外置编码器上电，打开 can 盒子的上位机软件，默认波特率为500K。
### 五、拉线编码器参数配置

（1）   编码器默认的波特率是500K、编码器默认的地址是0x01，终端电阻默认打开

### （2）   在can上位机中看到返回值信息：

1677579600812-6c245156-b6ed-4988-99b7-a9416ee2c1bc.png

（3）   发送帧ID：600+nodeID，修改外置编码器的波特率为125K( 确认拉线编码器接在哪一条can总线上面，找到这个总线传输的波特率是多少，再决定是否修改编码器的波特率，例如：总线上面的波特率的500k，则直接进行下一步，跳过设置波特率的步骤 ）

1677579619481-a63f8cde-fc30-477f-9c50-f5174e45d652.png 

1677579633356-51ca135d-472c-4090-8ea6-dc078d0d8767.png

发送数据：帧ID 0x601(00 00 06 01)    2F 00 30 00 04 00 00 00

返回数据：帧ID 0x0581         60 00 30 00 00 00 00 00
1677579656886-b47ce7d0-bd61-4ace-8719-44031885cb6d.png

（4）   修改外置编码器的地址为 05（ 由于外置编码器单独接在can2上，与can1的ID不冲突，所以可以根据实际情况进行相应ID配置 ）

1677579675253-855f37a9-94ed-49ae-b2f6-b1ec40ea13c2.png

发送数据：帧ID 0x601(00 00 06 01)    2F 01 30 00 05 00 00 00

返回数据：帧ID 0x0581         60 01 30 00 00 00 00 00

## 例如下图：
1677579700454-dd797c43-0632-4ace-8f72-fa7050228746.png

## （5）   保存参数配置

发送数据：帧ID 0x601(00 00 06 01)    23 10 10 01 73 61 76 65

返回数据：帧ID 0x0581          60 10 10 01 00 00 00 00
1677579727934-0a97fd75-f247-4dba-8abd-968b878f708e.png

（6）   给外置编码器断电，重新上电，此时通过波特率125k打开can模块

（7） 此时 nodeID 已经改成05 ，发送的帧ID还是600+nodeID
### 修改传感器频率，改成10ms上传一帧数据
1677579747895-d994dc7e-1228-4927-83fa-a244e1f79105.png

发送数据：帧ID 0x605(00 00 06 05)    2B 00 18 05 0A 00 00 00

返回数据：帧ID 0x0585          60 00 18 05 00 00 00 00
1677579767641-b89ee222-38f7-4581-993b-78474996319c.png

## （8） 保存参数配置

发送数据：帧ID 0x605(00 00 06 05)    23 10 10 01 73 61 76 65

返回数据：帧ID 0x0585         60 10 10 01 00 00 00 00
1677579783853-7b965f26-1466-4247-8f14-001386e0333d.png

## （9） 激活外置编码器

发送数据：帧ID 0x000(00 00 00 00)    01 05

### 检查接收到的数据： 0x185 的数据一直更新
1677579801623-850feab9-2458-47ec-90fd-805978daeab9.png

（10） 将外置编码器断电，将外置编码器的can通讯线接到SRC的can2上面，配置好模型文件

### 六、模型文件配置

### 七、常见问题
艾迪科外置编码器 默认的最大值 0x01 FF FF FF，如果想要修改成 0x03 FF FF FF，需要在（7）之后发送
600+nodeID 23 01 60 00 00 40 00 00
600+nodeID 23 02 06 00 00 00 00 04
