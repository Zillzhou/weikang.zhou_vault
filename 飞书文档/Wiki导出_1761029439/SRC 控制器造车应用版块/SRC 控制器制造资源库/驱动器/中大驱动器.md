# 中大驱动器

## 中大驱动器

## 版本

## 更新日期

## 更新说明

## 文档状态

## 维护责任人

## V1.0

### 2024.4.29

## 语雀迁移至飞书

## 使用中

## 一、适用范围
本文适用于中大驱动器调试与配置。
## 二 、调试资源
## 驱动器手册：

## 600W顶升伺服驱动一体机.pdf

## 伺服驱动器用户手册.pdf

### 技术支持文档—can控制运行示例.pdf
## 调试软件：

### DriverStudio-S20-202231.4.zip
### 三、接线与改造
驱动器需要与车体进行可靠固定，检查驱动器与对应电机的三相线、编码器线路连接正确
当机器人安装有多个驱动器(数量 ≥2)时，所有从站的 CAN_L , CAN_H 引脚直接相连即可，采用串联方式接线
1677662286030-33ee0c06-b8e0-4d00-8769-9b903b08defa.png

将 Driver4 最终引出的 can_H 压入一个德驰插筒连接器，同理将 can_L 压入一个德驰插筒连接器，接入德驰 DT06-2S 公头。最后与 T35 中的 32,33 号线 （can1） 相连；(注意：各型号驱动器引脚定义详见附录一)
### 四、驱动器配置
## 软件概述
DriverStudio 是一个通用上位机调试软件，本章介绍如何用该上位机软件调试和配置低压伺服驱动器。

### 4.1.0 接线
### 正确接线并连接上位机 （电源线和信号定义如图）
1678430938290-db28a012-3a6f-4bc3-b051-ca9316f971b2.png

### 4.1.1 连接
双击 DriverStudio 图标，在产品选择里选择“低压伺服”，然后点击“确定”，弹出如下界面
1678430642830-3bf92db2-36af-45d3-b47c-b74545df477f.png

从站地址：如果拨码开关全部为 OFF 的情况下，轴地址由参数 0x2700 决定，出厂默认值为 1，如果拨码开关不 为 OFF，由拨码开关决定，详见拨码开关说明。
波特率：由参数 0x2701 决定，出厂默认为 115200
## 校验：None
驱动器上电后，选择通讯线对应的串口号，点击“连接设备”，如果不知道从站地址，点击“搜索设备”，搜 索到从站地址后，再连接设备。
### 4.1.2修改参数
在基本控制参数界面中，修改 0x2106 指令来源为 2：canopen 模式，点击保存参数
1678431007479-c8dc12f9-9b5d-4284-befb-43b5a3af0dd9.png

## 修改波特率与canid
1678431147661-6c4f30b7-d992-4685-b9e5-6fc9dc0a8b4c.png

### 五、机器人模型配置说明

根据电机及减速实际情况配置电机参数，品牌选择ZhongDa-CANOpen

### 注：这些参数需根据驱动器及选用电机及减速机的实际进行填写
1678433309840-e8a40fde-0417-4d01-a3a6-f4f57f162edd.png

1678433369179-c6966364-b90f-4bdd-96cc-e611ea26f1b4.png

注：减速比、编码器线数、电机最大转速、驱动器品牌需要根据选用的实际填写。

### 六、报错信息
## 故障/警告一览表
## 故障可分为四类：
## 1、不可复位的 No.1 故障；与硬件相关，需再次上电才能复位，如上电也不能复位，请联系厂家技术人员。
### 2、可复位的 No.1 故障；比较严重的故障，排除原因后可在线复位。
### 3、可复位的 No.2 故障；一般故障，排除原因后可在线复位。
### 4、可复位的警告；不停机，继续运行，可在线复位。
其中 No.1、No.2 故障发生时的停机方式，可根据 0x268E、0x605E 选为自由停机、减速停机、快速停机或者动态制动停机
## 1)第一类(No.1)不可复位故障：
1678433731107-2ddc6f51-49c5-4bf8-b2d6-940e78d3df5b.png

## 2)第一类(No.1)可复位故障：
1678433758249-5dabf8b6-2ce4-46d3-b04c-6d3066632b0d.png

1678440306937-8e0d910c-58bc-419d-91bc-76b290661486.png

## 3)第二类(No.2)可复位故障：
1678440328952-617a5152-4523-4986-8224-bcf392046136.png

## 4)警告，可复位：
1678440346256-7c8ec0db-7e81-4ad1-8564-23132b133013.png

### 七、附录

### 7.1 USB CAN 卡使用方法

## 1.软件安装—安装软件 USB_CAN Tool（软件及使用手册请联系 CAN卡 厂商售后）.

2.硬件连接—准备 USB CAN 卡和连接线，将连接线 CAN_H 接到 SRC2000 外接线束 TE35 33 号线上，将连接线 CAN_L 接到 SRC2000 外接线束 TE35 32 号线上。如图 7.1.1 所示：

1677574270836-cbb75a18-c927-4edc-a794-9f2aadd8e7c4.png

## 图 7.1.1

3.打开 USB CAN tool ,选择【设备操作（O）】【启动设备（S）】,确认 CAN 参数，【波特率】为 250Kbps,选择【CAN通道号】为通道1,点击【确认】。如图 7.1.2 所示：

1677574286853-99a8221e-dca8-4191-aa75-ce3412f1762f.png

## 图 7.1.2

### 4.选择【显示（V）】，取消选择【合并相同 ID 数据(M)】，CAN 报文如图 7.1.3 所示。

1677574309180-92e8d023-530b-484d-97ff-f746884afbcc.png 

### 5. 下发指令，即可控制电机。示例：
### 2f 60 60 00 03 00 00 00
### {选择 0x6060 控制模式为 3 速度模式}
### 23 ff 60 00 e8 03 00 00
## {设置 0x60ff 目标速度}
### 2b 0a 27 00 ff ff 00 00
### {设置 0x270a 指令匀速时间为 65535ms}
### 2b 40 60 00 0f 00 00 00
### {设置 0x6040 控制字为 0f 使能}（
### 00 为掉使能。can 模式下，使能电机即运行）
