# 步科直流伺服驱动器

## 步科直流伺服驱动器

## 版本

## 更新日期

## 更新说明

## 文档状态

## 维护责任人

## V1.0

### 2024.4.29

## 语雀迁移至飞书

## 停止使用

## V1.1

### 2024.6.24

## 修改排版，避免工程师漏步骤

## 使用中

## 适用范围
本文适用于步科FD、OD及MD系列低压私服驱动器的调试与配置。
## 针对读者：机器人交付工程师，测试工程师
## 调试资源

## 驱动器手册：

注 :在使用驱动器前请仔细阅读驱动器的使用手册，尤其是各种接插件定义，使用注意事项等。

## Kinco FD系列

## FD系列低压伺服驱动器使用手册

## Kinco OD系列

## OD系列低压驱动器简易说明

## Kinco MD系列

## MD系列集成式伺服电机使用手册

调试软件： KincoServoPlus SetupV1.1.6(build211117)

以上链接有可能因为步科网站的更新而变化，如有这种情况，请直接访问步科官网的主页。
步科官网链接： 伺服 - 上海步科自动化股份有限公司_Kinco步科
## 电气接线
### 驱动器的接线方法请参考 控制器和驱动器接线方法
这里以 FD134S 为例展示一下步科驱动器的各种接口的布局和定义，其他型号请查看驱动器手册。
## 步科驱动器命名规则及外观图
1708836287130-d4d32fc2-6dc7-4df0-a785-e90bdbbff13b.png

## 图3.1.1
1708836747347-742284ea-ca0d-4dbf-ba52-8949a110be7b.png

## 图3.1.2
## 状态指示灯说明
1708836931079-342a1b67-275a-46fd-b688-6c0dc75eb0eb.png

## 表3.1.1
## 拨码开关说明

注 : 驱动器CAN ID可以通过驱动器上的拨码开关来设置，设置方式请参考产品上的丝印。
1708837040697-a78616d5-bc2f-441a-96c4-8bab62d8b9e2.png

## 表3.1.2
1708837171439-39662f7a-671a-47a6-aad6-48a167ffb4cb.png

## 图3.1.3

## 注 :
驱动器 FD134S/FD144S 的供电电源为 24~70VDC,FD164S 的供电电源为 24~60VDC。
若驱动器型号为 FD1x4S-□B 可直接驱动抱闸装置，X3 端口的 6 脚与 11 脚分别为 BR+ 和 BR-；若驱动器型号为 FD1x4-□A 则不可驱动抱闸装置，X3 端口的 6 脚与 11 脚分别 为 OUT2+和 IN4。
伺服驱动器输入电源属于二次侧供电，驱动器内部并未使用变压器等电源隔离。为了防 止伺服驱动器产生交叉触电事故，请在输入电源上使用保险丝产品。
在使用电池/超级电容等供电产品，如需在驱动器供电电源上外加缓冲电阻，缓冲电阻阻值应不大于 5R，缓冲上升时间不大于1S
## 步科通讯总线定义
## X1：CAN通讯接口定义
## 用于和控制器通讯
1708838954745-874e6384-0aad-4a54-9921-ebce7daee687.png

## 图3.2.1
1708838997231-a7a2d152-e737-43f6-8a89-4f2eb65118db.png

## 表3.2.1

## 注 :
## 1、所有从站的 CAN_L、CAN_H 脚直接相接即可，采用串连的方式接线，不能采用星型 连接方式；
### 2、 主站端 和 最后一个从站端 需要接 120 欧姆的终端电阻，驱动器内置，可通过拨码开关启用；
### 3、通讯电缆请采用屏蔽双绞线，并做好接地处理（短距离通讯时 3 脚地线可以不接，但是长距离、高波特率通讯时建议把 3 脚接地；

## X2：RS232调试接口定义
### 用于接电脑上位机软件对驱动器进行配置及固件升级
1708754530077-a1356178-3238-4412-8d66-75f42526f8a6.png

## 表3.2.2

## 输入输出接口定义
## FD1X4S驱动器X3接口定义
1677663251424-4816a26c-aa92-48de-b9ea-3e26fe76b1de.png

## 表3.3.1
### FD1X4S-B-000 驱动器控制接线图
1708838022656-2ff41427-c1ae-4dfb-aff0-20e964947d2a.png

## 图3.3.2
## 驱动器抱闸如何接线
如果电机带有抱闸，驱动器也必须支持抱闸，请根据驱动器手册的抱闸接法，如图3.1.3，更多请在驱动器手册查阅。
## 急停接线
Kinco 驱动器如图所示，将所有驱动器的 COMI 并联后接入 DCDC 24V+ 输出；将所有驱动器 IN1 并联后连接 SRC2000 急停输出 1+（TE354 号线），将另一根急停输出 1-（TE355 号线）连接 DCDC 24V- 输出
## image.png

## 图3.5.1
## image.png

## 图3.5.2
## 驱动器配置
## 步骤一：调试软件连接驱动器 ★
驱动器的配置需要使用对应的调试软件，请按 调试资源 提供的链接下载安装。
请按图3.3用对应的调试线缆连接驱动器和笔记本电脑。

注 :本配置方法适用所有CANopen协议的步科伺服驱动器，如果碰到一拖二的驱动器，则需要分别接两个调试接口配置。
## 【连接驱动器】
Kincoservo+ 快捷方式打开；
选择“通信 C”“通信设置”打开通信设置；
点击“刷新”更新通讯串口参数；
## 点击“打开”连接驱动器
1677662365584-042fad46-ad2f-4a9f-890b-497d4355e385.png

## 图4.1.1
## 【语言设置】
软件语言可以设置为英文或中文，通过菜单栏“工具”->“语言切换”进行设置。

## 注 :
如果修改了默认的波特率和通讯ID，需要保存重启驱动器后才能生效。
使用 115200 波特率连接上位机软件出现通讯不稳定时，可以降低通讯波特率重新连接 软件调试。
### 步骤二：配置电机参数，驱动器参数初始化 ★★
## 【设置电机型号】
选择“电机 M”--“电机配置”打开电机配置，
### 在“电机型号”的 Value 栏设置电机型号

## 注 :
注意电机型号若在铭牌上找不到，可以联系 Kinco 的售后获得。
如果电机铭牌的的 Motor Code 不是数字，可以参照 电机参数cdi文件使用方法 进行配置。
1677662380129-0e06e93f-6170-4a8e-8023-43278609ea66.png

## 图4.2.1
## 【初始化驱动器参数】
选择“驱动器 D”“初始化/保存/重启”打开操作界面，
依次选择“存储电机参数”--“初始化控制参数”--“存储控制参数”--“重启”。
1677662396124-e03cfa4b-d818-46f1-86f2-2f78a6ca96da.png

## 图4.2.2

注 : 完成初始化参数操作后，需要按上面的步骤存储控制参数才能将参数保存在驱动器中。
## 步骤三：配置CAN通讯参数 ★★★
## 【CAN Node ID配置】
选择“驱动器 D”“驱动器配置”；
修改“设备站号”的 Value 分别给驱动器给予不同的 CAN Node ID ,一般双轮差动机器人，左边的驱动器编号为 ID 1 ,右侧驱动器编号为 ID 2 。
1677662481898-1ecc832a-9e09-4513-8f78-e77ba889346e.png

## 图4.3.1

## 注 :
需要确定驱动器是否带拨码键盘配置 ID ，如果有，那么拨码键盘的优先级要高于软件配置，请根据驱动器上的丝印直接通过拨码键盘配置，修改设备站号即修改驱动器的 CAN Node ID ，只有拨码键盘无效时软件修改才起效。同一条CAN总线上的 CAN Node ID 不可重复。
1677662496683-02919697-4fcf-439a-a596-35e8a740293d.png

## 图4.3.2

## SW3

## SW2

## SW1

## 二进制码

## CAN(node) ID

## OFF

## OFF

## OFF

## 000

## EEPROM(软件配置有效）

## OFF

## OFF

## ON

## 001

## 1

## OFF

## ON

## OFF

## 010

## 2

## OFF

## ON

## ON

## 011

## 3

## ON

## OFF

## OFF

## 100

## 4

## ON

## OFF

## ON

## 101

## 5

## ON

## ON

## OFF

## 110

## 6

## ON

## ON

## ON

## 111

## 7
## 表4.3.1

## 【CAN通讯看门狗参数及波特率配置】
选择“驱动器 D”“ ECAN 配置 ”“其他”，
选择“节点保护时间”将驱动器看门狗保护时间更改为 100 ，
选择“节点保护时间系数”将驱动器看门狗保护时间系数更改为 3,
选择“ CAN 波特率”将驱动器 CAN 波特率更改为 250KHz ,
选择“通讯中断模式”将驱动器中断模式更改为 1。
## 如下图 所示：
1677662413013-b273e2dc-7321-4068-af29-65028a4cec0b.png

## 图4.3.3

## 注：
调试窗口 8 中的 25 代表 CAN 波特率 250KHz。
## 如果要配置125KHz，填写12.5
## 如果要配置500KHz，填写50
## 如果要配置1000KHz，填写100

注：波特率和CAN ID配置是最基础的配置，如果配错，会导致驱动器通讯超时，控制器会报52111。
## 步骤四：清IO配置 ★★★★
## 选择“驱动器D”“数字IO设置”
## 清空所有数字输入DIN配置
1677662428437-32521b8a-0afc-41ac-a344-aefe504be8af.png

## 图4.5.1.1

注：机器人开机后对驱动器数字输入 DIN 先做一遍全部清空的操作，所以请勿设置其他 DIN 功能！用户在此设置的 DIN 功能届时无效。
## 【急停配置】
### 急停接线可以按NPN或者PNP两种接法：
若是 NPN 型（低电平触发） ：将所有驱动器的 COMI 并联后接入 DCDC 24V+ 输出；将所有驱动器 IN1 并联后连接 SRC2000 急停输出 1+(TE35 4 号线），将另一根急停输出 1-（TE35 5 号线）连接 DCDC 24V- 输出；
若是 PNP 型（高电平触发） ：将所有驱动器的 COMI 并联后接入DCDC 24V- 输出；将所有驱动器 IN1 并联后连接 SRC2000 急停输出 1+(TE35 4 号线），将另一根急停输出 1-（TE35 5 号线）连接 DCDC 24V+ 输出。
### 通过报文形式配置，急停线接对即可，无需进行额外配置
### 步骤五：确保步科工作稳定的配置 ★★★★★
## CAN 节点自动开启
选择“驱动器 D""对象字典",
将驱动器的 Keba PLC 模式（2340_0D）调整至打开状态， Value 配置为“ 1 ”。

### 注：打开驱动器 Keba PLC 模式，不配可能通讯不上
1677662528213-0e7909aa-1727-45ef-87f8-3c7d16f7fa32.png

## 图4.6.1.1
## 关闭驱动器上的 PDO 配置
通过“驱动器 D"-->" ECAN 配置"-->" TPDO "/" RPDO ",
将 TPDO1--TPDO8 映射组改成 0 ，
将 RPDO1--RPDO8 映射组改成 0 。
1677662544610-14c14729-eeaa-49c4-9844-a1bb93e6f020.png

## 图4.6.2.1
## 屏蔽“实际误差超过允许”报错
## （1）打开驱动器D-》控制环-》位置环
### （2）将 最大跟随误差 改成 655360
1684205368186-aa7d1531-484e-4707-a5da-288191d2af43.png

## 图4.6.4.1

### 步骤六：配置驱动器工作模式 ★★★★★★
## 速度模式相关配置
## 【配置速度模式】
针对不适用于舵角控制器的驱动器，都是配置成速度模式。
选择“驱动器 D““基本操作”,
“工作模式选择0”将驱动器工作模式更改为“速度模式”，
## 配置方式如下图所示：
1677662443944-204de3db-b989-41ea-820d-bd0a432afaf0.png

## 图4.5.1.2

注：配置窗口 15 行中的 -3 即表示速度模式，配置成功后第 0 行有效工作模式将也变为 -3

## 【驱动器清错】
### 目前仅速度模式支持驱动器清错功能，如图所示：
1677662460823-56331537-9abb-44c9-89a6-8841990f301d.png

## 图4.5.1.3

## 注：
【 复位故障】功能目前仅速度模式支持，且需配置在 DIN4中 ，不可复用；
若驱动器硬件版本无 DIN4，请检查 DIN4 的实际输入是否为低电平（按钮灰色），若是低电平，可以配置使用【复位故障】功能，若是高电平，不支持。
由于步科驱动器不同版本 IO 电平处理不同，故此处需人工验证判断是否可用
### 舵轮配置方法一 （推荐）（绝对值编码器位置模式）
### 急停线接 IN1，功能设置为【紧急停止】

注：使用绝对值编码器电机作为舵角控制在造车便利性方面要优于使用增量式编码器的电机，因此优先推荐这种舵轮方案。
### 因为编码器不同，按4.2/4.3配置后会有报错，查看故障
## 点击驱动器D
## 选择故障显示
查看故障状态，发现编码器UVW故障或内部故障前面的指示灯为红色。
## 如下图所示：
1677662914590-3981bcab-9e79-4eb7-a5bf-340e74d6db00.png

## 图 4.5.2.1
## 【修改编码器数据复位，处理报错】
## 点击驱动器D，基本操作
## 将通讯编码器数据复位 1改为 10
## 如下图所示：
1677662931082-107525f6-96b4-4a56-a990-e94d03571ec7.png

## 图 4.5.2.2
## 点击存储控制参数
## 点击重启，会看到错误消失
## 如下图所示：
1677662948565-ddb5087b-b9ee-4fd7-a202-cc70d5df46a7.png

## 图 4.5.2.3
## 【设置回零模式】
选择驱动器D，控制模式，原点模式；
## 设置原点模式35
## 设置上电找原点2
## 如下图所示：
1677662981160-0491770b-30da-470d-b64f-95ed2b3f58df.png 

## 图 4.5.2.4

## 【修改梯形加速度和梯形减速度】
选择驱动器D，基本操作；
## 将梯形加速度修改成 280rps/s
## 将梯形减速度修改成 280rps/s
## 如下图所示：
1677663000919-b74043d4-564b-4c96-bb3c-409b2ce4d632.png

## 图 4.5.2.5

## 注：
如果设置完成之后，操作舵轮转向时候，发现转向机构声音很大或者出现过流的问题，请将梯形加速度、梯形减速度调整到280rps/s，如果发现调整到280rps/s，仍然会出现这种抖动和异响的情况，请继续减小梯形加速度和梯形减速度（最小应该为200） 
此时应该注意，梯形加速度和减速度过小会导致转向电机转速过慢，影响到位精度。舵角转速不要小于80度/秒

## 【标零操作】
选择驱动器D，基本操作；
选择工作模式3，写入控制字 103f ，给定一个目标速度，建议是一个比较小的速度，例如 50rpm ，会看到舵轮在慢慢的转动。
### 肉眼确定这是一个机械零位（可能有偏差），将目标速度设为0

## 注：要找一个机械参照点，来确定零位
## 如下图所示：
1677663031029-1b20464c-275a-440d-b1e2-cc1a2a4bc8d0.png

## 图 4.5.2.6
此时将工作模式改为6，伺服实际的位置就是0了。
如果在上面的操作中，实际零位位置相差较大，可以将目标速度设置为一个负速度，将舵轮转回去，继续上面4个步骤操作，将标零的零位确定在机械零位上面
## 【配置软限位正设置、软限位负设置】
注意： 由于绝对值编码器电机的没有限位开关，所以电机可以旋转 360° ，如果我们要限制电机旋转的角度，就要配置软限位正设置、软限位负设置，当做限位来使用。
## 如何设置软限位的值？
明确需要配置的角度值 α ，一般可以配±120度。
明确电机的编码器线数 encoderLine （模型文件中填的steer Motor的 编码器线数），明确整个机构的减速比 reductionRatio 。
配置的参数为： α / 360° * 4* encoderLine * reductionRatio 。
## 打开驱动器D
## 打开对象字典
搜索软限位（607D_01)，找到软限位正设置，将需要配置的参数输入，点击 enter 键确认。
1677663069206-c344cadf-6d17-45c4-855c-1d2710431584.png

## 图 4.5.2.7
找到软限位负设置（607D_01)，将需要配置的参数的相反数输入，点击 enter 键确认。
1677663087317-602744b3-cfc0-4843-b469-96de4d4a5ac9.png

## 图 4.5.2.8

## 存储控制参数，并重启
### 到这里完成绝对值编码器下的位置模式相关参数配置了

### 舵轮配置方法二 （不推荐）（增量式编码器位置模式）

### 注 ：急停线接 IN1，功能设置为【紧急停止】
按照4.2章节，完成软件的连接、电机参数的设定、驱动器参数初始化；
按照4.3章节，完成驱动器“看门狗”，波特率，驱动器 ID 的设置；
## 【驱动器 I/O】

## 【限位开关】
一般使用增量式编码器电机的舵轮上会左右两个限位开关，以防止舵轮不停朝一个方向旋转而缠绕线缆。
第一步确认限位开关的线序，一般传感器的线序为：棕正，蓝负，黑信号。 此处线序需要向厂家确认。
第二步将其中一个限位开关当作回零开关，接DIN2，另外一个限位开关接入 IN3，（IN3 功能配置为 正限位 还是 负限位 根据实际使用情况选择配置），确认舵角电机的限位开关是 NPN 还是 PNP。 下面提到不同类型传感器的两种接法：
若是 NPN 型（低电平触发） ：将驱动器的 COMI 并联后接入 DCDC 24V+ 输出；限位开关的信号脚接驱动器的IN2和IN3；
若是 PNP 型（高电平触发） ：将驱动器的 COMI 并联后接入DCDC 24V- 输出；限位开关的信号脚接驱动器的IN2和IN3。
舵角电机的急停也要和限位开关接法保持一致。

1677662631048-d4955f58-1ae5-49b8-97b0-b7372d82538c.png

## 图4.5.3.2
1677662644921-021e307e-4b98-4023-9dd9-9df23abefeaf.png

## 图4.5.3.3
## 【设置回零模式（原点模式）】
根据有无限位开关零位开关选择。
1677662658969-367362a6-87ae-4680-9118-a830d9b1491d.png

## 图4.5.3.4
### 企业微信截图_17118777955629.png

### 企业微信截图_17118778925597.png

## 图4.5.3.5
## 【修改回零速度】
### 根据使用需求设置找零速度，注意勿超过额定转速
1677662691561-6bf12702-7611-4c5e-adbe-0ee1c01fbda7.png

## 图4.5.3.5
## 【修改找零方向】
根据找零需求选择初始找零方向，修改为 1 即可反向，默认值是 0；
1677662714581-87f07f9a-b0af-4888-9b27-f8c4e679a5d8.png

## 图4.5.3.6
## 【修改位置模式舵机执行舵角的速度】
按照实际使用情况调整加减速度大小。

### 注：此处修改速度无效，机器人开机会下发默认速度
1677662830145-35da4cce-a070-4318-bb45-768c8000fb3b.png

## 步骤七：保存配置  ★★★★★★★
## 【下载配置参数到驱动器】
选择“驱动器 D”“初始化/保存/重启”打开操作界面，
依次选择“存储控制参数”“存储电机参数”“重启”。
1677662565229-212f7344-e886-4c53-8a20-7e62e50df766.png

## 图4.6.5.1

注：为了保证驱动器的设置是完全正确的，请配置完后关闭上位机软件，然后重新打开上位机软件，对参数再次核对。

## Model 文件配置说明

Roboshop 版本是 2.0.X（固件版本为 1.8.X 及以下），请参考机器人模型图 5.1 所示。Roboshop  版本是 2.1.X（固件版本为 1.9.X 及以上），请参考机器人模型图 5.2 所示。

## Key

## Description

## Value

## Unit

## x

## 驱动器安装的X坐标

## 根据实际安装位置填写

## m

## y

## 驱动器安装的Y坐标

## 根据实际安装位置填写

## m

## yaw

## 驱动器安装的朝向

## 根据实际安装位置填写

## 度

## canID

## 驱动器的的CANID

## 根据驱动器上位机配置决定

## maxRPM

## 驱动器最大转速

## 根据电机参数填写

## RPM

## encoderLine

## 编码器线数

## 根据电机编码器参数填写

## canPort

## 驱动器使用的端口

## 根据实际接线填写

## brand

## 驱动器品牌

## Kinco-FD-CANOpen

## wheelRadius

## 轮半径

## 根据实际情况填写

## m

## reductionRatio

## 减速比

## 根据减速机构参数填写

## inverse

## 反向

## 一般左电机转向为方向

1677663118565-530685c5-3ee1-4ceb-8fb7-bb8704193e4e.png

 图 5.1                                             图 5.2

注：减速比、编码器线数、电机最大转速、驱动器品牌需要根据选用的实际填写； 编码器线数可以通过驱动器调试软件查看电机编码器参数配置
## encoderLine
### 增量式编码器填 2500 ，绝对值编码器填 16384
1677663132774-dd8c5a0e-5082-47d9-aeed-59afb825b2d0.png

## 图 5.3

注：该条encoderLine配置说明，仅适用于步科驱动器，其他品牌不通用
## currentFactor
电机电流系数配置方法， currentFactor配 1 / (2048 / (Ipeak / 1.414));
其中驱动器峰值电流（Ipeak），步科常用型号Ipeak值如图5.5，请查表如实配置;
如OD124S系列，currentFactor = 1 / (2048 / (36 / 1.414)) = 0.012431488684582744
1677663150058-e3f54db1-615e-4c12-875b-a7f2757d8ab7.png

## 图 5.4
1677663163029-e70bd08d-37a9-4ea1-8da3-69c6cf9ea921.png

1677663175823-b426f0e1-3584-448d-b03c-6e502924aecf.png

## 图 5.5

## 舵轮相关模型配置

注：保证模型文件对应的驱动器配成 steer ，否则会出现 I/O 烧写不进去的情况
1677662613045-49e0b7dc-b0da-434c-89ae-67996c115861.png

## 图 4.5.3.1

如果找零完成后零位不满足使用要求，模型文件中按照需求设置舵角偏置，正确设置最大最小舵角。
1677662846493-929d3f8b-cdef-42b8-82cb-52ea86dbaa13.png

位置速度配置如图：设置值为 30 ，默认为 -1 .
1677662878507-dc548dd5-166e-4897-9086-bab0c45918f9.png 

## steer 模型文件的配置

注：使用绝对值编码器的舵角电机，将模型文件中的【resetMode】 选择为【none】 如下图
1677663103586-a67d66c4-5355-4f5f-bf6c-69269d0b9478.png

## 图 4.5.2.9

【 resetMode 】此处选择【 resetByDriver 】 

注：使用增量式编码器的舵角电机，将模型文件中的【resetMode】 选择为【resetByDriver】 如下图
1677662863550-3e527025-9115-431a-937d-a0d6c7702e9f.png

## 驱动器功能检测方法
在整车组装完成未安装外壳前，请再检查一遍接线确保接线正确；
将车体加高，使轮子离地。开启机器人，使用网线连接机器人。使用Roboshop单电机模式，一一调试电机，确认正确运转。
未拍急停按钮前，推动机器人，无法转动轮子（电机使能），检查 Roboshop 中机器人状态处于“未急停”“驱动器未急停”，如图 6.1 左侧图所示；所示拍下急停按钮后，可以转动轮子（电机去使能），检查 Roboshop 中机器人状态处于“已急停”，“驱动器已急停”。如图 6.1 右侧图所示；
1677663188481-0a751fbe-e933-459f-baf7-bff708003d7e.png 

## 图 6.1
使用 Roboshop 软件操作机器人让轮子转起来。测试一定时间，确认CAN 报文无错误；
让车体着地，使用 Roboshop 软件操作机器人做运动动作:向前，向后，向左，向右运动；
任务链运动老化测试 24H ，查看 Robokit Log 无错误报警。
## 步科驱动器信息速查
## 驱动器常见错误码

## Bit 15

## Bit 14

## Bit 13

## Bit 12

## Bit 11

## Bit 10

## Bit 9

## Bit 8

## 存储器
## 报警

## 电机励磁
## 报警

## 电机高温
## 报警

## 脉冲频率过高报警

## 电机或驱动器 IIt 报警

## 逻辑低压
## 报警

## 位置误差过大报警

## 吸收电阻报警

## Bit 7

## Bit 6

## Bit 5

## Bit 4

## Bit 3

## Bit 2

## Bit 1

## Bit 0

## 驱动器
## 过流
## 报警

## 驱动器
## 低压
## 报警

## 驱动器
## 高压
## 报警

## 驱动器
## 高温
## 报警

## 编码器
## 计数
## 报警

## 编码器 UVW 连接报警

## 编码器 ABZ 连接报警

## 内部错误报警
## 举例：
移除驱动器的编码器线，Roboshop 报警显示报错码“ 0x6 ”,如下图所示。对应二进制为“ 0110 ”， Bit 1 ,Bit 2 为“ 1 ”,查看对照驱动器实时报警错误状态，确认报警错误为“编码器 ABZ 连接报警”，“编码器UVW连接报警”。
1677663376091-60f14b68-66f5-4002-b6aa-34a4fc58bb29.png

## 图 8
## 1.9.72 以上版本错误码以下图为准
1677663390216-75eda6b8-0edc-4d7c-abac-c8d8ed214ecc.png

### 步科伺服驱动器错误码详细说明表及排查方法

### 步科伺服错误详细说明表 20201225.xlsx

## Kinco 驱动器固件升级方法
因为 Kinco FD124-CA-000 步科已停产，但是市面上依然有一些流通旧版本，如果固件版本日期早于 20191231，建议按照如下方法更新驱动器固件：
## Kinco 驱动器固件升级方式
注：固件升级完毕后，需要重新配置驱动器参数。若控制驱动器/电机行走电机噪音很大，请联系 Kinco 技术支持调整速度环、电流环增益参数。
## 电机参数cdi文件使用方法
部分电机是不能通过配置电机型号的方式选择参数的，比如铭牌电机代码为G4
1686205950184-beff549a-c411-4536-aa86-5265372ce282.png

## 图 7.3.1
此时需要联系步科要电机的配置参数，配置参数的格式为 .cdi 格式，该参数导入步骤如下图
1686205876120-a0a41801-bf29-4a51-b1f8-7b44783f194f.png

## 图 7.3.2
## 驱动器配置方法二
针对驱动器配置方法二，驱动器初始化成功可用上位机选择【驱动器 D】【数字 IO 设置】检查 DIN 功能及当前状态确认物理线路是否连接正常，如图 7.7.1 所示：
1677663362172-5ea0c9c8-44b8-47b1-a976-ecb7abfae880.png

## 图 7.4.1
## FAQ
## 带抱闸驱动器拍急停时下滑
## 打开抱闸配置
1677663544769-8657cd4e-d285-457a-bb0b-c6fa33886fa0.png

垂直带抱闸结构，结构刚性差，打开抱闸配置后仍会出现下滑时，需调节驱动器PID和抱闸延时，下图为参考值，如果无法解决，请联系步科工程师协助调试解决
1677663565001-4746ea81-e583-47b0-9e5d-48132cd6787d.png

### 报错“0x8611-实际跟随误差超过允许”
## 检查如下配置是否成功
## （1）打开驱动器D-》控制环-》位置环
### （2）将 最大跟随误差 改成 655360
1684205368186-aa7d1531-484e-4707-a5da-288191d2af43.png

## 消除驱动器电流音
通过 roboshop 手动控制，是否正常运动，若不正常请检查以上步骤；若正常请进行下步：通过“驱动器 D"-->"控制环"-->"速度环",逐渐放大速度环比例增益（建议最终值在300-400，每次设置后进行第9步保存参数等）至电机静止或外力推动时发出较大电流声后，将该值降低些许至不发出电流声即可。
1677662590166-403dc24d-5501-4e8f-9a76-13c7637caeb3.png

注：如果没有电流音则不需要改这个配置。
