# ISMC驱动器（纯霍尔无编码器）

## ISMC驱动器（纯霍尔无编码器）

## 版本

## 更新日期

## 更新说明

## 文档状态

## 维护责任人

## V1.0

### 2024.4.29

## 语雀迁移至飞书

## 使用中

## 一、适用范围
本文适用于ISMC驱动器（纯霍尔无编码器版）调试与配置。
### 二、调试资源
## 驱动器手册：

3_ISMC_伺服驱动器CANopen通讯使用手册_V1.3-20220418131433.pdf
## ISMC调试文档
## ISMC产品调试培训文档
## ISMC相关参数备份（供参考）
## 调试软件：
## ISMC上位机
### 三、驱动器配置
该配置方法仅适用于纯霍尔无编码器的CANopen协议的ISMC伺服驱动器。
### 3.1 行走驱动器配置方法（速度模式）

## 1. 软件的连接、电机参数的设定、驱动器参数初始化；
1677650243826-612d1169-acb1-4c8c-b384-47c8776515b8.png

## 如果连接成功，如图下图所示：
1677650270488-8307a03e-e95c-47da-9dd3-8ebf3ac63d41.png 

### 2. 写入编码器分辨率电机参数
1677650291066-dc1acfc1-b158-45d5-a6e7-f0e0012aeb69.png 

注：纯霍尔无编码器的ISMC的驱动器的编码器的分辨率为30.
## 写入相关通信参数
1677650311915-c0e03683-80ae-4ada-8d30-4b4950b4c4d2.png 

在索引中搜索2004和2401（电机的ID配置根据实际使用选择）
1677650333007-ee8f079b-9c2e-48ae-825f-2f6563cfc2a7.png

### 四、Model 文件配置说明

## Key

## Description

## Value

## Unit

## x

## 驱动器安装的X坐标

## 根据实际安装位置填写

## m

## y

## 驱动器安装的Y坐标

## 根据实际安装位置填写

## m

## yaw

## 驱动器安装的朝向

## 根据实际安装位置填写

## 度

## canID

## 驱动器的的CANID

## 根据驱动器上位机配置决定

## maxRPM

## 驱动器最大转速

## 3000

## RPM

## encoderLine

## 编码器线数

## 根据实际情况填写

## canPort

## 驱动器使用的端口

## 根据实际情况填写

## brand

## 驱动器品牌

## ISMC_LVSI-CANOpen

## wheelRadius

## 轮半径

## 根据实际情况填写

## m

## reductionRatio

## 减速比

## 根据实际情况填写

1677650351293-c3e36413-3278-499e-b175-35c651a9b083.png

### 五. 附录
### 5.1 致远 CAN Scope 使用方法
软件安装--安装 CAN Scope 配套软件 CANScope 。（软件及使用手册请联系致远厂商售后）。
硬件连接--参考 CAN Scope 使用手册接好电源，USB 调试线，插上 CAN Port 板,将 CAN_H 接到 SRC2000 外接线束 TE35 33 号线上，将 CAN_L 接到 SRC2000 外接线束 TE35 32 号线上。USB 调试线插在电脑上。
打开软件 CANScope ，选择【Port 板】，取消【启用终端电阻】，选择【报文】，配置【波特率】为 250Kbps ,取消【总线应答】，选择【开启】，CAN 报文实时如图 7.4.1 所示：
1677650371976-2e525061-63b4-4c8b-b03a-4bdcba4d3667.png

## 图 7.4.1
选择【状态】【错误】，检查是否有错误报文。如图 7.4.2 所示。
1677650391783-adef303b-8ada-4452-a1bd-88573bcfa766.png

## 图 7.4.2
### 5.2 USB CAN 卡使用方法
软件安装—安装软件 USB_CAN Tool （软件及使用手册请联系CAN卡厂商售后）。
硬件连接—准备 USB CAN 卡和连接线，将连接线 CAN_H 接到 SRC2000 外接线束 TE35 33 号线上，将连接线 CAN_L 接到 SRC2000 外接线束 TE35 32 号线上。如图 7.5.1 所示：
1677650406673-6195c1cb-b83e-4051-9e61-06cf7ee19abb.png 

## 图 7.5.1

打开 USB CAN tool ,选择【设备操作（O）】【启动设备（S）】,确认 CAN 参数，【波特率】为 250Kbps ,选择【CAN 通道号】为通道 1,点击【确认】。如图 7.5.2 所示
1677650424652-0f795a4a-45fb-4745-b153-83c598156123.png

## 图 7.5.2
### 4.选择【显示（V）】，取消选择【合并相同 ID 数据(M)】，CAN 报文如图 7.5.3 所示：
1677650443755-33acff69-ff9b-4df2-8bd1-bb46f574e3ef.png

## 图 7.5.3
### 5.3  udpconsole 使用方法
udpConsole 是我司工程师用于调试 bug 开发的小工具，可以检查到固件上报的错误信息。
打开 udpconsole 工具前需用网线确保电脑与机器人的物理连接。
打开 udpconsole ，进行驱动器功能测试，时刻检查 udpconsole 显示内容。
### 驱动器通讯过程中出现错误帧如图 7.6.1 所示：
1677650463873-0c08a6b3-81b8-42a8-b3b9-37d4f457bc7e.png

## 图 7.6.1
### 六、驱动器常见错误码
1677650481668-f2f83bd2-a9e8-4eda-9388-42219507dcbe.png

1677650505576-087b794a-e132-4364-85b4-50fdf9cc6e64.png

1677650530892-4fbf0b7e-1e59-41c1-92f6-5cea705d9ee5.png

1677650553530-8bfdf9b5-56e1-481b-86eb-14e03c82c29a.png

1677650580254-e13ecbd6-fdac-49ec-9608-95fbe0007068.png

1677650602542-f8513427-6870-4b1e-a5f7-26a3bc96f01e.png

1677650620603-cf596c33-4574-4fe4-882f-344c613224d8.png

## 七：FAQ
多个电机的表现不一致。
纯霍尔无编码器的驱动器精度非常低，联系驱动器厂商将电机的表现尽可能调成一致。
### 驱动器报0x2310,0x2311过载相关错误
检查电机的过载能力。
