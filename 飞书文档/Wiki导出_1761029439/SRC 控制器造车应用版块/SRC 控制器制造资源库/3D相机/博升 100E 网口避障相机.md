# 博升 100E 网口避障相机

## 博升 100E 网口避障相机

## 版本

## 更新日期

## 更新说明

## 文档状态

## 维护责任人

## V1.0

### 2024.3.25

## 语雀迁移至飞书

## 停用

## V1.5

### 2024.6.28

## 添加必要资源和 IP 配置方案

## 使用中

## @胡青
## 阅读本文之前需要了解的知识和注意点：
如何修改电脑网卡的 IP 地址；
如何使用 Ping 指令测试某个 IP 的可连通性；
基础弱电知识；
Roboshop 的基本使用方法；
要求使用 RBK3.4.6。* 及以上版本；
本文档适用于 博升光电 的 iHawk100E 相机。

## 使用场景
## 推荐场景
障碍物检测：最小为 6*6*6cm 体积的物体检测；
## 不适用场景
检测小于 6*6*6cm 体积的物体检测；
检测不锈钢镜面物体；
在强自然光照射的环境下检测障碍物；
## 配合的控制器信息
## 可以配合使用的控制器系列
## SRC-2000 I
## SRC-2000 F
### SRC-3000（注意，传感器本身不具备功能安全等级）
## SRC-880
## 传感器信息
img_v3_02br_932fc69a-119d-4ae6-8917-490b8a0e35cg.jpg

## 工作原理：3D 结构光
## 测量距离：0.3～4m
## 深度精度：±1mm@60cm
接口：M12 4 芯（Ethernet）/M12 8 芯（电源、信号）
## 供电电压：DC 12V （9～36V）
## 激光波长：940nm
### FOV: 72°(±3°) x 50.5°(±3°)
## 产品规格书：

### iHawk100E_产品规格书_V1.7.pdf
## 所需调试资源、工具
## 设置软件，软件使用介绍

## V2.0.122.rar

### BerxelTool简单使用说明.pdf
压缩包中包含 windows 平台和 Linux 平台下的上位机软件；
## 网络设置软件

## WinPcap_4_1_3.exe
调试电脑；
直流电源 12V/24V。
## 安装和接线
## 机械安装
在低于 15cm 高度时，相机水平或斜向上角度安装，避免地面强回波对相机成像的干扰
## 以下为相关 3D 模型

iHawk100E 3D模型20220830_V1.0.stp
## 电气连接

## 参数配置和调试

在相机本体上完成的设置主要为是为了将相机的 IP 地址设置为与控制器内部网络相同的 192.168.192.xxx 网段。
## 前提准备工作
## 硬件连接、调试软件安装和供电
使用直流电源给相机供电，将相机网口连接至调试电脑网口。下载调试软件，解压后安装。选择资料包中对应的安装软件，记住安装的路径。安装完成后桌面出现调试工具的快捷方式。
## image.gif

## 测试相机
相机默认 IP 为 192.168.10.8，将所使用的电脑网卡 IP 设置为同网段双击快捷方式打开上位机后，应该可以在界面左上角（图 6-1 中框 1）发现设备，如果没有发现设备请检查设备供电和与所使用电脑的网线连接情况。如果出现对应设备 IP，点击连接按钮（图 6-1 中框 1），应该可以连接相机。
## image.png
## 图 6-1 连接界面

 勾选深度和彩色选项（图 6-2 框 1）后，点击开流按钮（图 6-2 框 2）应该可以打开图像显示
## image.png
## 图 6-2 相机连接后界面

图 6-3 显示了正确连接相机且开流之后的正常界面状态。
## image.gif
## 图 6-3 相机工作界面

至此，可以确认相机本体正常。
## 修改相机 IP
## 打开修改工具并设置 IP
打开上位机安装软件目录：安装目录路径\Berxel\BerxelSDK\Samples\bin，在目录中找到并打开 HawkNetDeviceConfigure 工具。打开后界面如下图。在下拉菜单中（图 6-3 框 1）选择与相机连接的网卡设备，并点击“打开设备”
## image.png
## 图 6-3 工具界面

### 可以看到当前相机的网络设置状态如下图，点击“设置”选项卡
## image.gif
## 图 6-4 相机网络设置状态

将相机设置为静态 IP，并在 192.168.192 网段，IP 避免与其他设备冲突，子网掩码使用 255.255.255.0，点击确定。稍等 30S 左右，等待相机重启完成。
## image.gif
## 图 6-5 设置相机为静态 IP

## 注意：
### 如果发现下拉框中没有任何内容，可以安装下面驱动后重试

## WinPcap_4_1_3.exe
## 确认 IP 修改成功
首先将电脑 ip 修改为 192.168.192 网段，并重复 6.1.2 章节的步骤，确认可以打开相机。至此相机侧的设置完成。
## 设置相机模型文件

## m0wJcaaSJq.jpg
### 图 6-6 Roboshop 模型文件中设置界面

rbk3.4.6 之后的博升 100E 在 roboshop 上的配置界面如上图所示，相机品牌【brand】选择【Berxel-USB】。因为博升 SDK 同时兼容网口和 USB 两种型号，所以品牌统一使用【Berxel-USB】即可。相机配置参数如下：
serialNumber           : 相机序列号，通过相机标定的方式配置。具体可参考：
## USB接口的3D避障相机
depthWidth               : 点云分辨率宽度，默认是 320
useForObstacleAvoidance : 避障功能启用选项，勾选才启用避障功能
useForHasBinDetect          : 货物有无检测启用选项，勾选才启用货物有无检测功能
maxLength                 : 最远检测距离
### horizontalEndAngle   ：水平结束角度
verticalStartAngle      ： 垂直起始角度
verticalEndAngle       ： 垂直结束角度
isUpside                     : 正反转，当相机安装姿态与相机默认的正向一致为正装，需要勾选，否则为反装不需要。
## 相机外参标定请参考：
## 3D避障相机标定
