# RDS 协议选型指导

## RDS 协议选型指导
## 概述
目前 RDS 已经适配的通用协议有：HTTP 协议、ModbusTCP 协议、MC 协议、OPC-UA、Websocket 协议等等，相关的说明如下所示。
（ RDS 不适配总线协议！！！例如 ModbusRTU、ModbusASCII、RS485、RS232 等等 ）

## 协议类型

## 推荐等级

## 备注

## HTTP

## ★★★★

已经应用于大量项目，可以传输多种类型，且结构复杂的数据。
RDS 仅支持基于 RESTful 架构的 HTTP 协议，首推 JSON 格式的数据，当然也支持 XML 格式的数据。

## ModbusTCP

## ★★★

已应用于大量项目，但是相比于适配的 HTTP 协议，此协议存在如下弊端：
ModbusTCP 协议只能传输数值类型的数据，应用场景单一；
部分项目用到的 PLC 程序是由第三方实现的，PLC 程序的稳定性未知， 会影响项目的交付工作 。
相比于 PC、工控机，普通 PLC 的性能有限，可能无法进行高频的数据传输，或者无法承担大量数据交互造成的负载， 会影响项目的交付工作 。（ RDS 要求 PLC 自身的刷新频率，不低于 200ms/次。 ）

## OPC-UA

## ★★

目前仅应用于少量项目。
RDS 适配此协议之后，仅作为客户端（Client），如果对方选择此协议的话，需要对方自己提供此协议的服务端（Server）。
KEPServer 这个工具作为服务端的模拟器（并非唯一工具），目前我们用破解版进行测试的， 破解版功能不稳定（付费版的功能是稳定的） ，只能用于模拟测试，不能用于生产环境 。
若客户强制要求我们提供破解版 KEPServer 的部署服务， 则必须提前向客户进行免责声明 。

## Websocket

## ★★

目前仅应用于少量项目。
RDS 适配此协议之后，仅作为服务端（Server），如果对方选择此协议的话，需要对方自己提供此协议的客户端（Client）。目前支持RDS与客户端之间进行数据的相互接收和发送。

## MC
## (Melsec)

## ★★

三菱，目前仅应用于个别项目，RDS 适配的稳定性待验证。
目前仅支持二进制格式的 MC 协议 ，不支持 ASCII 格式的 MC 协议。可参考 此 Coding 的记录 。

## MQTT

## ★

目前仅应用于个别项目，RDS 适配的稳定性待验证。

## FINS

## ★

欧姆龙，目前几乎还未应用于项目中，RDS 适配的稳定性待验证。

## S7

## ★

西门子，目前几乎还未应用于项目中，RDS 适配的稳定性待验证。

## TCP/IP

## 不推荐

TCP/IP 协议的报文的格式不固定，RDS 无法进行适配，但是 RDS 的在线脚本中开放了操作 socket 数据的脚本方法，具体使用说明详见《RDS 脚本开发实战教程》中的 “3.10 TCP 使用案例”。
相比于前面可推荐的协议而言，适配 TCP/IP 对开发人员的技能要求较高，目前绝大部分交付工程师无法承担此工作，因此不推荐。
解决办法可参考下方单元格的 Step1 和 Step2 。

## 其他 网络协议

## 不推荐

Step1：按照推荐等级，向对方推荐我们已经适配过的协议。
Step2：若对方始终坚持使用 RDS 未适配过的协议，则收集协议相关的资料，并提交到新建的 Coding，再由研发去评估适配此协议的可行性。 资料包括但不限于：协议格式、示例展示。
