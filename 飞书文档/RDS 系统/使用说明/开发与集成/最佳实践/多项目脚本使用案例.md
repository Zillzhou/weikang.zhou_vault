# 多项目脚本使用案例

## 多项目脚本使用案例
## 一、软件更新
需要将 RDS 更新到 rds-F1.9.87-B1.8.40 及以上，Core 更新到 0.1.9240112(x86_64) 及以上。
### 二、作用
多脚本目的将独立业务脚本按照不同项目目录分开独立运行，每个业务脚本可以独立的启动、停止不相互影响。
注意：虽说时独立运行，但运行在同一台服务器中，以下资源是公用的：
脚本注册的接口，必须唯一（在各个脚本都需要唯一）；
全局缓存变量也是公用的，因为存在同一张数据表中；
### 三、功能介绍
### 进入 RDS 页面，切换到【在线脚本】页面
### 企业微信截图_17119543452709.png

## 图一
如图一所示，默认系统会初始化 boot 项目目录，不可删除，由老版本升级至此功能，如果原先有 js 脚本文件默认会放置此目录下。 右侧下拉选可以选择对应项目目录后可以启动、停止对应脚本。文件目录上的按钮，也可以启动、停止脚本。如果仅有 boot 目录，使用方法和以前保持一致
### 3.1 新增按钮
## 点击【新增按钮】弹出图二弹框
### 企业微信截图_17119552175521.png

新增文件目录，目录名称不要用特殊字符包含空格，为了避免中文乱码建议全英文
## 导出
导出可以右键目录，导出指定目录的脚本文件，点击【导出】按钮导出所有的文件目录的脚本
### 3.2 多项目脚本使用
注意：此处不涉及注册的接口，由于各个目录中注册接口都是唯一的，使用方法和以前一致
## 系统事件
### 企业微信截图_17119568165315.png

## 图三
### 企业微信截图_17119566497411.png

## 图四
图三、四均注册了系统事件 taskStopped(天风任务终止时触发) ，并且都已启动运行
### 企业微信截图_17119568747183.png

### 在终止任一个天风任务两个项目的脚本的系统终止事件都触发了
### 天风任务如果调用非 boot 目录下的脚本
### 企业微信截图_17119578091316.png

## 图五
### 企业微信截图_17119578635654.png

## 图六
如图五、六所示，如果需要在天风任务中使用非 boot 目录下的脚本方法，需要运行对应的目录，并且在天风任务中用boot.项目名.方法名的形式调用，如图五：boot.seer.print，boot是固定前缀，seer是文件目录名，print脚本方法名，简称：脚本系统（boot）目录（seer）下的脚本方法（print）。
### 手持端调用非 boot 目录下的脚本方法
## operator:
## # 需求单配置
## demandTask:
    # 是否启用需求单功能，true:启用，false:禁用，默认为禁用
## enable: true
## # 手持端需求单标签页的名称
## tabName: 需求单
    # 是否显示需求单中的删除按钮，true:显示，false:隐藏，默认为隐藏
### showDeleteButton: false
## # 需求单响应方法配置
## processFuncList:
## # 需求单数据的名称
### - defLabel: chooseSite
### # 需求单详情页点击"下单"后，对应的脚本响应方法名
        funcName: boot.seer.findSiteByGroupName
### 企业微信截图_17119586712041.png

## 图七
上述是需求单的一段配置（需求单配置使用详见脚本实战教程），需求单下单时执行图七 seer 目录下的findSiteByGroupName脚本方法。调用方式如天风任务中一样用 boot.项目名.方法名。因此在pda配置中使用其他目录下的脚本方法均如此调用。

### 四、现场在线脚本和天风任务案例合集

## RDS项目案例包.zip
