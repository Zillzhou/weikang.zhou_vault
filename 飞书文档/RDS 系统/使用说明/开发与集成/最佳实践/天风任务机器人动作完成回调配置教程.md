# 天风任务机器人动作完成回调配置教程

## 天风任务机器人动作完成回调配置教程
## 1.打开 Roboshop，进入调度编辑器，选择 模型文件 。按以下内容配置。
1684313829378-b3fe3213-157e-4852-bc2f-b580a3ebaa5f.png

### 这些属性的含义详见链接：动作块状态变化回调
### 2.新建一个天风任务，按以下方式填写。动作完成回调的填写内容为上图中的HttpPost的 设备名 属性。
1684479747138-259e4631-0faa-4bad-b107-64112118497e.png

### 3.打开在线脚本，填写以下代码。保存，运行。
## function boot(){
### // rds 接受 core 动作完成接口
    jj.registerHandler("POST", "/script-api/Receiver1", "Receiver1", false);

## }

### function Receiver1(param){
## // 打印core 发的信息
     jj.scriptLog("INFO","Receiver1","Receiver1--"+param)
       var response = new ScriptRepsonseEntity();
## return  response
## }

### class ScriptRepsonseEntity {
## //rds 返回请求的响应体
## constructor() {
        this.code = 200;
        this.body = "OK";
## }
## }
4.运行天风任务，看到机器人执行任务，去第一个点完成动作以后，切换到在线脚本页面，可以看到系统日志显示接收到了回调信息，该回调信息与 roboshop 中填写的 includedFields 和 additionalJSON 一致。去第二个点完成动作以后，会收到第二条回调信息。
1684480000426-85269c35-4da0-4382-8b7b-59c1719a7376.png
