# U盘安装 Ubuntu 镜像

## U盘安装 Ubuntu 镜像
以 DELL T150 服务器为例，安装 Ubuntu1804 系统。
ISO 镜像文件： 由于 18.04 官方不再支持，请从官方下载最新版本 24.04 LTS。
## 制作启动盘
这里使用的是 Ventoy 工具制作 U盘 启动盘，你也可以使用其他支持 ISO 镜像安装的方式。
下载： 📎ventoy-1.0.93-windows.zip
下载后点击"Ventoy2Disk.exe"，打开软件，在"设置"一栏将识别出 U盘 盘符和名称，然后点击"安装"，注意此操作会格式化 U盘。接着将镜像直接复制到 U盘 中即可开始安装系统了。
1705062174844-f7c241ca-938e-4010-9245-9f83b1d1f751.png 

1705062063933-6e231de3-f883-4918-83d8-a5c27891d176.png

## 开机进入 boot
将 ISO 文件装入 U盘 启动盘，开机进入启动界面后，当左上方显示不同的选项后，点击 F11 进入 Boot Manager 。
1704679903146-bd09c11b-1ce4-4387-ae7f-a71bc0c2f0e9.jpeg

1704679912080-ed9cb4e0-c6ea-4185-a2ec-8782284046e9.jpeg

## 选择 U盘 启动
F11 选择后，选择 "One-shot UEFI Menu" 选项，进入之后在选择 "Disk connected from USB" 选项，这个选项的最后的名字就是 U盘 的名称。
1704680124311-a659feb0-3c48-469d-b9cc-979c903cb155.jpeg 

1704680121112-72ff3e5d-4aec-4b00-b3fd-15cf613450cf.jpeg

## 安装模式选择
选择对应的 ISO 镜像文件回车，进入 mode 选择，选择 Boot in grub2 mode ，回车。
1704684257045-dd583c03-1190-42d1-9cd6-4e4eb68cb751.jpeg

1704684251278-b32e0376-83c1-451c-bc7d-8dfcd883017f.jpeg

### 选择 "Boot system installer"
1705304930047-9860edce-5feb-4b6c-b68f-3b3ed992d225.jpeg

## 进入预安装环境
ISO镜像启动盘启动系统安装后，首先进入预安装系统，密码是 "sr"。
1704680287468-ce8c2922-f154-49f9-b585-42aac243d3de.jpeg

## 设置系统信息
输入密码后稍等片刻，进入系统安装界面，这是你即将安装的系统信息输入你需要的用户名称，及 root 密码等信息，这里默认都使用的是 "sr"， 最后一项 "hostname" 是计算机名称，按照实际需求填写即可 。
1695275269217-61b04043-a696-4761-840b-269e80f87bf5.png

## 分配空间
点击 "Next" 进入下一步分区界面，示例以 1T 硬盘为例进行分区，请根据使用的实际硬盘大小设置分区( 如果是全新的硬盘没有进行过分区，也就是界面上不会显示下图中的 sda1，sda2...，而是会显示 sda?，显示 sda? 请直接跳转到第4步 )，下图中 dev/sda( 1-5，实际你可能看到1到多个分区 ) 是需要重新分配的区域，总可用大小 931.51GB，不同电脑的名称以及序号、数量都可能不同，请根据硬盘大小或者实际名称来区分。 图中 /dev/sdb 是 U盘，不要在 U盘 上进行任何操作。
1695275269974-3a7e582a-e2f7-4771-b14d-f4ab4aee82a2.png 

第三步：点击第一行 /dev/sda 选择右侧操作菜单中的 删除按钮 !Delete!（此操作会格式化硬盘） 操作完成后，5个 分区将合并成一个新的分区 /dev/sda? ，如下图，总大小 931.51GB 未分配的硬盘。
1695275270709-ec4f62ba-aa3d-457c-aa14-a4c7fbea0ed8.png

第四步：点击 /dev/sda? 所在行，右侧会显示 "Create new" 字样，修改分区大小为 512MiB 后，点击绿色左方向箭头，表示分配一个 512MB 大小的分区，之后就会在左侧多出一个 /dev/sda1 大小 512MB 的分区。
1695275271329-95b3174f-b3c2-4434-964c-47d183285664.png 

1695275272137-3911eee4-4099-4db9-9480-f2355efa00e8.png

第五步：按照上一步方法再次点击左侧 /dev/sda? 继续创建分区，需要创建其余 4个 分区，加上上一步创建的分区，总共 5个 分区，大小分别是 512MB，256MB，32GB，100GB，和剩余全部空间(此处示例剩余是 798.76GB，当剩下最后一个分区时，分配时不需要在右侧 "Create new" 输入分区大小，直接点击绿色左方向箭头即可将剩余全部空间分配到最后一个分区，即 /dev/sda5 )，如下图所示，分配了 5个 区域就不再有 /dev/sda? 。
1695275272828-c98e1c7d-f3bf-47ac-a855-59aa37577d2b.png 

第六步：点击 /dev/sda1 512MB 分区，在右侧 Mount point 下拉框选择 /boot ，点击绿色左方向箭头便把 sda1 分区分配给 /boot 系统引导分区，如此分配剩余 4个 区域，256MB 给 /boot/efi EFI系统分区；32GB 给 SWAP 系统内存扩展分区，此分区一般是系统内存的两倍，示例服务器内存是 16GB，因此此处分配 32GB 给 SWAP 分区；100GB 给 /home 分区；剩余分配给 / 分区，由于 rds、core等系统服务均使用的是 / 分区，不占用其他分区，所以尽可能分配大一点，如果服务器需要在 /home 分区安装 rds 之外的其他应用，也可适当调整 /home 分区的大小，根据实际应用情况分配 home 和 / 的比例即可。 
1695275273438-2add6bf6-5134-4927-b23a-dd70588f7279.png

1695275273962-14c42332-7320-4ea2-8ec8-87ef25bb4048.png 

第七步：调整之后的效果如上图所示，接着在 上图 中左下方勾选 Transfer user confguration and data files ，注意是 对勾样式 (此处存在其他勾选方式，注意甄别)。点击 Next 后，进行最后一步安装操作，点击 Start 开始安装，如下图所示。
1695275274642-e50d53ff-a8d8-47ca-ac0c-1f1199f506bb.png

安装结束后，等到界面上出现安装完成的英文提示，拔掉U盘，点击键盘上的 "Enter"，重新启动服务器即可。
